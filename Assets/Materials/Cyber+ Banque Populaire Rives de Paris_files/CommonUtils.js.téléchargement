var ate=window.ate||{};function sanitizeCssSelectors(e){return(e=e.replace(/[^a-z0-9αινσϊρό \.,_#\[\]='\":-]/gim,"")).trim()}window.ate=ate,ate.createNS=function(e){var t=e.split("."),n=ate;"ate"===t[0]&&(t=t.slice(1));for(var i=0;i<t.length;i++){var o=t[i];void 0===n[o]&&(n[o]={}),n=n[o]}return n},ate.createNS("ate.common.utils"),ate.common.utils.window=function(){var e=null;return{openWindow:function openWindow(t,n,i,o,a,r){if(""!=t&&null!=t){var l,c,u=null==a?"titlebar=yes, location=no, toolbar=no, menubar=no, scrollbars=yes, directories=no, status=no, resizable=yes":a;u+=null!=e?e:"";var g=getPortalWindow().document.getElementsByTagName("HTML")[0];null!=g?(l=g.clientWidth>800?.75*g.clientWidth:800,c=g.clientHeight>600?.75*g.clientHeight:600):(l=screen.width>800?.75*screen.width:800,c=screen.height>600?.75*screen.height:600),u+=",width="+(null!=n?n+"px":l+"px"),u+=",height="+(null!=i?i+"px":c+"px");var s=o;null!=s&&(s=s.replace(/[''. -]/gi,"_"),s=encodeURI(s));var d=t;null!=r&&1!=r||(d=getPortalWindow().addTokenParameter(t,s));var m=window.open(d,s,u);try{m.focus()}catch(e){}}},setSeleniumWindowFeature:function setSeleniumWindowFeature(t){e=t},getDocumentWindow:function getDocumentWindow(e){return e.defaultView?e.defaultView:e.parentWindow}}}(),ate.common.utils.document=function(){function isAppleProduct(){return-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod")||-1!=navigator.platform.indexOf("iPad")}return{download:function download(e,t,n){if(null!=e&&e.length>0){var i=null!=n&&"DD"==n,o=getPortalWindow().buildActionURI(i?"ShowDocument.do":"DownloadDocument.do");if(null!=(o=getPortalWindow().addURIParam(o,"documentId",e))&&o.length>0)if(i)o=getPortalWindow().addURIParam(o,"documentName","skin:DocumentViewer"),ate.common.utils.window.openWindow(o,null,null,t);else if(null!=getPortalWindow().DPW_INTEGRATION)isAppleProduct()?window.open(o):(getPortalWindow().isUnloadForDownloadAction=!0,getPortalWindow().applicationPanel.location.replace(o));else{var a=getPortalWindow().applicationPortalContent.applicationPanel;null!=a&&(isAppleProduct()?window.open(o):(getPortalWindow().isUnloadForDownloadAction=!0,a.location.replace(o)))}}}}}(),ate.common.utils.inputControl=function(){function getDocumentSelection(e,t){var n="";if(e.selection)void 0===(n=e.selection.createRange().text)&&(n=e.selection.createRange().textContent);else if(!(n=e.getSelection().toString())||""==n){var i=null!=t?t.tagName.toLowerCase():"";"input"!=i&&"textarea"!=i||(t.selectionStart||"0"==t.selectionStart)&&(n=t.value.substring(t.selectionStart,t.selectionEnd))}return n}return{autoTab:function autoTab(e,t,n){var i=e.maxLength,o=e.tabIndex,a=t.keyCode?t.keyCode:t.which,r=-1;if("selectionStart"in e)r=e.selectionStart;else if("selection"in document){e.focus();var l=document.selection.createRange(),c=document.selection.createRange().text.length;l.moveStart("character",-e.value.length),r=l.text.length-c}if(i&&o&&r&&r==i&&9!=a&&16!=a&&37!=a&&39!=a||i&&e.value.length==i&&13==a){var u=o+1,g=n.getElementsByTagName("INPUT");if(g)for(var s=0;s<g.length;s++){var d=g[s];if(d.tabIndex==u){d.select();break}}}},getMaxDigitsRemaining:function getMaxDigitsRemaining(e,t){var n=ate.common.utils.window,i=ate.common.utils.stringOperation,o=n.getDocumentWindow(e).getMsgUtil().getMessage("DECIMAL_SEP"),a=-1,r=0,l=0,c=0;if(t.getAttribute("nbDigits")>-1){for(var u=0;u<t.value.length;u++){var g=t.value.charCodeAt(u);i.isDigit(g)?-1==a?l++:r++:t.value.charAt(u)!=o&&t.value.charAt(u)!=DEFAULT_DECIMAL_SEP||(a=u)}c=-1==a||function getCursorPosition(e){if(document.getSelection)return e.selectionStart;var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""==t.text?e.value.length:e.value.lastIndexOf(t.text)}(t)<=a?t.getAttribute("nbDigits")-t.getAttribute("nbDecimals")-l+i.onlyDigitsString(getDocumentSelection(e,t)).length:t.getAttribute("nbDecimals")-r+i.onlyDigitsString(getDocumentSelection(e,t)).length}return c},replaceSelectedText:function replaceSelectedText(e,t,n){if(e.selection)e.selection.createRange().text=n;else{var i=null!=t?t.tagName.toLowerCase():"";if(("input"==i||"textarea"==i)&&(t.selectionStart||"0"==t.selectionStart)){var o=t.value,a=t.selectionStart;t.value=o.substring(0,a)+n+o.substring(t.selectionEnd),t.selectionStart=t.selectionEnd=a+n.length}}}}}(),ate.common.utils.stringOperation=function(){function isDigit(e){return function matchRegExp(e,t,n){if(void 0!==t&&void 0!==e){var i=new RegExp(e,n);return null!=t.match(i)}return!1}("^[\\d]$","number"==typeof e?String.fromCharCode(e):e)}return{isDigit:isDigit,onlyDigitsString:function onlyDigitsString(e){for(var t="",n=0;n<e.length;n++){isDigit(e.charCodeAt(n))&&(t+=e.charAt(n))}return t},purgeString:function purgeString(e,t){for(var n="",i=null==e?0:e.length,o=0;o<i;o++){var a=e.charAt(o);-1==t.indexOf(a)&&(n+=a)}return n},clean:function clean(e,t){for(var n="([",i=0;i<t.length;i++)n+=t[i];return n+="])",e.replace(new RegExp(n,"g"),"")}}}(),ate.common.utils.event={cancel:function cancel(e){e.preventDefault?e.preventDefault():e.returnValue=!1}};
//# sourceMappingURL=CommonUtils.js.map
