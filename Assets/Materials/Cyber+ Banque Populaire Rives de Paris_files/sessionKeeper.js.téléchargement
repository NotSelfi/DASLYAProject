var SESSION_KEEPER=null;function SessionKeeper(e,i,s,t,o){this.sessionTimeoutCookieName="sessionTimeoutAlert",this.sessionTimeoutAlertDelay=null==i||i<=0?15:i,this.sessionTimeoutAlertTimeCheckInterval=null==s||s<=0?120:s,this.keepAlivePages=e,this.alertMessage=null==t||""==t?"Votre session va bientôt expirer, souhaitez-vous la conserver ?":t,this.logOffCallback=o,this.start=function(){this.initSessionTimeoutAlertCookie(),null!=window.sessionTimeOut&&clearTimeout(window.sessionTimeOut),window.sessionTimeOut=setTimeout("SESSION_KEEPER.checkSessionTimeoutAlertTime();",1e3*this.sessionTimeoutAlertTimeCheckInterval),jQuery.ajaxSetup({complete:function complete(){SESSION_KEEPER.start()}})},this.initSessionTimeoutAlertCookie=function(){var e=new Date;e.setMinutes(e.getMinutes()+this.sessionTimeoutAlertDelay),setCookie(this.sessionTimeoutCookieName,e.getTime())},this.checkSessionTimeoutAlertTime=function(){var e=getCookie(this.sessionTimeoutCookieName);null!=e&&"null"!=e&&(new Date(parseInt(e))>new Date?this.resetSessionTimeout():(this.resetSessionTimeout(),this.alertSessionTimeout()));null!=window.sessionTimeOut&&clearTimeout(window.sessionTimeOut),window.sessionTimeOut=setTimeout("SESSION_KEEPER.checkSessionTimeoutAlertTime();",1e3*this.sessionTimeoutAlertTimeCheckInterval)},this.alertSessionTimeout=function(){new Date;setCookie(this.sessionTimeoutCookieName,"null"),confirm(this.alertMessage)?(this.resetSessionTimeout(),this.initSessionTimeoutAlertCookie()):null!=this.logOffCallback&&this.logOffCallback()},this.resetSessionTimeout=function(){null!=this.keepAlivePages&&jQuery(this.keepAlivePages).each((function(e,i){jQuery.ajax({url:i,cache:!1,complete:function complete(){}})}))}}
//# sourceMappingURL=sessionKeeper.js.map
