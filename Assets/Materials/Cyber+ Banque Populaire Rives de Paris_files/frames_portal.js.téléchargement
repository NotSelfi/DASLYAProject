var TW=getPortalWindow,private___PW___=null;function getPortalWindow(t){if(null!=private___PW___)return private___PW___;var n=null;if(null!=t)n=t.parentWindow.top;else if(void 0!==window.dialogArguments&&null!=window.dialogArguments)n=window.dialogArguments.getTopWindow();else try{for(var e=window;null!=e&&null==n;)"EQUINOXE"==e.name||"EQUINOXE"==e.id||e.name==e.parent.name?n=e:e=e.parent}catch(t){"info"==window.name?n=window.parent.parent.parent:("applicationPanel"==window.name||"controlPanel"==window.name)&&(n=window.parent.parent)}return null!=n&&(private___PW___=n),n}var UPW=getUniversePanelWindow;function getUniversePanelWindow(){try{var t=getPortalWindow();return null==t?null:t.frames.applicationPortalContent}catch(t){return null}}var APW=getApplicationPanelWindow;function getApplicationPanelWindow(){try{var t=getUniversePanelWindow();if(null==t)return null;var n=t.frames.applicationPanel;return null==n?t:n}catch(t){return null}}var APD=getApplicationPanelDoc;function getApplicationPanelDoc(){try{var t=getApplicationPanelWindow();return null==t?null:t.document}catch(t){return null}}var CPW=getControlPanelWindow;function getControlPanelWindow(){try{var t=getUniversePanelWindow();return null==t?null:t.frames.controlPanel}catch(t){return null}}var CPD=getControlPanelWindowDoc;function getControlPanelWindowDoc(){try{var t=getControlPanelWindow();return null==t?null:t.document}catch(t){return null}}var PHW=getPortalHeaderWindow;function getPortalHeaderWindow(){try{return TW().portalHeader}catch(t){return null}}var WDI=getWatchDogIframe;function getWatchDogIframe(){try{return TW().portalHeader.watchDog}catch(t){return null}}function doPrint(){var t=TW();null!=t&&t.doPrint(APW())}function cleanUpEvents(){var t=TW();null!=t&&t.cleanUpEvts(window)}var documentHeightWatcher=null;function DocumentHeightWatcher(){this.document=null,this.initHeightValue=0,this.controlTime=0,this.intervalId=null}function watchDocumentHeight(t){null!=documentHeightWatcher&&documentHeightWatcher.unwatch(),(documentHeightWatcher=new DocumentHeightWatcher).watch(t)}function getHeightNodes(t){if(null==t)return null;for(var n=0,e=t.body.children.length,a=0;a<e;a++){var i=t.body.children[a];null!=i&&(isNaN(i.offsetHeight)||(n+=parseInt(i.offsetHeight)))}return n}function computeIframeHeight(t,n){var e=t.style?t.style:t;try{if(t.contentWindow.document){var a=t.contentDocument?t.contentDocument:t.contentWindow.document,i=getContentHeight(a),r=getHeightNodes(a);parseInt(r)>parseInt(i)&&(i=r),e.height=i+"px",null!=TW()&&TW().computeAppPortalHeight()}else setIframeDefaultHeight(e,n)}catch(t){setIframeDefaultHeight(e,n)}}function setIframeDefaultHeight(t,n){t.height=n,null!=TW()&&TW().computeAppPortalHeight()}function isRunningInDefaultPortal(){return!0}function setHashChangeListener(t){var n=t.contentWindow?t.contentWindow:null;null!=n&&(n.addEventListener?n.addEventListener("hashchange",(function(){TW().computeIframeHeight(t)}),!1):n.attachEvent&&n.attachEvent("hashchange",(function(){TW().computeIframeHeight(t)}),!1))}DocumentHeightWatcher.DOC_RESIZE_TIME_STEP=100,DocumentHeightWatcher.DOC_RESIZE_TIME_ADMISSION=15e3,DocumentHeightWatcher.heightWatcher=function(){null!=documentHeightWatcher&&(+new Date-documentHeightWatcher.controlTime>=DocumentHeightWatcher.DOC_RESIZE_TIME_ADMISSION?documentHeightWatcher.unwatch():getContentHeight(documentHeightWatcher.document)>documentHeightWatcher.initHeightValue&&(null!=TW()&&TW().computeAppPortalHeight(),documentHeightWatcher.unwatch()))},DocumentHeightWatcher.prototype.constructor=DocumentHeightWatcher,DocumentHeightWatcher.prototype={watch:function watch(t){this.intervalId=window.setInterval(DocumentHeightWatcher.heightWatcher,DocumentHeightWatcher.DOC_RESIZE_TIME_STEP),this.initHeightValue=getContentHeight(t),this.document=t,this.controlTime=+new Date},unwatch:function unwatch(){null!=this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,this.initHeightValue=null,this.controlTime=null)}};
//# sourceMappingURL=frames_portal.js.map
