function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(a){return typeof a}:function _typeof(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function DatalayerManager(a,e){var t={},r={},n=a;this.addClientsDatas=function(a){t=y(a,t);var e=y(t,c());s(e),this.debug("DatalayerManager.addClientsDatas - Datalayer is : ",n.datalayer)},this.removeClientDatas=function(){t={},this.setSpecifiqDatalayer({},!1),this.debug("DatalayerManager.removeClientDatas - Datalayer is : ",n.datalayer)},this.resetToDefaultDatalayer=function(){s(r),this.debug("DatalayerManager.resetToDefaultDatalayer - Datalayer is : ",n.datalayer)},this.setSpecifiqDatalayer=function(a,e){var o=e?c():y(t,r),i=y(a,o);s(i),this.debug("DatalayerManager.setSpecifiqDatalayer - Datalayer is : ",n.datalayer)},this.refreshDatalayer=function(){s(c()),this.debug("DatalayerManager.refreshDatalayer - Datalayer is : ",n.datalayer)},this.setDynamicDatalayer=function(a,e,t,r){var f=null,u=null;if(null!=(u=r?n.applicationPortalContent.applicationPanel.document:APW().document)&&(f=u.getElementById("myForm")),f){var d={},D=Object.keys(a);D.forEach((function(e){var t=a[e];o(f,e,t,d)})),(D=Object.keys(e)).forEach((function(a){var t=e[a];i(f,a,t,d)})),(D=Object.keys(t)).forEach((function(a){var e=t[a].tabId,r=t[a].cellId;l(u,f,a,e,r,d)}));var p=y(d,c());s(p)}this.debug("DatalayerManager.setDynamicDatalayer - Datalayer is : ",n.datalayer)};var o=function setDynamicDatalayer_ForSimpleField(a,e,t,r){var n=a.elements[t];n&&["checkbox","radio"].indexOf(n.type)>=0?r[e]=n.checked:n&&n.value&&(r[e]=n.value)},i=function setDynamicDatalayer_ForCodeList(a,e,t,r){for(var n=0,i=t+"_"+n;a.elements[i];)o(a,e+"."+i,i,r),i=t+"_"+ ++n},l=function setDynamicDatalayer_ForFieldInTab(a,e,t,r,n,i){var l=a.getElementById(r);if(l&&l.rows)for(var y=0;l.rows[y];y++){var f=n+y;o(e,t+"."+f,f,i)}},y=function addDataToObject(a,e,t){var r=f(e);try{Object.keys(a).forEach((function(e){if(void 0===t||-1===e.indexOf(t)){var n=e.split("."),o=n.pop(),i=r;n.forEach((function(a){void 0===i[a]&&(i[a]={}),i=i[a]})),i[o]=a[e]}}))}catch(a){console.log("DatalayerManager # Error : ",a)}return r},f=function deepCopy(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(e.has(a))return e.get(a);var t=a instanceof Array?[]:{},r=Object.assign(t,a);e.set(a,r);var n=Object.keys(r);return n.forEach((function(t){"object"==_typeof(r[t])&&(r[t]=deepCopy(a[t],e))})),r},c=function getDatalayer(){return n.datalayer},s=function setDatalayer(a){n.datalayer=a,"undefined"!=typeof APW&&null!=APW()&&(APW().datalayer=a),"undefined"!=typeof CPW&&null!=CPW()&&(CPW().datalayer=a)};this.debug=function(a,e){false},function registerDefaultDatalayer(a){r=y(a,{}),s(r)}(e)}
//# sourceMappingURL=datalayerManager.js.map
