var FORM_TARGET="__FORM_TARGET__",WEBAPP_REROUTING_AUTO_SUBMIT_JSP="ibp/ate/skin/internet/pages/webAppReroutingAutoSubmit.jsp";function startWebAppTask(t,e,n,i,o,r,u){startWebAppTaskCommon(t,e,n,i,o,r,!1,u)}function startWebAppTaskOnTopWindow(t,e,n,i,o,r,u){startWebAppTaskCommon(t,e,n,i,o,r,!0,u)}function isNGAgentWebApp(t){var e=!1;if(null!=t)for(var n=0;n<t.length;n++){var i=t[n];"method"==i.key&&"NGAGENT"==i.value&&(e=!0)}return e}function startWebAppTaskCommon(t,e,n,i,o,r,u,a){if(null!=e){var l=!1;null!=i&&null!=i.getElementById(t)&&(l=!0);var m=null!=o,s=null==i,p=n;if(isNGAgentWebApp(p)){p=[];for(var d,b=new Map,T=0;T<n.length;T++){(c=n[T]).key==FORM_TARGET?p.push(c):"ngAgentEquinoxeUrl"==c.key?(c.value=location.origin+c.value,p.push(c)):"ngAgentAppCode"==c.key?d=c.value:"method"!=c.key&&b.set(c.key,c.value)}new NGAgentServer(window).initFromEquinoxe(d,b)}var A;if(s)A=addURIParam(buildURI(WEBAPP_REROUTING_AUTO_SUBMIT_JSP),"oid",a),window.open(null!=p?"":A,t),i=document;if(null!=p){null==i&&(i=document);var h=i.createElement("form");h.action=e,h.method="get",u?h.target="_top":s||l?h.target=t:m||null==TW().isRunningInDefaultPortal||TW().isRunningInDefaultPortal()||null==TW().isIntegratedTaskContainer||TW().isIntegratedTaskContainer()||(h.target="_top");var c=null,g=null,f=null;for(T=0;T<p.length;T++)"method"==(c=p[T]).key?h.method=c.value:c.key==FORM_TARGET?u||(h.target=c.value):(f=o&&o==c.key?completeReturnURLFromCurrentLocation(c.value,r):c.value,(g=i.createElement("input")).name=c.key,g.type="hidden",g.value=f,h.appendChild(g));s||null!=i.body||i.createElement("body"),i.body.appendChild(h),h.submit()}s&&setTimeout("if (LastWin!=null) LastWin.focus();",1),null!=getPortalWindow().prt&&null!=getPortalWindow().prt.alertTimeoutDelay&&initSessionAlertTimer()}}function completeReturnURLFromCurrentLocation(t,e,n){var i=t,o=n||window;if(null!=i&&0==i.indexOf("/")){var r=o.location.pathname.split("/"),u=o.location.protocol+"//"+o.location.host;if(e)for(var a=0;a<r.length;a++)if(""!=r[a]){u+="/"+r[a];break}i=u+i}return i}function SubmitForm(t,e,n){this.submitForm=document.createElement("form"),this.submitForm.setAttribute("method",n),this.submitForm.setAttribute("id","postSubmitNewForm"),this.submitForm.setAttribute("name","postSubmitNewForm"),this.submitForm.setAttribute("action",t),this.submitForm.setAttribute("target",e),document.body.appendChild(this.submitForm),this.addHiddenField=function(t,e){var n=document.createElement("input");n.setAttribute("name",t),n.setAttribute("value",e),n.setAttribute("type","hidden"),this.submitForm.appendChild(n)},this.submit=function(){this.submitForm.submit()}}SubmitForm.POST_METHOD="post",SubmitForm.GET_METHOD="get";
//# sourceMappingURL=formUtils.js.map
