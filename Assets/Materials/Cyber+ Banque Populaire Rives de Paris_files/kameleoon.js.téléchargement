if (undefined === window.Kameleoon){(function(){!function(e,t){e.kbowser=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,s+=1):"object"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:s.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));var APIConfiguration=function(){function e(e){this.generationTime=e.scriptProduceTime;this.goals=e.goals.map((function(e){return new APIGoal(e)}));this.singlePageSupport=Kameleoon.Internals.runtime.singlePageSupport;this.siteCode=e.siteCode}return e}();var APIAction=function(){function i(i,t){this.dateLaunched=i.dateStatusModified;this.dateModified=i.dateModified;this.id=i.id;this.name=i.name;this.targetSegment=new APISegment(i.targetingSegment);this.active=i.targeting&&!i.disabled&&i.displayedVariation&&null!=i.displayedVariation.id;this.triggered=i.targeting||!1;this.goals=Kameleoon.Internals.configuration.goals.filter((function(t){return-1!=(i.goals||[]).indexOf(t.id)})).map((function(i){return new APIGoal(i)}));this.untrackedTrafficReallocationTime=i.untrackedRespoolTime||null;var e=function(i){var t=Kameleoon.Internals.runtime.variations.filter((function(t){return t.id==i}));return t&&t[0]};var a=Kameleoon.Internals.runtime.Visitor.currentVisit;if("experiments"==t){this.mainGoal=i.kameleoonTracking&&i.kameleoonTracking.mainGoalId?new APIGoal(Kameleoon.Internals.configuration.goals.filter((function(t){return t.id==i.kameleoonTracking.mainGoalId}))[0]):null;var n=e(i.registeredVariationId);this.associatedVariation=n?new APIVariation(n,i):null;this.trafficDeviation={};this.variations=[];this.redirectProcessed=i.redirectProcessed||!1;for(var r in i.deviation){this.trafficDeviation[r]=100*i.deviation[r];this.variations.push(new APIVariation(e(parseInt(r)),i))}var o=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","experimentsTriggered",{});this.triggeredInVisit=o[this.id]?!0:!1;this.activatedInVisit=a.ExperimentActivations[this.id]?!0:!1}else{this.mainGoal=new APIGoal(Kameleoon.Internals.configuration.goals.filter((function(t){return t.id==i.mainGoalId}))[0]);this.associatedVariation=new APIVariation(e(i.associatedVariation.id),i);var s=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","personalizationsTriggered",{});this.triggeredInVisit=s[this.id]?!0:!1;this.activatedInVisit=this.triggeredInVisit&&a.PersonalizationActivations[this.id]?!0:!1}}return i}();var APIActionActivation=function(){function i(i,n,t){var e;var a;if("experiment"==i){this.times=t.ExperimentActivations[n].times;this.experimentID=n;e=Kameleoon.Internals.runtime.experiments.filter((function(i){return i.id==n}))[0];a=t.ExperimentActivations[n].associatedVariationID;this.experiment=e?new APIAction(e,"experiments"):null}else{this.times=t.PersonalizationActivations[n].times;this.personalizationID=n;e=Kameleoon.Internals.runtime.personalizations.filter((function(i){return i.id==n}))[0];a=t.PersonalizationActivations[n].associatedVariationID;this.personalization=e?new APIAction(e,"personalizations"):null}this.associatedVariationID=a;var o=Kameleoon.Internals.configuration.variations.filter((function(i){return i.id==a}))[0];this.associatedVariation=o?new APIVariation(o,e):null}return i}();var APIActions=function(){function n(n){var e=this;var t=n;var i=function(){if(Kameleoon.Internals.runtime)if("experiments"==t)return Kameleoon.Internals.runtime.experiments;else return Kameleoon.Internals.runtime.personalizations;else return[]};this.getAll=function(){return i().map((function(n){return new APIAction(n,t)}))};this.getActive=function(){return i().filter((function(n){return!0===n.targeting&&1!=n.disabled&&n.displayedVariation&&null!=n.displayedVariation.id})).map((function(n){return new APIAction(n,t)}))};this.getTriggeredInVisit=function(){return i().map((function(n){return new APIAction(n,t)})).filter((function(n){return n.triggeredInVisit}))};this.getActivatedInVisit=function(){return i().map((function(n){return new APIAction(n,t)})).filter((function(n){return n.activatedInVisit}))};var r=function(n,e){var r=i().filter((function(t){return t[n]==e}))[0];if(r)return new APIAction(r,t);return null};this.getById=function(n){return r("id",n)};this.getByName=function(n){return r("name",n)};if("experiments"==t){this.assignVariation=function(n,e,t){var r=i().filter((function(e){return e.id==n}))[0];if(r)if(void 0===r.registeredVariationId||t){r.registeredVariationId=e;r.assignmentTime=(new Date).getTime();r.writeLocalData()}};this.block=function(n,e){if(void 0===e)e=!1;var t=Kameleoon.Internals.runtime.experiments.filter((function(e){return e.id==n}));if(t.length>0){if(e){var i=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);i.push(n);Kameleoon.Internals.runtime.storedData.saveField("Runtime","blockedExperiments",i)}t[0].blocked=!0}};this.trigger=function(n,e){var t=Kameleoon.Internals.runtime.experiments.filter((function(e){return e.id==n}))[0];if(t)if(e){if(t){t.performVariationAssignment(!0);Kameleoon.Analyst.Actions.performActionsTracking([t])}}else{t.trigger();Kameleoon.Analyst.Actions.process([t])}};this.triggerExperiment=function(n,t){e.trigger(n,t)}}else{this.block=function(n,e){if(void 0===e)e=!1;var t=Kameleoon.Internals.runtime.personalizations.filter((function(e){return e.id==n}));if(t.length>0){if(e){var i=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedPersonalizations",[]);i.push(n);Kameleoon.Internals.runtime.storedData.saveField("Runtime","blockedPersonalizations",i)}t[0].blocked=!0}};this.disable=function(n){var e=i().filter((function(e){return e.id==n}))[0];if(e)e.disabled=!0};this.trigger=function(n,e){var t=Kameleoon.Internals.runtime.personalizations.filter((function(e){return e.id==n}))[0];if(t){t.exposition=!0;if(e){if(t)Kameleoon.Analyst.Actions.performActionsTracking([t])}else{t.trigger();Kameleoon.Analyst.Actions.process([t])}}}}}return n}();var APIGoal=function(){function i(i){if(i){this.id=i.id;this.name=i.name;this.type=i.type}}return i}();var APISegment=function(){function n(n){if(n){this.id=n.id;this.name=n.name}}return n}();var APITemplate=function(){function t(t,n){this.name=t;this.customFields=n}return t}();var APIVariation=function(){function i(i,e){if(void 0===e)e={};if(i){this.id=i.id;this.name=i.name;if(0===this.id)this.id="reference";if(null===this.id)this.id="none";if(e.experimentAction){var t=e.variations.filter((function(e){return e.id==i.id}))[0];this.reallocationTime=t?t.respoolTime:null}else this.reallocationTime=null;this.instantiatedTemplate=i.widgetTemplateInputData?new APITemplate(i.widgetTemplateName,i.widgetTemplateInputData):null}}return i}();var APIVisit=function(){function e(e){this.pageViews=e.timesStartedPages.length;this.duration=e.timeLastActivity-e.startDate;this.locale=e.locale;this.startDate=e.startDate;this.index=e.index;this.currentProduct=null;this.products=[];this.activatedExperiments=Object.keys(e.ExperimentActivations).map((function(t){return new APIActionActivation("experiment",parseInt(t),e)}));this.activatedPersonalizations=Object.keys(e.PersonalizationActivations).map((function(t){return new APIActionActivation("personalization",parseInt(t),e)}));if(e==Kameleoon.Internals.runtime.Visitor.currentVisit){this.device=new Device;this.geolocation=e.Geolocation;if(Kameleoon.Internals.runtime.mentalistRun){Object.defineProperty(this,"conversionPredictions",{enumerable:!0,get:function(){return Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(null)}});Object.defineProperty(this,"initialConversionPredictions",{enumerable:!0,get:function(){return Kameleoon.Mentalist.computeGoalConversionProbabilityPredictionByGoalId(null)}})}}this.conversions=Kameleoon.Utils.clone(e.conversions);this.interests=null;if(Kameleoon.Internals.runtime.Gatherer.interestsChecked){this.interests=[];for(var t in e.freshByActiveInterest){var n=Kameleoon.Internals.runtime.Gatherer.configuration.interests[t];if(null!=n)this.interests.push(n.name)}}this.customData={};var i=function(e,t){switch(e){case-2:return"true"===t;case-1:return t;default:return parseFloat(t)}};for(var a in e.countByValueByCustomDatum){var r=Kameleoon.Internals.runtime.Gatherer.configuration.customData[a];if(null!=r){var s=e.countByValueByCustomDatum[a];switch(r.type){case"LIST":var o=[];for(var l in s)o.push(l);this.customData[r.name]=o;break;case"COUNT_LIST":var u=[];for(var l in s)u.push({value:l,count:s[l]});this.customData[r.name]=u;break;default:this.customData[r.name]=i(r.numberValues,Object.keys(s)[0]);break}}}var c="<OTHER / UNKNOWN>";var m=[];var h=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrers",[]);for(var v=0,f=h.length;v<f;v++){var d=h[v];var p=void 0;if(0==d)p="<RESTART>";else{var I=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[d-1];p=null==I?c:I.name}m.push(p)}this.acquisitionChannel=m[0];this.landingPageURL=e.landingPageURL;this.weather=new APIWeather(e)}return e}();var APIVisitor=function(){function t(){this.getCustomDataVisitor=function(){var t={};for(var i in Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum){var e=Kameleoon.Internals.runtime.Gatherer.configuration.customData[i];if(null!=e&&!e.disabled)if("VISITOR"==e.scope){var n=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum[i];switch(e.type){case"LIST":var s=[];for(var r in n)s.push(r);t[e.name]=s;break;case"COUNT_LIST":var a=[];for(var r in n)a.push({value:r,count:n[r]});t[e.name]=a;break;default:t[e.name]=Object.keys(n)[0];break}}}return t};this.numberOfVisits=Kameleoon.Internals.runtime.Visitor.totalVisits;this.timeStartedEldestVisit=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit;this.customData=this.getCustomDataVisitor();this.personalizationsActive=Kameleoon.Internals.runtime.personalizationsActive;this.code=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;this.currentVisit=new APIVisit(Kameleoon.Internals.runtime.Visitor.currentVisit);this.visits=Kameleoon.Internals.runtime.Visitor.visits.map((function(t){return new APIVisit(t)}));this.previousVisit=Kameleoon.Internals.runtime.Visitor.visits.length>1?new APIVisit(Kameleoon.Internals.runtime.Visitor.visits.slice(-2)[0]):null;this.experimentLegalConsent=Kameleoon.Internals.runtime.Consent.AB_TESTING;this.personalizationLegalConsent=Kameleoon.Internals.runtime.Consent.PERSONALIZATION;this.firstVisitStartDate=Kameleoon.Internals.runtime.Visitor.timeStartedEldestVisit}return t}();var APIWeather=function(){function i(i){var e=i.Weather;this.temperature=e.temperature;this.humidity=e.humidity;this.pressure=e.pressure;this.windSpeed=e.windSpeed;this.cloudiness=e.cloudiness;this.sunrise=e.sunrise;this.sunset=e.sunset;this.conditionCode=e.conditionCode;this.conditionDescription=e.conditionDescription}return i}();var Analyst=function(){function Analyst(){var _this=this;this.initialize=function(e){_this.isTimeout=!1;if(window.kameleoonDisplayPage){if(null==Kameleoon.Internals.configuration.behaviorWhenTimeout||document.getElementById("kameleoonLoadingStyleSheet"))window.clearTimeout(window.kameleoonDisplayPageTimeOut);else if(null==window.kameleoonEndLoadTime)_this.isTimeout=!0;try{window.kameleoonDisplayPage(!0)}catch(e){}window.kameleoonDisplayPage=null}window.kameleoonEndLoadTime=(new Date).getTime();if(-1!=navigator.userAgent.indexOf("Chrome/62")){var n={x:window.scrollX,y:window.scrollY};document.documentElement.style.display="none";var o=document.documentElement.offsetHeight;document.documentElement.style.display="block";window.scrollTo(n.x,n.y)}e()};this.load=function(){Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"load",time:(new Date).getTime()});Kameleoon.Utils.runProtectedFunction((function(){if(window.kameleoonAddCustomAction){Kameleoon.Utils.runProtectedScript(window.kameleoonAddCustomAction,"kameleoonAddCustomActionScript.js");delete window.kameleoonAddCustomAction}if(window.kameleoonAddCustomGlobalScript){Kameleoon.Internals.configuration.globalScript=window.kameleoonAddCustomGlobalScript;delete window.kameleoonAddCustomGlobalScript}window.addEventListener("error",(function(e){if(e.error&&e.error.stack&&e.error.stack.match(/kameleoon/gi)){Kameleoon.Utils.Logger.send(e.error.stack,"kameleoon.js");return!1}}));Kameleoon.Analyst.initialize((function(){var e=Kameleoon.Analyst.checkBlockingElements();var n=window.kameleoonEndLoadTime-(window.kameleoonStartLoadTime||window.kameleoonEndLoadTime)-25;Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Loaded",{timeout:"TIMEOUT"==e,loadTime:n});Kameleoon.Internals.runtime=Kameleoon.Internals.runtime;if(Kameleoon.Internals.runtime)Kameleoon.Internals.runtime.clear();if(0==e.length){Kameleoon.Internals.runtime=new Runtime;Kameleoon.Analyst.loadKameleoonFull((function(){Kameleoon.Internals.runtime.run()}))}else{Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"abort",blockingReason:e});Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Aborted",{reason:e})}}))}))};this.loadKameleoonFull=function(e,n){if(!Kameleoon.Internals.runtime.kameleoonFull&&(_this.kameleoonFullNeeded()||n)){var o=function(n){var o=document.createElement("script");o.innerHTML=n+"\n;";o.innerHTML+="("+e.toString()+")()";o.innerHTML+="//# sourceURL=kameleoonFull.js";document.head.appendChild(o)};var t=sessionStorage.getItem("kameleoonFullApplicationCode");if(null!=t)o(t);else Kameleoon.Utils.performBeaconServerCall("https://"+Kameleoon.Internals.configuration.STATIC_HOST_NAME+"."+Kameleoon.Internals.configuration.DOMAIN+"/kameleoon-full.js?cache="+Kameleoon.Utils.obtainRandomString(16),(function(e){if(void 0===e.readyState||4==e.readyState&&200==e.status){sessionStorage.setItem("kameleoonFullApplicationCode",e.responseText);o(e.responseText)}}))}else e()};this.Actions=new Actions;this.Goals=new Goals}Analyst.prototype.checkBlockingElements=function(){var device=new Device;if("Internet Explorer"==device.browser&&device.browserVersion<=(Kameleoon.Internals.configuration.wideEngineSupport?10:12)||"Opera"==device.browser&&device.browserVersion<13)return"BROWSER";var noLocalStorage=!1;try{if(window.localStorage)localStorage.getItem("kameleoonPrivateMode");else noLocalStorage=!0}catch(e){noLocalStorage=!0}var noSessionStorage=!1;try{if(window.sessionStorage)sessionStorage.getItem("kameleoonPrivateMode");else noSessionStorage=!0}catch(e){noSessionStorage=!0}if(noLocalStorage||noSessionStorage)return"STORAGE";if(this.isTimeout){switch(Kameleoon.Internals.configuration.behaviorWhenTimeout){case"VISIT":sessionStorage.setItem("kameleoonDisabledForVisit","true");break;default:break}return"TIMEOUT"}document.removeEventListener("visibilitychange",Kameleoon.Analyst.load);if("prerender"==document.visibilityState){document.addEventListener("visibilitychange",Kameleoon.Analyst.load);return"PRERENDER"}if(-1!=location.href.indexOf("kameleoonDisabled"))return"PARAMETER";if(Kameleoon.Internals.configuration.kameleoonDisabled)return"DISABLED";return""};Analyst.prototype.getHeatMap=function(){window.kameleoonHeatMap()};Analyst.prototype.kameleoonFullNeeded=function(){if(sessionStorage.getItem("kameleoonFullApplicationCode")||sessionStorage.getItem("kameleoonLightExtension")||Kameleoon.Internals.runtime.parameters.kameleoon||Kameleoon.Internals.runtime.parameters.kameleoonVariationId||Kameleoon.Internals.runtime.parameters.kameleoonHeatMap||Kameleoon.Internals.runtime.parameters["kameleoon-simulation"]||Kameleoon.Internals.runtime.parameters.kameleoonLightExtension||Kameleoon.Internals.runtime.simulationMode)return!0;return!1};Analyst.prototype.loadSimulation=function(){var e=this;if(!Kameleoon.Internals.runtime.parameters.kameleoonVariationId)Object.keys(localStorage).forEach((function(e){if(-1!==e.indexOf("kameleoonVariation-"))localStorage.removeItem(e)}))};Analyst.prototype.loadVariationFromServer=function(variationId,variation){};Analyst.prototype.processSimulations=function(){};Analyst.CODE_ALPHABET="abcdefghijklmnopqrstuvwxyz0123456789";return Analyst}();var API=function(){function e(){var e=this;this.Core={enableLegalConsent:function(e){if(void 0===e)e="BOTH";Kameleoon.Internals.runtime.Consent.enable(e)},disableLegalConsent:function(e){if(void 0===e)e="BOTH";Kameleoon.Internals.runtime.Consent.disable(e)},enableSinglePageSupport:function(){Kameleoon.Internals.runtime.enableSinglePageSupport.apply(Kameleoon.Internals.runtime,arguments)},getConfiguration:function(){return new APIConfiguration(Kameleoon.Internals.configuration)},load:function(){Kameleoon.Analyst.load.apply(Kameleoon.Analyst,arguments)},processRedirect:function(){Kameleoon.Utils.processRedirect.apply(Kameleoon.Utils,arguments)},runWhenConditionTrue:function(n,t,o){if(void 0===o)o=200;if(n())Kameleoon.Utils.runProtectedFunction(t,!0);else if(!Kameleoon.Internals.runtime.pageLoaded)var r=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(r);e.Core.runWhenConditionTrue.apply(Kameleoon,[n,t,o])}),o,!0)},runWhenElementPresent:function(n,t,o){var r=!0;if("undefined"!==typeof o)r=!1;var a=Kameleoon.Utils.querySelectorAll(n);if(!Kameleoon.Internals.runtime.querySelectorAllHasError)if(0<a.length)Kameleoon.Utils.runProtectedFunction((function(){t(a)}),!0);else if(!Kameleoon.Internals.runtime.pageLoaded)if(Kameleoon.Internals.runtime.cantUseMutationObserver||!r)var i=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(i);e.Core.runWhenElementPresent.apply(Kameleoon,[n,t,r,o||200])}),o||200,!0);else Kameleoon.Internals.runtime.waitingElementPresentObjects.push({selector:n,callback:t,useAntiFlicker:r})}};this.Goals={cancelConversion:function(n,t){try{e.Goals.processConversions(n,t,!0)}catch(e){}},processConversion:function(n,t){try{e.Goals.processConversions(n,t,!1)}catch(e){}},processConversions:function(e,n,t){Kameleoon.Internals.runtime.goals.forEach((function(o){if(e==o.id||e==o.name){var r=[];r.push({goal:o,revenue:n,negative:t});Kameleoon.Analyst.Goals.processConversions(r)}}))}};this.Data={checkInterest:function(e,n,t){if(Kameleoon.Internals.runtime.gathererRun&&"object"==typeof e){var o=Math.random().toString();if(null==Kameleoon.Internals.runtime.checkImageCallbacks)Kameleoon.Internals.runtime.checkImageCallbacks={};var r=[];for(var a=0;a<e.length;++a)r.push({url:e[a]});Kameleoon.Internals.runtime.checkImageCallbacks[o]=function(e){if(n&&1==e)for(var o in Kameleoon.Internals.runtime.Gatherer.configuration.interests){var r=Kameleoon.Internals.runtime.Gatherer.configuration.interests[o];if("interestName"==r.name){Kameleoon.Internals.runtime.Visitor.currentVisit.addInterests([r.index],!0);break}}t&&t(e)};Kameleoon.Gatherer.Interest.checkImageList(r,null,o)}},readLocalData:function(e){return Kameleoon.Internals.runtime.storedData.Vars[e]?Kameleoon.Internals.runtime.storedData.Vars[e].value:null},resetCustomData:function(n){e.Data.setCustomData(n,[],!0)},retrieveDataFromRemoteSource:function(e,n){Kameleoon.Utils.performBeaconServerCall("https://api-data.".concat(Kameleoon.Internals.configuration.VISITOR_DOMAIN,"/data?siteCode=").concat(Kameleoon.Internals.configuration.siteCode,"&key=").concat(e),(function(e){if(4==e.readyState){var t={};if(200==e.status)t=JSON.parse(e.responseText);n&&n(t)}}),null)},setCustomData:function(e,n,t){if(void 0===t)t=!1;if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.gathererRun){var o=null;for(var r in Kameleoon.Internals.runtime.Gatherer.configuration.customData){var a=Kameleoon.Internals.runtime.Gatherer.configuration.customData[r];if(null!=a&&a.name==e){o=parseInt(r);break}}if(null!=o)Kameleoon.Gatherer.CustomData.register(o,{value:n,overwrite:t})}},writeLocalData:function(e,n,t){Kameleoon.Internals.runtime.storedData.Vars[e]={value:n,date:(new Date).getTime()+24*60*60*1e3*(t?30:1/24)}},performRemoteSynchronization:function(e,n,t){if(Kameleoon.Internals.runtime.gathererRun&&Kameleoon.Internals.configuration.enableHistoryReconciliation)for(var o in Kameleoon.Internals.runtime.Gatherer.configuration.customData){var r=Kameleoon.Internals.runtime.Gatherer.configuration.customData[o];if(e?r.name==e:r.mappingIdentifier){var a=n||Kameleoon.API.CurrentVisit.customData[r.name];if(a)Kameleoon.Gatherer.CustomData.remoteSynchronisation(parseInt(o),a,Kameleoon.Gatherer.CustomData.registerVisitsRequestSuccessAndChangePreviousVisits)}}}};this.Events={triggered:[],trigger:function(n){e.Core.runWhenConditionTrue((function(){return!0===Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval}),(function(){e.Events.triggered.push(n);if(Kameleoon.Analyst.Actions)Kameleoon.Analyst.Actions.processAllActions();if(Kameleoon.Targeting)Kameleoon.Targeting.processAllTargetingSegments();}),100)}};this.Tracking={processOmniture:function(e){Kameleoon.Tracking.processOmniture&&Kameleoon.Tracking.processOmniture(e)}};this.Experiments=new APIActions("experiments");this.Personalizations=new APIActions("personalizations");this.Segments={getAll:function(){return Kameleoon.Internals.runtime.targetingSegments.map((function(e){return new APISegment(e)}))},getById:function(e){var n=Kameleoon.Internals.runtime.targetingSegments.filter((function(n){return n.id==e}))[0];return n?new APISegment(n):null},getByName:function(e){var n=Kameleoon.Internals.runtime.targetingSegments.filter((function(n){return n.name==e}))[0];return n?new APISegment(n):null},reevaluate:function(e){var n=-1;for(var t=0;t<(Kameleoon.Internals.runtime.targetingSegments||[]).length;t++){var o=Kameleoon.Internals.runtime.targetingSegments[t];if(o.id==e){n=t;break}}if(n>-1){var r=void 0;if(Kameleoon.Internals.runtime.simulationMode)r=Kameleoon.Internals.runtime.simulationModeData.targetingSegments.filter((function(n){return n.id==e}))[0];else r=Kameleoon.Internals.configuration.targetingSegments.filter((function(n){return n.id==e}))[0];if(r){Kameleoon.Internals.runtime.targetingSegments.splice(n,1);var a=Kameleoon.Utils.clone(r);Kameleoon.Internals.runtime.targetingSegments.push(a);Kameleoon.Targeting.checkTargetingSegmentsTargeting([a]);Kameleoon.Internals.runtime.experiments.forEach((function(n){return n.setTargetingSegment(e)}));Kameleoon.Internals.runtime.experiments.forEach((function(n){return n.setTargetingSegment(e)}));Kameleoon.Analyst.Actions.processAllActions();return a.targeting}}return},trigger:function(e){var n=Kameleoon.Internals.runtime.targetingSegments.filter((function(n){return n.id==e}));if(n.length>0){n[0].targeting=!0;Kameleoon.Internals.runtime.experiments.forEach((function(n){if(n.targetingSegmentId==e){n.targeting=void 0;n.rescheduleTargeting=!0;n.forceTargeting=!0}}));Kameleoon.Internals.runtime.personalizations.forEach((function(n){if(n.targetingSegmentId==e){n.targeting=void 0;n.rescheduleTargeting=!0;n.forceTargeting=!0}}));Kameleoon.Analyst.Actions.processAllActions();Kameleoon.Targeting.processTargetingSegments(n)}}};this.Variations={execute:function(e){var n=function(e){var n=Kameleoon.Internals.runtime.variations.filter((function(n){return n.id==e}));return n?n[0]:null};var t=n(e);if(t){if(t.redirections)t.preProcessRedirect();Kameleoon.Utils.addCSSStyleSheet(t.cssCode);return t.applyJavascriptCode(!0)}return null}};this.Utils={addEventListener:function(e,n,t,o){Kameleoon.Utils.addEventListener(e,n,t,o,!0)},addUniversalClickListener:function(e,n,t){this.addEventListener(e,Kameleoon.Internals.runtime.mouseDownEvent,(function(e){if(!Kameleoon.Internals.runtime.touchMoveEvent)n&&n(e)}))},clearInterval:function(){Kameleoon.Utils.clearInterval.apply(Kameleoon.Utils,arguments)},clearTimeout:function(){Kameleoon.Utils.clearTimeout.apply(Kameleoon.Utils,arguments)},createHash:function(e){return Kameleoon.Utils.computeStringHash.apply(Kameleoon.Utils,arguments)},getURLParameters:function(){return Kameleoon.Utils.parseParameters.apply(Kameleoon.Utils,arguments)},performRequest:function(e,n,t,o){if(void 0===o)o=5e3;return Kameleoon.Utils.performBeaconServerCall(e,n,t,o)},querySelectorAll:function(e){return Kameleoon.Utils.querySelectorAll.apply(Kameleoon.Utils,arguments)},setInterval:function(e,n){if(void 0===n)n=200;return Kameleoon.Utils.setInterval(e,n,!1,!0)},setTimeout:function(e,n){if(void 0===n)n=200;return Kameleoon.Utils.setTimeout(e,n,!0)}};Object.defineProperty(this.Utils,"mouseDownEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.mouseDownEvent}});Object.defineProperty(this.Utils,"touchMoveEvent",{enumerable:!0,get:function(){return Kameleoon.Internals.runtime.touchMoveEvent}});Object.defineProperty(this,"Visitor",{enumerable:!0,get:function(){try{return new APIVisitor}catch(e){return null}}});Object.defineProperty(this,"CurrentVisit",{enumerable:!0,get:function(){try{return new APIVisit(Kameleoon.Internals.runtime.Visitor.currentVisit)}catch(e){return null}}});Object.defineProperty(this,"React",{enumerable:!1,get:function(){return window.KameleoonAPIReact||null}});Object.defineProperty(this,"processOmniture",{enumerable:!1,get:function(){console.info("Kameleoon.API.processOmniture is deprecated, please use Kameleoon.API.Tracking.processOmniture");return Kameleoon.API.Tracking.processOmniture}})}return e}();var ElementSet=function(){function e(){this.appendEmptyElement=function(e){if(Kameleoon.Internals.runtime.singlePageSupport&&!e.querySelector("span.kameleoonDomOperation")){var t=document.createElement("span");t.className="kameleoonDomOperation";t.style.display="none";t.style.opacity="0";t.style.width="0";t.style.height="0";e.appendChild(t)}};this.pageElementSets=[];this.pageElementSetsIds={};this.pageElementSetsSpa=[];this.pageElementSetsSpaIds={};window.kameleoonVirtualRootElement=document.createElement("div")}e.prototype.addDuplicatedData=function(e,t,o){if(!e||!Kameleoon.Internals.runtime.singlePageSupport)return;if(null!=o&&e.getAttribute){var n=e.getAttribute("data-kameleoon-class")||"";if(-1==n.toString().indexOf(o))e.setAttribute("data-kameleoon-class",(n.length>0?n+" ":"")+o)}if(null!=t)e.setAttribute("data-kameleoon-id",t.toString())};e.prototype.addRelativePositionToReferenceElement=function(e){if("absolute"!=Kameleoon.Utils.obtainComputedStyle(e).position&&document.body!=e)this.setStyle(e,"position","relative",!1)};e.prototype.changeHTMLContent=function(e,t,o,n,a){o=this.replaceImagePlaceholder(o);var l=e.element;var i,r,s;var m="input"==l.nodeName.toLowerCase()&&("button"==l.getAttribute("type")||"submit"==l.getAttribute("type")||"text"==l.getAttribute("type"));if(m)i=l.value;else{i=[];var d=l.childNodes;for(s=0;s<d.length;++s)i.push(d[s])}r=m?l.value:l.innerHTML;this.saveElementOriginalData(l);if(void 0===l.kameleoonData.originalData.storedContent){l.kameleoonData.originalData.storedContent=i;l.kameleoonData.originalData.contentType=m?"VALUE":"CHILD_NODES"}if(r!=o)if(n)e.element=this.replaceHTMLContent(l,t,o,e.options);else if(m)l.value=o;else{for(s=0;s<i.length;++s)l.removeChild(i[s]);l.innerHTML=o}return!0};e.prototype.checkElementIsInDocument=function(e,t){var o=null,n=document;if(t.context){o=Kameleoon.Utils.querySelectorAll(t.context);if(o[0])n=o[0].contentWindow.document}while(e&&e!=n.documentElement&&e!=window.kameleoonVirtualRootElement)if(e.parentNode)e=e.parentNode;else return!1;return e==n.documentElement?!0:"VIRTUAL"};e.prototype.checkElementLoaded=function(e){if(!e||!e.parentNode)return!1;return e.nextSibling?!0:this.checkElementLoaded(e.parentNode)};e.prototype.obtainDepth=function(e){var t=0;while(null!==e.parentNode){++t;e=e.parentNode}return t};e.prototype.obtainElements=function(e,t,o,n,a){var l,i,r=[];for(var s=0,m=e.length;s<m;++s){if(null===e[s])continue;var d=e[s].selector;var p=e[s].currentQuery;var u=e[s].options;var c=null,f=document;if(u.context){c=Kameleoon.Utils.querySelectorAll(u.context);if(!c[0])continue;c=c[0].contentWindow.document;f=c;if(n)Kameleoon.Utils.addCSSStyleSheet(n.css,n.action,c)}if(!c&&a)c=a;if(u.scopeURL&&!new RegExp(u.scopeURL).test(window.location.href))l=[];else if(u.customSelector||u.autoGeneratedSelector||u.contentSelector){l=Kameleoon.Utils.querySelectorAll(d,c);if(0==l.length&&p)l=Kameleoon.Utils.querySelectorAll(p,c);if(u.kameleoonClass)for(var h=0,g=l.length;h<g;++h)if(-1==(" "+l[h].className+" ").indexOf(" KameleoonClass"+u.kameleoonClass+" ")){this.saveElementOriginalData(l[h],u.domOperation);l[h].className+=(l[h].className?" ":"")+"KameleoonClass"+u.kameleoonClass;Kameleoon.ElementSet.addDuplicatedData(l[h],null,u.kameleoonClass)}if(u.kameleoonId)for(var h=0,g=l.length;h<g;++h){this.saveElementOriginalData(l[h],u.domOperation);l[h].id="kameleoonId"+u.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(l[h],u.kameleoonId,null)}if(0==l.length){if(u.kameleoonId){var v=document.getElementById("kameleoonId"+u.kameleoonId);l=v?[v]:[]}if(u.kameleoonClass)l=Kameleoon.Utils.querySelectorAll(".KameleoonClass"+u.kameleoonClass,null)}if(0==l.length)l=Kameleoon.Utils.querySelectorAll(d,window.kameleoonVirtualRootElement)}else switch(d.charAt(0)){case"#":var S=d.substr(1);if(Kameleoon.Internals.runtime.singlePageSupport)l=[f.querySelector(d)];else l=[f.getElementById(d.substr(1))];if(!l[0]){var v=void 0;if(e[s].element)v=e[s].element;else if(0==S.indexOf("kameleoonElement"))if(u.domOperation){var E=Kameleoon.Utils.querySelectorAll(u.domReference,c)[0];if(!E&&u.domReferenceCurrentQuery)E=Kameleoon.Utils.querySelectorAll(u.domReferenceCurrentQuery,c)[0];if(E){v=f.createElement("div");window.kameleoonVirtualRootElement.appendChild(v);e[s].element=v}else e[s].evaluated=!1}else if(f.body){v=f.createElement("div");f.body.appendChild(v)}else e[s].evaluated=!1;if(v){v.id=S;Kameleoon.ElementSet.addDuplicatedData(v,S,null);Kameleoon.Internals.runtime.addedIDs["#"+S]=!0;l=[v]}else l=[]}break;default:l=Kameleoon.Utils.querySelectorAll(d,c);break}var k=!1;i=[];for(var h=0,g=l.length;h<g;++h)if(!l[h].getAttribute("kameleoon")){if(e[s].overwrited)e[s].overwrited=!1;if(!t||void 0===u.htmlContent||this.checkElementLoaded(l[h])){if(u.userPosition&&u.userPosition.referenceElement&&!Kameleoon.Utils.querySelectorAll(u.userPosition.referenceElement)[0])continue;if(u.domOperation){var E=Kameleoon.Utils.querySelectorAll(u.domReference,c)[0];if(!E&&u.domReferenceCurrentQuery)E=Kameleoon.Utils.querySelectorAll(u.domReferenceCurrentQuery,c)[0];this.saveElementOriginalData(l[h]);l[h].kameleoonData.domTargetElement=E;if(t||o){if(!this.checkElementLoaded(l[h])&&0!=u.selector.indexOf("#kameleoonElement")||!this.checkElementLoaded(l[h].kameleoonData.domTargetElement))continue;k=!0}}i.push({element:l[h],options:Kameleoon.Utils.clone(u)})}}else if(!e[s].overwrited){i.push({element:l[h],options:Kameleoon.Utils.clone(u)});e[s].overwrited=!0}e[s].removeSelector=k||o&&0<l.length&&null!=u.autoGeneratedSelector;r=r.concat(i)}return r};e.prototype.performHTMLReplacements=function(e,t,o,n,a){var l=this;var i=null;var r=!0;while(r){i=this.obtainElements(e,t,o,n,a);if(0==i.length)break;i=i.sort((function(e,t){var o=l.obtainDepth(e.element),n=l.obtainDepth(t.element);return o<n?-1:o>n?1:0}));i=this.removeDuplicates(i);r=!1;for(var s=0,m=i.length;s<m;++s){var d=i[s].options;if(d.htmlContent)r=this.changeHTMLContent(i[s],e,d.htmlContent,!1,!0)||r;if(d.replaceHtmlContent)r=this.changeHTMLContent(i[s],e,d.replaceHtmlContent,!0,!0)||r;if(r)r=!1}}for(var s=0,m=e.length;s<m;++s)if(e[s]&&e[s].removeSelector)e[s]=null;return i};e.prototype.powerElement=function(e,t,o){if(!t.dataset||!t.dataset.kameleoonEvaluated||Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){if(!t||Kameleoon.Internals.configuration.specifyElements&&-1==t.className.indexOf("Kameleoon"))return;if(t.dataset)t.dataset.kameleoonEvaluated=!0;this.saveElementOriginalData(t);t.kameleoonData.powered=!0;t.setAttribute("kameleoon","active");if(o.keepSpace)this.reserveSpaceForElement(t);if(o.domOperation){var n=t.kameleoonData.domTargetElement;if(!n){var a=null;if(o.context){a=Kameleoon.Utils.querySelectorAll(o.context);a=a[0]?a[0].contentWindow.document:null}n=Kameleoon.Utils.querySelectorAll(o.domReference,a)[0];if(!n&&o.domReferenceCurrentQuery)n=Kameleoon.Utils.querySelectorAll(o.domReferenceCurrentQuery,a)[0]}this.processDomOperation(e,t,n,o.domOperation)}if(o.attributesData)this.processAttributesData(t,o.attributesData);if(o.kameleoonId&&(!t.id||0===t.getAttribute("id").indexOf("kameleoonId")||0===t.getAttribute("id").indexOf("kameleoonElement"))){t.id="kameleoonId"+o.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(t,o.kameleoonId,null)}if(o.kameleoonClass)if(-1==(" "+t.className+" ").indexOf(" KameleoonClass"+o.kameleoonClass+" ")){t.className+=(t.className?" ":"")+"KameleoonClass"+o.kameleoonClass;Kameleoon.ElementSet.addDuplicatedData(t,null,o.kameleoonClass)}this.processUserPosition(t,t,o.userPosition,"inline"!=Kameleoon.Utils.obtainComputedStyle(t).display);this.setupNoLinkPropagation(o,t);this.processSpecialCases(t);this.processLinks(t,o.href)}};e.prototype.powerElements=function(e,t){for(var o=0,n=t.length;o<n;++o)this.powerElement(e,t[o].element,t[o].options)};e.prototype.processAttributesData=function(e,t){var o=JSON.parse(t);for(var n=0;n<o.length;++n){var a=o[n];if(a.removed)e.removeAttribute(a.attributeName);else e.setAttribute(a.attributeName,a.attributeValue)}};e.prototype.processDomOperation=function(e,t,o,n){if(!o){if(t.dataset)t.dataset.kameleoonEvaluated=!1;e.evaluated=!1;return}var a=t.parentNode;var l=o.parentNode;var i=t.nextSibling;while(l){if(l==t)return;l=l.parentNode}l=o.parentNode;try{if(a)a.removeChild(t);switch(n){case"SWAP":Kameleoon.ElementSet.appendEmptyElement(t);this.saveElementOriginalData(o);l.insertBefore(t,o);l.removeChild(o);if(i)try{a.insertBefore(o,i)}catch(e){a=t.parentNode;i=t.nextSibling;a.insertBefore(o,i)}else a.appendChild(o);if("left"==Kameleoon.Utils.obtainComputedStyle(t)["float"]&&"right"==Kameleoon.Utils.obtainComputedStyle(o)["float"]){t.style["float"]="right";o.style["float"]="left"}else if("right"==Kameleoon.Utils.obtainComputedStyle(t)["float"]&&"left"==Kameleoon.Utils.obtainComputedStyle(o)["float"]){t.style["float"]="left";o.style["float"]="right"}t.kameleoonData.swapTargetElement=o;break;case"INSERT_BEFORE":Kameleoon.ElementSet.appendEmptyElement(t);l.insertBefore(t,o);break;case"INSERT_AFTER":Kameleoon.ElementSet.appendEmptyElement(t);if(o.nextSibling)l.insertBefore(t,o.nextSibling);else l.appendChild(t);break;case"INSERT_AS_CHILD":Kameleoon.ElementSet.appendEmptyElement(t);if(0==o.childNodes.length)o.appendChild(t);else o.insertBefore(t,o.firstChild);break}}catch(e){}};e.prototype.processElementSet=function(e,t,o,n,a,l){if(!e.id)e.id=Math.floor(999999*Math.random());var i=null;var r=[];if(!this.pageElementSetsIds[e.id.toString()]){this.pageElementSetsIds[e.id.toString()]=!0;this.pageElementSets.push(e)}i=this.performHTMLReplacements([e],o,n,t,l);if(Kameleoon.Internals.runtime.singlePageSupport&&!this.pageElementSetsSpaIds[e.id.toString()]){this.pageElementSetsSpaIds[e.id.toString()]=!0;this.pageElementSetsSpa.push({elementSet:e,potentialElementsWithOptions:i})}if(a)window.editor.services.EngineService.getInstance().refreshCustomizableElements();for(var s=0,m=i.length;s<m;++s){if(o&&i[s].options.userPosition&&"RELATIVE"!=i[s].options.userPosition.positionMode)continue;r.push(i[s])}this.powerElements(e,r);if(0===r.length&&!e.overwrited)e.evaluated=!1;return r?r.length>0:!1};e.prototype.processLinks=function(e,t){if(!t)return;if("a"==e.nodeName.toLowerCase())e.href=t;else{Kameleoon.Utils.addEventListener(e,"click",(function(){window.location.href=t}));e.style.cursor="pointer"}};e.prototype.processSpecialCases=function(e){if("body"==e.nodeName.toLowerCase()&&-1!=Kameleoon.Utils.obtainComputedStyle(e).background.indexOf("linear-gradient")){e.style.backgroundRepeat="no-repeat";if(window.innerHeight-document.documentElement.scrollHeight>0)e.style.backgroundAttachment="fixed"}};e.prototype.processUserPosition=function(e,t,o,n){if(o){switch(o.positionMode){case"ABSOLUTE_KEEP_SPACE":case"ABSOLUTE":if(n){var a="ABSOLUTE_KEEP_SPACE"==o.positionMode?e.kameleoonData.originalData.originalNode.offsetWidth:e.offsetWidth;if(a)this.setStyle(t,"width",a+"px","th"!=t.nodeName.toLowerCase()&&"td"!=t.nodeName.toLowerCase())}var l=null;var i=!1;if(o.referenceElement){l=Kameleoon.Utils.querySelectorAll(o.referenceElement)[0];i=!0}if(!l)l=document.body;if(l&&t.parentNode!=l){t.parentNode.removeChild(t);l.appendChild(t);if(!t.kameleoonData)t.kameleoonData={};t.kameleoonData.moved=!0}this.setStyle(t,"position","absolute",!1);var r=Kameleoon.Utils.obtainComputedStyle(t).left.replace("px","");var s=(parseInt(r)||0)/o.referenceWidth;this.setStyle(t,"left",Math.round(s*l.offsetWidth)+"px",!0);if(i)this.addRelativePositionToReferenceElement(l);break;case"RELATIVE":this.setStyle(t,"position","",!1);break}this.setStyle(t,"top","",!1);this.setStyle(t,"left","",!1);this.setStyle(t,"right","",!1);this.setStyle(t,"bottom","",!1);if(!n)this.setStyle(t,"width","",!1);this.setStyle(t,"height","",!1)}};e.prototype.removeDuplicates=function(e){var t=[];for(var o=0,n=e.length;o<n;++o)if(void 0==e[o].element.kameleoonUnique){e[o].element.kameleoonUnique=t.length;if(e[o].options.kameleoonClass)e[o].options.kameleoonClass=[e[o].options.kameleoonClass];t.push(e[o])}else{var a=e[o].element.kameleoonUnique;for(var l in e[o].options)if("kameleoonClass"==l){if(!t[a].options[l])t[a].options[l]=[];t[a].options[l].push(e[o].options[l])}else t[a].options[l]=e[o].options[l]}for(var o=0,n=t.length;o<n;++o)if(void 0!==t[o].element.kameleoonUnique){t[o].element.kameleoonUnique=void 0;t[o].element.removeAttribute("kameleoonUnique")}return t};e.prototype.replaceHTMLContent=function(e,t,o,n){o=this.replaceImagePlaceholder(o);var a=this.checkElementIsInDocument(e,n);if(0==o.indexOf("kameleoonInputImage:")){this.saveElementOriginalData(e);e.kameleoonData.originalData.imgSrc=e.src;e.src=o.replace("kameleoonInputImage:","");return e}var l=document.createElement(a?e.parentNode.nodeName.toLowerCase():"div");l.innerHTML=o;var i=null;if(0===o.search(/<td>|<tr>/)){var r=document.createElement("table");r.innerHTML=o;l.innerHTML="";l.appendChild(r)}while(l.childNodes.length>0){var s=l.childNodes[0];s.kameleoonData=e.kameleoonData;s.kameleoonData.originalData.replacedElement=e;if(!i){if(3==s.nodeType)return!1;i=s;s.id=e.id;if("copyAttributes"==i.getAttribute("kameleoon")){for(var m=0,d=e.attributes.length;m<d;++m){if("srcset"==e.attributes[m].name){if(i.getAttribute("src"))i.setAttribute("srcset",i.getAttribute("src"));continue}if("src"!=e.attributes[m].name)i.setAttribute(e.attributes[m].name,e.attributes[m].value)}i.removeAttribute("kameleoon")}var p=e.className.match(/(KameleoonClass[^\s]*)/);if(p)s.className+=(s.className?" ":"")+p[1];if(n.kameleoonId){s.id="kameleoonId"+n.kameleoonId;Kameleoon.ElementSet.addDuplicatedData(s,n.kameleoonId,null)}if(n.kameleoonClass&&-1==(" "+s.className+" ").indexOf(" KameleoonClass"+n.kameleoonClass+" ")){s.className+=(s.className?" ":"")+"KameleoonClass"+n.kameleoonClass;Kameleoon.ElementSet.addDuplicatedData(s,null,n.kameleoonClass)}}if(a)e.parentNode.insertBefore(s,e);if(!0!==a)for(var m=0,d=t.length;m<d;++m)if(e==t[m].element)t[m].element=s;if(!1===a){e=s;s.parentNode.removeChild(s)}}if(a)e.parentNode.removeChild(e);return i};e.prototype.replaceImagePlaceholder=function(e){return e.replace(/STATIC_IMAGE_PATH/g,Kameleoon.Internals.configuration.IMAGE_PATH)};e.prototype.reserveSpaceForElement=function(e){if(!e.kameleoonData||!e.kameleoonData.originalData)this.saveElementOriginalData(e);if(!e.kameleoonData.originalData.originalNode){var t=!0;for(var o=0,n=e.childNodes.length;o<n;++o){var a=e.childNodes[o];if(1==a.nodeType)t=!1}var l=e.cloneNode(t);var i=e.getBoundingClientRect().width;this.setStyle(l,"width",i+"px",!1);if(!t)this.setStyle(l,"height",e.clientHeight+"px",!1);var r=Kameleoon.Utils.obtainComputedStyle(e);this.setStyle(l,"float",r.cssFloat,!1);this.setStyle(l,"margin-top",r.marginTop,!1);this.setStyle(l,"margin-bottom",r.marginBottom,!1);this.setStyle(l,"margin-left",r.marginLeft,!1);this.setStyle(l,"margin-right",r.marginRight,!1);this.setStyle(l,"overflow",r.overflow,!1);this.setStyle(l,"visibility","hidden",!1);l.removeAttribute("id");l.removeAttribute("class");e.parentNode.insertBefore(l,e);e.kameleoonData.originalData.originalNode=l;this.setStyle(e,"position","absolute",!1)}};e.prototype.saveElementOriginalData=function(e,t){if(!e||e.kameleoonData&&e.kameleoonData.originalData)return;if(!e.kameleoonData)e.kameleoonData={};e.kameleoonData.originalData={};e.kameleoonData.originalData.attributesData={};if(e.parentNode)e.kameleoonData.originalData.parentNode=e.parentNode;if(e.nextSibling){e.kameleoonData.originalData.nextSibling=e.nextSibling;if(3===e.nextSibling.nodeType&&e.previousSibling&&3===e.previousSibling.nodeType&&t&&("INSERT_AFTER"===t||"INSERT_BEFORE"===t)){var o=document.createComment("ReplaceHolderComment");var n=e.nextSibling.parentNode.insertBefore(o,e.nextSibling);e.kameleoonData.originalData.placeholderComment=n}}if(e.href)e.kameleoonData.originalData.href=e.getAttribute("href");if(e.nodeValue)e.kameleoonData.originalData.nodeValue=e.nodeValue;if(e.attributes)for(var a=0,l=e.attributes.length;a<l;++a){var i=e.attributes[a];e.kameleoonData.originalData.attributesData[i.nodeName]=i.nodeValue}};e.prototype.setStyle=function(e,t,o,n){this.saveElementOriginalData(e);var a=e.style.cssText;if(a){a=a.replace(/^\s+|\s+$/g,"");var l=new RegExp("(^|;)(\\s*"+t+"(.*?);)");a=a.replace(l,"$1");if(a){if(a.lastIndexOf(";")<a.length-2)a+=";";if(a.lastIndexOf(" ")!=a.length-1&&o)a+=" "}}else a="";var i=a+(o?t+": "+o+(n?" !important;":";"):"");e.style.cssText=i};e.prototype.setupNoLinkPropagation=function(e,t){if(e.noLinkPropagation)t.setAttribute("kData","nlp")};return e}();var Gatherer=function(){function t(){this.MAX_HREF_LENGTH_IN_A_REQUEST=200;this.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST=200;this.trackExternalSolutionData=function(){}}t.prototype.run=function(t){var e=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.Gatherer);if("string"==typeof e)e=JSON.parse(Kameleoon.Utils.decodeString(e));Kameleoon.Internals.runtime.Gatherer={configuration:e,active:!0,numberClicks:0};this.Browser=new Browser(e.browsers);this.CustomData=new CustomData(e.customData);this.KeyPage=new KeyPage(e.keyPages);this.KeyWord=new KeyWord(e.keyWords);this.Language=new Language;this.OperatingSystem=new OperatingSystem(e.oss);this.Referrer=new Referrer(e.referrers);this.TimeZone=new TimeZone;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","startsOfVisitForCurrentPage",0);Kameleoon.Internals.runtime.Visitor=new Visitor;t();Kameleoon.Utils.runProtectedScript(Kameleoon.Internals.runtime.Gatherer.configuration.customScriptBefore,"kameleoonCustomScriptBefore.js");this.track(VisitEvent_Page);this.track(VisitEvent_StaticData);Kameleoon.Internals.runtime.Visitor.updateAndTrackInfluences();VisitEvent_Activity.initialize();this.CustomData.run();Kameleoon.Internals.runtime.gathererRun=!0};t.prototype.startNewVisit=function(t,e){Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!0,!0,e);this.track(VisitEvent_Page);this.track(VisitEvent_StaticData);Kameleoon.Internals.runtime.Visitor.updateAndTrackInfluences();this.CustomData.run();};t.prototype.track=function(t,e){new VisitEvent(t).track(e)};return t}();var KameleoonEngine=function(){function e(){this.Analyst=new Analyst;this.API=new API;this.ElementSet=new ElementSet;this.Gatherer=new Gatherer;this.Loader=new Loader;this.Targeting=new Targeting;this.Tracking=new Tracking;this.Utils=new Utils}return e}();var Loader=function(){function t(){var t=this;this.enableKameleoonEditorListener=function(){if(!Kameleoon.Internals.runtime.editorListenerEnabled){Kameleoon.Internals.runtime.editorListenerEnabled=!0;var t=function(t){if(!t)t=window.event;Kameleoon.Loader.listenKeys.call(Kameleoon.Loader,t)};Kameleoon.Utils.addEventListener(document,"keyup",t,!1)}};this.listenKeys=function(t){if(t.shiftKey){if(113==t.keyCode&&Kameleoon.Internals.configuration.abtestingSetup){Kameleoon.Internals.runtime.editorMode=!0;Kameleoon.Analyst.loadKameleoonFull((function(){Kameleoon.Loader.enableKameleoonEditor.apply(Kameleoon.Loader)}),!0)}if(115==t.keyCode&&(Kameleoon.Internals.runtime.simulationMode||Kameleoon.Internals.runtime.parameters.kameleoonVariationSelection))Kameleoon.Analyst.loadKameleoonFull((function(){Kameleoon.Loader.enableSimulationPanel()}),!0)}};}return t}();var Runtime=function(){function Runtime(){var e=this;this.JS_EDITOR_URL=Kameleoon.Internals.configuration.BASE_EDITOR_URL+"script/editor.js";this.PAGE_LOADED_POLL_DELAY=250;this.PAGE_LOADING_POLL_DELAY=75;this.enableSinglePageSupport=function(){e.singlePageSupport=!0;e.href=window.location.href;KMutationObserver.setMutationObserverSPA();Kameleoon.Utils.setInterval((function(){var t=e.href;e.href=window.location.href;if(t!=e.href)Kameleoon.Analyst.load.apply(e,[])}),100)};this.executeGlobalScript=function(){if(Kameleoon.Internals.configuration.globalScript&&!e.globalScriptProcessed&&!e.editorMode&&!e.kameleoonSelectionIframeMode){Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"globalScript"});e.globalScriptProcessed=!0;Kameleoon.Utils.runProtectedScript(Kameleoon.Internals.configuration.globalScript,"kameleoonGlobalScript.js")}};this.initializeActions=function(){if(Kameleoon.Internals.configuration.abtestingSetup||Kameleoon.Internals.configuration.personalizationSetup){e.targetingSegments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.targetingSegments);e.variations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.variations);e.variations.forEach((function(e){if(e.widgetTemplateInputData)for(var t in e.widgetTemplateInputData)if("string"==typeof e.widgetTemplateInputData[t])e.widgetTemplateInputData[t]=e.widgetTemplateInputData[t].replace("STATIC_IMAGE_PATH",Kameleoon.Internals.configuration.IMAGE_PATH)}))}if(Kameleoon.Internals.configuration.abtestingSetup)e.experiments=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.experiments).map((function(t){return new Experiment(t,e.incomingStoredData)}));if(Kameleoon.Internals.configuration.personalizationSetup){e.personalizations=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.personalizations).map((function(t){return new Personalization(t,e.incomingStoredData)}));}};this.initializeActionsAfterGatherer=function(){if(Kameleoon.Internals.configuration.personalizationSetup)Personalization.setGlobalPersonalizationDeviation();};this.initializeListeners=function(){Kameleoon.Utils.domReady((function(){e.domReady=!0;if(!0!==Kameleoon.Internals.configuration.disableEditorLaunchViaKeys)Kameleoon.Loader.enableKameleoonEditorListener();if(e.kameleoonSelectionIframeMode){var t=document.createElement("script");t.setAttribute("type","text/javascript");t.setAttribute("charset","utf-8");t.setAttribute("src","https://back-office-redesign."+Kameleoon.Internals.configuration.DOMAIN+"/get-script?type=selection");e.headNode.appendChild(t)}if(!e.simulationMode&&e.parameters.kameleoonHeatMap&&e.parameters.kameleoonVariationId)Kameleoon.Analyst.getHeatMap();if(0==window.kameleoonLightIframe&&window.kameleoonIframeURL)if(Kameleoon.Internals.runtime.Gatherer.startOfVisit)Kameleoon.Utils.setTimeout((function(){var e=document.createElement("iframe");e.src=window.kameleoonIframeURL;e.id="kameleoonExternalIframe";e.style.cssFloat="left !important";e.style.opacity="0.0 !important";e.width="0px";e.height="0px";e.onload=function(){e.parentNode.removeChild(e)};document.head.appendChild(e)}),5e3)}));if("touchend"==e.mouseDownEvent){Kameleoon.Utils.addEventListener(document,"touchmove",(function(t){e.touchMoveEvent=!0}));Kameleoon.Utils.addEventListener(document,"touchstart",(function(t){e.touchMoveEvent=!1}))}if(!e.iframeLocalStorage)window.addEventListener("storage",(function(t){var n=null==t.key?[""]:t.key.split("-");var o=n[0];if(-1!=o.indexOf("kameleoon")){if(window.document.hasFocus())return;var a=void 0;if(null==t.newValue)a=null;else try{a=JSON.parse(t.newValue).value}catch(e){return}var i={};switch(o){case"kameleoonExperiment":i.type=o;var l=n[1];i.experimentId=parseInt(l);var r=void 0;if(null==a)r=null;else{var s=a.split("/")[0];r=isNaN(s)?s:parseInt(s)}i.registeredVariationId=r;break;case"kameleoonGlobalPersonalizationExposition":i.type=o;i.active=null==a?null:"true"==a.split("/")[0];break;case e.dataKeyName:case"kameleoonSimulationVisitorData":i.type=o;i.value=null==a?null:a;break;case"kameleoonLegalConsent":i.type=o;i.saveLegalConsent=null==a?null:a;break}if(null!=i.type)Kameleoon.Utils.processStorageData(i)}}),!1);};this.loadExternalRequests=function(){e.Geolocation="undefined"!=typeof KGeolocation?new KGeolocation:null;e.IP="undefined"!=typeof IP?new IP:null};this.processPageLoaded=function(){e.pageLoaded=!0;Kameleoon.Utils.removeBlockingStyleSheet();for(var t=0,n=e.variations.length;t<n;++t)if(e["enginePollerForVariation"+e.variations[t].id]){if(Kameleoon.Internals.runtime.cantUseMutationObserver)window.clearInterval(e["enginePollerForVariation"+e.variations[t].id]);e["enginePollerForVariation"+e.variations[t].id]=null}};this.readFromStorageOrExternal=function(t,n){if(e.incomingStoredData)return e.incomingStoredData[t];else return Kameleoon.Utils.readLocalData(t,n,!0)};this.setup=function(){if(Kameleoon.Internals.runtime.parameters.kameleoon)Kameleoon.Utils.domReady((function(){Kameleoon.Loader.enableKameleoonEditor()}));if(null!=Kameleoon.Internals.configuration.kameleoonByteLength)if(null!=window.kameleoonStartLoadTime){var t=window.kameleoonEndLoadTime-window.kameleoonStartLoadTime-25;e.bandwithBytesPerMillisecond=Kameleoon.Internals.configuration.kameleoonByteLength/t}var n=Kameleoon.Utils.setInterval((function(){var t=document.getElementById("adBlockerCheck");if(null==t&&null!=document.body){t=document.createElement("div");t.id="adBlockerCheck";t.className="ad-placement";document.body.appendChild(t)}if(null!=t&&"none"==Kameleoon.Utils.obtainComputedStyle(t).display){Kameleoon.Utils.clearInterval(n);e.adBlocker=!0}}),50);var o=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(o);var t=document.getElementById("adBlockerCheck");if(null!=t)t.parentNode.removeChild(t);if(null==e.adBlocker){Kameleoon.Utils.clearInterval(n);e.adBlocker=!1}else Kameleoon.Gatherer.track(VisitEvent_AdBlocker)}),2e3);var a=Kameleoon.Utils.setInterval((function(){if(Kameleoon.Utils.querySelectorAll("[id^=ghostery-]").length>0){Kameleoon.Utils.clearInterval(a);e.adBlocker=!0}}),50);var i=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(i);if(null==e.ghostery){Kameleoon.Utils.clearInterval(a);e.ghostery=!1}else Kameleoon.Gatherer.track(VisitEvent_AdBlocker)}),2e3);if("Safari"==Kameleoon.Internals.runtime.Device.browser)window.onpageshow=function(t){if(t.persisted)e.updateAfterPageCached()};Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1,!1,!1);if(!Kameleoon.Internals.configuration.requestsAfterConsent)e.loadExternalRequests();KMutationObserver.setMutationObserver();Kameleoon.Analyst.loadKameleoonFull((function(){Kameleoon.Analyst.loadSimulation()}));Kameleoon.Analyst.Actions.processAllActions();Kameleoon.Targeting.processAllTargetingSegments();Kameleoon.Analyst.Goals.checkKameleoonGoals()};this.setupLocalData=function(t){Kameleoon.Utils.addEventListener(window,"message",Kameleoon.Utils.processMessageEvent,!1);if(e.iframeLocalStorage){e.externalIframe=document.getElementById("kameleoonExternalIframe")||window.kameleoonExternalIframe;e.postMessageOrigin=window.kameleoonIframeOrigin||"";e.postMessageCallbacks={};if(null==Kameleoon.Internals.configuration.externalIframeData)Kameleoon.Utils.postMessageToExternalIframe(JSON.stringify({type:"retrieve",callbackId:Kameleoon.Utils.addPostMessageCallback((function(n){e.incomingStoredData=n;t()}))}));else{e.incomingStoredData=Kameleoon.Internals.configuration.externalIframeData;t();delete Kameleoon.Internals.configuration.externalIframeData}}else{e.incomingStoredData=null;t()}};this.shouldAbortRuntimeOptout=function(){var t=e.parameters.kameleoonOptout;if(null!=t){var n=parseInt(t);Kameleoon.Utils.createLocalData("kameleoonOptout","true",isNaN(n)?45:n,null,"LS",!1,null,!0)}if(Kameleoon.Utils.readLocalData("kameleoonOptout","LS",!1)||Kameleoon.Utils.readLocalData("kameleoonOptout","COOKIE",!1)){Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"optout"});return!0}return!1};this.updateAfterPageCached=function(){if(e.iframeLocalStorage)Kameleoon.Utils.postMessageToExternalIframe(JSON.stringify({type:"retrieve",callbackId:Kameleoon.Utils.addPostMessageCallback((function(){}))}));else{var t=Kameleoon.Utils.readLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,"LS",!0);Kameleoon.Internals.runtime.storedData.update(t);Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1,!1,!1)}};this.pageStartTime=(new Date).getTime();this.dataKeyName="kameleoonData";if(Kameleoon.Internals.configuration.useMultipleSiteCodes){this.dataKeyName+="-"+Kameleoon.Internals.configuration.siteCode;Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[this.dataKeyName]=!0}this.Device=new Device;this.deviceType=this.Device.type;this.parameters=Kameleoon.Utils.parseParameters();this.headNode=document.getElementsByTagName("head")[0];this.editorMode="true"==this.parameters.kameleoon;this.proxyMode="proxy."+Kameleoon.Internals.configuration.DOMAIN===window.location.hostname;this.disableCache="true"==this.parameters.kameleoonDisableCache||this.parameters.kameleoonVariationId;this.kameleoonSelectionIframeMode="true"==this.parameters.kameleoonSelectionIframeMode;this.iframeLocalStorage=Kameleoon.Internals.configuration.useWideDomainSupport;this.useWideDomainSupport=Kameleoon.Internals.configuration.useWideDomainSupport||null!=window.kameleoonLightIframe;if(0==window.kameleoonLightIframe||null==window.kameleoonLightIframe)this.iframeLocalStorage=!1;this.mouseDownEvent="ontouchend"in document.documentElement?"touchend":"mousedown";this.addedClasses={};this.addedIDs={};this.eventListeners=[];this.listenVariations=[];this.waitingElementPresentObjects=[];this.experiments=[];this.personalizations=[];this.variations=[];this.intervalIds={};this.timeoutIds={};this.goals=Kameleoon.Utils.clone(Kameleoon.Internals.configuration.goals);this.cantUseMutationObserver="undefined"==typeof MutationObserver&&!Kameleoon.Internals.configuration.disableDomMutationObserver;this.Consent=new Consent;}Runtime.prototype.clear=function(){this.eventListeners.forEach((function(eventListener){var element;if("window"==eventListener.elementKey||"document"==eventListener.elementKey)element=eval(eventListener.elementKey);else{element=document.querySelector("[kameleoonListener-".concat(eventListener.elementKey,"=true]"));if(element)element.removeAttribute("kameleoonListener-".concat(eventListener.elementKey))}if(element)element.removeEventListener(eventListener.eventType,eventListener.actionFunction,eventListener.useCapture)}));for(var timeoutId in this.timeoutIds)Kameleoon.Utils.clearTimeout(parseInt(timeoutId));for(var intervalId in this.intervalIds)Kameleoon.Utils.clearInterval(parseInt(intervalId));if(this.RequestManager)this.RequestManager.processRequests();if(this.storedData)this.storedData.save(!0);if(null!=this.mutationObserver)this.mutationObserver.disconnect();if(null!=this.mutationObserverSpa)this.mutationObserverSpa.disconnect();var elements=Kameleoon.Utils.querySelectorAll("[id^='kameleoonElement'], [id*='kameleoonScenarioLayerBase'], [id^='kameleoonStyleSheet'], [class*='kameleoonWidget']");for(var i=0;i<elements.length;++i)elements[i].parentNode.removeChild(elements[i]);elements=Kameleoon.Utils.querySelectorAll("[id^='kameleoonId'], .kameleoonOverlay");for(var i=0;i<elements.length;++i)elements[i].removeAttribute("id");elements=Kameleoon.Utils.querySelectorAll("[class^='kameleoonClass']");for(var i=0;i<elements.length;++i)elements[i].removeAttribute("class");if(Kameleoon.Internals.runtime.storedData)Kameleoon.Internals.runtime.storedData.save(!0);Kameleoon.API.Events.triggered=[]};Runtime.prototype.run=function(){var e=this;this.running=!0;Kameleoon.Utils.removeBlockingStyleSheet();this.setupLocalData((function(){if(!e.shouldAbortRuntimeOptout()){e.simulationMode=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonSimulation","LS")?!0:!1;e.storedData=new StoredData(e.incomingStoredData);Kameleoon.Internals.runtime.Consent.setup();e.initializeActions();Kameleoon.Gatherer.run((function(){e.RequestManager=new RequestManager}));e.initializeActionsAfterGatherer();e.executeGlobalScript();window.kameleoonQueue=new CommandQueue(window.kameleoonQueue);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"Started",{newVisitorCode:1==Kameleoon.Internals.runtime.Visitor.visits.length});e.initializeListeners();e.setup();e.setupAfterLocalDataRetrieval=!0}}))};return Runtime}();var Utils=function(){function Utils(){var e=this;this.events=[];this.addParameterToURL=function(e,t,n){if(n)return e+(-1==e.indexOf("#")?"#":"&")+t;var a="";if(-1!=e.indexOf("#")){a=e.substr(e.indexOf("#"));e=e.substr(0,e.indexOf("#"))}e+=(-1==e.indexOf("?")?"?":"&")+t+a;return e};this.computeCurrentPageAbsoluteURLNoProxyMode=function(){var e=Kameleoon.Internals.runtime;if(null==e.currentPageAbsoluteURLNoProxyMode){if(e.proxyMode){var t=e.parameters.kameleoonExperimentId||e.parameters["kameleoon-experiment-id"];if(null!=t){var n=e.experiments.filter((function(e){return e.id==t}));if(n)e.currentPageAbsoluteURLNoProxyMode=n[0].baseURL}}if(null==e.currentPageAbsoluteURLNoProxyMode)e.currentPageAbsoluteURLNoProxyMode=window.location.href}return e.currentPageAbsoluteURLNoProxyMode};this.computeCurrentPageCanonicalURL=function(){if(null==Kameleoon.Internals.runtime.currentPageCanonicalURL){var t=e.querySelectorAll('link[rel="canonical"]');if(t.length>0)Kameleoon.Internals.runtime.currentPageCanonicalURL=t[0].href}return Kameleoon.Internals.runtime.currentPageCanonicalURL};this.computeCurrentPageCleanRelativeURL=function(){if(null==Kameleoon.Internals.runtime.currentPageCleanRelativeURL)Kameleoon.Internals.runtime.currentPageCleanRelativeURL=e.computeRelativeURL(e.computeCurrentPageCleanAbsoluteURL());return Kameleoon.Internals.runtime.currentPageCleanRelativeURL};this.computeIfSuffix=function(e,t){var n=e.length-t.length;var a=e.lastIndexOf(t,n);return a>=0&&a==n};this.computeRelativeURL=function(e){var t=document.createElement("a");t.href=e;return t.pathname+t.search+t.hash};this.computeStringSha256=function(t){var n=1,a,r=[],o=[];while(++n<18)for(a=n*n;a<312;a+=n)r[a]=1;function i(e,t){return Math.pow(e,1/t)%1*4294967296|0}for(n=1,a=0;n<313;)if(!r[++n]){o[a]=i(n,2);r[a++]=i(n,3)}function l(e,t){return e>>>t|e<<32-t}var s=o.slice(n=0),m=e.encodeUTF8(t),c=[],u=m.length,f=[],d,g,p;for(;n<u;)f[n>>2]|=(255&m.charCodeAt(n))<<8*(3-n++%4);u*=8;f[u>>5]|=128<<24-u%32;f[p=u+64>>5|15]=u;for(n=0;n<p;n+=16){d=s.slice(a=0,8);for(;a<64;d[4]+=g){if(a<16)c[a]=f[a+n];else c[a]=(l(g=c[a-2],17)^l(g,19)^g>>>10)+(0|c[a-7])+(l(g=c[a-15],7)^l(g,18)^g>>>3)+(0|c[a-16]);var h=void 0;d.unshift((g=(d.pop()+(l(h=d[4],6)^l(h,11)^l(h,25))+((h&d[5]^~h&d[6])+r[a])|0)+(0|c[a++]))+(l(u=d[0],2)^l(u,13)^l(u,22))+(u&d[1]^d[1]&d[2]^d[2]&u))}for(a=8;a--;)s[a]=d[a]+s[a]}for(m="";a<63;)m+=(s[++a>>3]>>4*(7-a%8)&15).toString(16);return m};this.computeURLNoKameleoonParameters=function(e){return e.replace(/(\?|&|#)kameleoon[^&#]*/g,"")};this.computeURLRegExpNoKameleoonParameters=function(e){return e?e.replace(/(\\\?|&|#)kameleoon[^&#()]*/g,""):null};this.createLocalData=function(t,n,a,r,o,i,l,s){var m="LS"==o?!0:"COOKIE"==o?!1:!0;var c=(new Date).getTime();if(!s&&!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){var u=m?"LS":"COOKIE";if(null==Kameleoon.Internals.runtime.localDataMap)Kameleoon.Internals.runtime.localDataMap={};if(null==Kameleoon.Internals.runtime.localDataMap[u])Kameleoon.Internals.runtime.localDataMap[u]={};Kameleoon.Internals.runtime.localDataMap[u][t]={name:t,value:n,days:a,domain:r,forceLocalAccess:o,jsonFormat:i,creationTime:c};if(m)l&&l();return}if(m){var f=c+24*a*60*60*1e3;if(Kameleoon.Internals.runtime.iframeLocalStorage)e.postMessageToExternalIframe(JSON.stringify({type:"set",key:t,data:{value:Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[t]&&e.obfuscateString(JSON.stringify(n))||n,expirationDate:f},callbackId:e.addPostMessageCallback(l)}));else{try{localStorage.setItem(t,JSON.stringify({value:Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[t]&&e.obfuscateString(JSON.stringify(n))||n,expirationDate:f}))}catch(e){}l&&l()}}else{var d="";var g=i?JSON.stringify(n):n;if(a){var f=new Date(c+24*a*60*60*1e3);d="; expires="+f.toUTCString()}if("CURRENT_HOST"!=r){r=r||e.obtainCurrentRootDomain(t,g);d+="; domain="+r}var p=Kameleoon.Internals.configuration.useSecureCookie?"; Secure":"";document.cookie=t+"="+g+d+"; path=/; SameSite=Lax"+p}};this.decodeString=function(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a="";var r,o,i;var l,s,m,c;var u=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(u<t.length){l=n.indexOf(t.charAt(u++));s=n.indexOf(t.charAt(u++));m=n.indexOf(t.charAt(u++));c=n.indexOf(t.charAt(u++));r=l<<2|s>>4;o=(15&s)<<4|m>>2;i=(3&m)<<6|c;a+=String.fromCharCode(r);if(64!=m)a+=String.fromCharCode(o);if(64!=c)a+=String.fromCharCode(i)}a=e.decodeUTF8(a);return a};this.decodeUTF8=function(e){var t="";var n=0;var a=0,r=0,o;while(n<e.length){a=e.charCodeAt(n);if(a<128){t+=String.fromCharCode(a);n++}else if(a>191&&a<224){r=e.charCodeAt(n+1);t+=String.fromCharCode((31&a)<<6|63&r);n+=2}else{r=e.charCodeAt(n+1);o=e.charCodeAt(n+2);t+=String.fromCharCode((15&a)<<12|(63&r)<<6|63&o);n+=3}}return t};this.domReady=function(t){if("complete"==document.readyState||"interactive"==document.readyState)return t();else{var n=!1;e.addEventListener(document,"DOMContentLoaded",(function(){if(n)return;n=!0;t()}),!1);e.addEventListener(window,"load",(function(){if(n)return;n=!0;t()}),!1)}};this.encodeString=function(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a="";var r,o,i,l,s,m,c;var u=0;t=e.encodeUTF8(t);while(u<t.length){r=t.charCodeAt(u++);o=t.charCodeAt(u++);i=t.charCodeAt(u++);l=r>>2;s=(3&r)<<4|o>>4;m=(15&o)<<2|i>>6;c=63&i;if(isNaN(o))m=c=64;else if(isNaN(i))c=64;a=a+n.charAt(l)+n.charAt(s)+n.charAt(m)+n.charAt(c)}return a};this.encodeUTF8=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);if(a<128)t+=String.fromCharCode(a);else if(a>127&&a<2048){t+=String.fromCharCode(a>>6|192);t+=String.fromCharCode(63&a|128)}else{t+=String.fromCharCode(a>>12|224);t+=String.fromCharCode(a>>6&63|128);t+=String.fromCharCode(63&a|128)}}return t};this.eraseLocalData=function(t,n,a){var r="LS"==a?!0:"COOKIE"==a?!1:!0;var o=Kameleoon.Internals.runtime.localDataMap;var i=r?"LS":"COOKIE";if(null!=o&&null!=o[i]&&null!=o[i][t])delete o[i][t];if(r)if(Kameleoon.Internals.runtime.iframeLocalStorage)e.postMessageToExternalIframe(JSON.stringify({type:"remove",key:t,callbackId:e.addPostMessageCallback(null)}));else localStorage.removeItem(t);else e.createLocalData(t,"",-1,n,"COOKIE",!1,null,!0)};this.forceNoFlicker=function(e){var t=document.createElement("style");t.setAttribute("id","kameleoonPageLoading");t.setAttribute("rel","stylesheet");t.setAttribute("type","text/css");t.setAttribute("media","screen");var n=e+" { visibility: hidden !important; background-image: none !important; }";t.appendChild(document.createTextNode(n));Kameleoon.Internals.runtime.headNode.appendChild(t)};this.getLocale=function(e){var t=Kameleoon.Gatherer.Language.obtainLocaleTag();if("fr-FR"==t)t="fr";if("en-US"==t)t="en";if(e&&(!t||"fr"!=t))t="en";return t.substring(0,2)};this.obtainComputedStyle=function(e){if(window.getComputedStyle)return getComputedStyle(e,"");return null};this.obtainCurrentRootDomain=function(t,n){if(null==Kameleoon.Internals.runtime.currentRootDomain){var a=window.location.hostname.split(".");var r="";var o="_testRootDomain";for(var i=0,l=a.length;i<l;i++){if(i>0)r="."+r;r=a[l-i-1]+r;if(0==r.length)continue;n+=o;e.createLocalData(t,n,1,r,"COOKIE",!1,void 0,!0);var s=e.readLocalData(t,"COOKIE",!1);if(s&&-1!=s.indexOf(o)){e.eraseLocalData(t,r,"COOKIE");Kameleoon.Internals.runtime.currentRootDomain=r;break}}}return Kameleoon.Internals.runtime.currentRootDomain};this.obtainRandomString=function(e,t){if(void 0===t)t=Analyst.CODE_ALPHABET;var n=t.length;var a="";for(var r=0;r<e;++r){var o=Math.floor(Math.random()*n);a+=t.substring(o,o+1)}return a};this.parseHostName=function(e){var t=document.createElement("a");t.href=e;return t.hostname};this.processRedirect=function(e,t){if(window.location.href!=e){t=t||Kameleoon.Analyst.Actions.currentAction;if(Kameleoon.Internals.runtime.gathererRun&&1==Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length){if(Kameleoon.Internals.configuration.googleAnalytics)e=Kameleoon.Utils.addParameterToURL(e,"utm_referrer="+encodeURIComponent(document.referrer),Kameleoon.Internals.configuration.googleAnalyticsAllowAnchor);if(Kameleoon.Internals.configuration.adobeOmniture)e=Kameleoon.Utils.addParameterToURL(e,"sc_referrer="+encodeURIComponent(document.referrer),!0);if(Kameleoon.Internals.configuration.experiments.concat(Kameleoon.Internals.configuration.personalizations).filter((function(e){return e.atInternetTracking})).length>0)e=Kameleoon.Utils.addParameterToURL(e,"xtref="+encodeURIComponent(document.referrer),!0);if(Kameleoon.Internals.configuration.experiments.concat(Kameleoon.Internals.configuration.personalizations).filter((function(e){return e.webtrekkTracking})).length>0)if(1==Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length){e=Kameleoon.Utils.addParameterToURL(e,"em_src=ref",!0);var n=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrerHref");if(null!=n&&0==n.length)e=Kameleoon.Utils.addParameterToURL(e,"em_src=direct",!0);else if(null!=n&&new RegExp("^https?://[^/]*(google|bing|yahoo|yandex|baidu)\\..*").test(n))e=Kameleoon.Utils.addParameterToURL(e,"em_src=suma",!0)}}var a=Kameleoon.Internals.runtime.parameters;if(a.kameleoonHeatMap){e+=-1==e.indexOf("?")?"?":"&";e+="kameleoonHeatMap="+a.kameleoonHeatMap;e+="&kameleoonProgressiveLoading="+a.kameleoonProgressiveLoading;e+="&kameleoonExperimentId="+a.kameleoonExperimentId;e+="&kameleoonPageWidth="+a.kameleoonPageWidth;e+="&kameleoonAccountLocale="+a.kameleoonAccountLocale;e+="&kameleoonVariationId="+a.kameleoonVariationId;e+="&kameleoonHeatMapRedirect=true"}var r=document.createElement("a");r.href=e;if(!Kameleoon.Internals.runtime.useWideDomainSupport&&-1==window.location.href.indexOf(r.protocol+"//"+r.hostname)){if(t)e=Kameleoon.Utils.addParameterToURL(e,"kameleoonRedirect-"+t.id+"="+t.associatedVariation.id,!0)}else if(t)Kameleoon.Utils.createLocalData("kameleoonRedirect-"+t.id,t.associatedVariation.id,1,null,null,!1,null,!0);if(window.location.href!=e&&!a.kameleoonHeatMapRedirect){Kameleoon.Utils.forceNoFlicker("*");window.location.replace(e)}}};this.processStorageData=function(e){if(Kameleoon.Internals.runtime.setupAfterLocalDataRetrieval)switch(e.type){case"kameleoonExperiment":for(var t=0,n=Kameleoon.Internals.runtime.experiments.length;t<n;++t){var a=Kameleoon.Internals.runtime.experiments[t];if(e.experimentId==a.id){a.registeredVariationId=e.registeredVariationId;break}}break;case"kameleoonGlobalPersonalizationExposition":Kameleoon.Internals.runtime.personalizationsActive=e.active;break;case Kameleoon.Internals.runtime.dataKeyName:case"kameleoonSimulationVisitorData":if("kameleoonData"==e.type&&!Kameleoon.Internals.runtime.simulationMode||"kameleoonSimulationVisitorData"==e.type&&Kameleoon.Internals.runtime.simulationMode){Kameleoon.Internals.runtime.storedData.update(JSON.parse(Kameleoon.Utils.unobfuscateString(e.value)));Kameleoon.Internals.runtime.Visitor.updateFromStoredData(!1,!1,!1)}break;case"kameleoonLegalConsent":if(e.saveLegalConsent){var r=function(e){return e?"enable":"disable"};if(null!=e.saveLegalConsent.AB_TESTING){var o=r(e.saveLegalConsent.AB_TESTING);Kameleoon.Internals.runtime.Consent[o]("AB_TESTING",!0)}if(null!=e.saveLegalConsent.PERSONALIZATION){var o=r(e.saveLegalConsent.PERSONALIZATION);Kameleoon.Internals.runtime.Consent[o]("PERSONALIZATION",!0)}}break}};this.querySelectorAll=function(t,n){Kameleoon.Internals.runtime.querySelectorAllHasError=!1;var a=!1,r,o=[],i=[];if(null==n)n=document;var l=t.match(/#([0-9]+.*)(?: |$)/);if(l){var s=t.charAt(1);t=t.replace("#"+s,"#\\3"+s+" ")}if(""!==t){if(-1!==t.indexOf("[")&&-1===t.indexOf("']")&&-1===t.indexOf('"]')){var m=t.split(/(?=\.)|(?=#)|(?=\[)/),c,u,f;m.forEach((function(e){if("["===e[0]&&-1===e.indexOf("']")&&-1===t.indexOf('"]')&&-1!==t.indexOf("=")){c=e.split(/=(.+)?/);u=c[1];u=u.substring(0,u.length-1);f=c[0]+"='"+u+"']";t=t.replace(e,f)}}))}if(-1!==t.indexOf(":contains")){a=!0;r=e.treatContainsSelector(t);t=r.newSelector}if(n&&n.querySelectorAll)if(-1!==t.indexOf(":eq"))o=e.treatEqSelector(t,n);else try{o=n.querySelectorAll(t)}catch(e){Kameleoon.Internals.runtime.querySelectorAllHasError=!0;o=[]}for(var d=0,g=o.length;d<g;++d)if(a){if(r.check(r.containText,o[d]))i.push(o[d])}else i.push(o[d])}return i};this.readLocalData=function(t,n,a){var r="LS"==n?!0:"COOKIE"==n?!1:!0;var o=(new Date).getTime();try{if(!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){var i=Kameleoon.Internals.runtime.localDataMap;var l=r?"LS":"COOKIE";if(null!=i&&null!=i[l]&&null!=i[l][t]){var s=i[l][t];if(o-24*s.days*60*60*1e3>=s.creationTime)delete i[l][t];else return s.value}}if(r){var s=void 0;try{s=localStorage&&localStorage.getItem(t);if(!s)return null;if(Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[t])s=e.unobfuscateString(s);s=JSON.parse(s)}catch(n){s=localStorage&&localStorage.getItem(t);if(!s)return null;s=JSON.parse(s);if(Utils.LOCAL_STORAGE_OBFUSCATED_KEYS[t])s.value=JSON.parse(e.unobfuscateString(s.value))}if(o>(s.date||s.expirationDate)){localStorage.removeItem(t);return null}return s.value}else{var m=null;var c=document.cookie.split(";");for(var u=0,f=c.length;u<f;++u){var d=c[u];var g=d.indexOf("=");if(d.substring(0,g).trim()==t){var p=d.substring(g+1);m=a&&JSON.parse(p)||p;break}}return m}}catch(e){}return null};this.runProtectedFunction=function(e,t){try{e()}catch(e){if(t)console.log(e);else Kameleoon.Utils.Logger.send(e,"kameleoon.js");if(Kameleoon.Internals.runtime&&t)Kameleoon.Internals.runtime.processPageLoaded()}};this.runProtectedScript=function(e,t){if(e){var n=null;try{n=eval.call(window,"(function () {\n"+e+"\n})();"+"//# sourceURL="+t)}catch(e){n=null;console.log(e)}return n}return null};this.seededRandom=function(t,n){var a;if(n){a=Kameleoon.Utils.computeStringSha256(t);return parseInt(a,16)/Math.pow(2,256)}a=e.computeStringHash(t);a=(9301*Math.abs(a)+49297)%233280;return a/233280};this.treatEqSelector=function(e,t){if(void 0===e)return null;var n=e.split(/\:eq\([0-9]+\)/g);var a=e.match(/(?!\:eq\()[0-9]+/g)||[];var r=null==t?document:t;for(var o=0;o<n.length;++o){n[o]=n[o].trim();if(">"===n[o].charAt(0))n[o]=n[o].substring(1,e.length).trim();if(null==r||""==n[o].trim())break;if(o>a.length-1)r=r.querySelectorAll(n[o]);else r=r.querySelectorAll(n[o])[a[o]]}if(null==r)return[];if(void 0==r.length)r=[r];var i=Kameleoon.Utils.querySelectorAll(e.replace(/\:eq\([0-9]+\)/g,""));var l=[];for(var o=0;o<i.length;++o)for(var s=0;s<r.length;++s)if(i[o]===r[s]){l.push(r[s]);break}return l};this.Logger=new Logger;this.bowser=window.kbowser||window.bowser}Utils.prototype.addEventListener=function(e,t,n,a,r){var o;if(e==window)o="window";else if(e==document)o="document";else{o=Kameleoon.Utils.obtainRandomString(4);e.setAttribute("kameleoonListener-".concat(o),!0)}var i=n;if(r)e.addEventListener(t,i,a);else{i=function(e){Kameleoon.Utils.runProtectedFunction((function(){n(e)}))};e.addEventListener(t,i,a)}Kameleoon.Internals.runtime.eventListeners.push({elementKey:o,eventType:t,actionFunction:i,useCapture:a})};Utils.prototype.addPostMessageCallback=function(e){var t=Math.random().toString();Kameleoon.Internals.runtime.postMessageCallbacks[t]=e;return t};Utils.prototype.addCSSStyleSheet=function(e,t,n){if(!e)return;var a=n?n:document;var r="kameleoonStyleSheet"+(t?"-"+t.id:"");var o=n?n.getElementById(r):null;var i="";if(o){i=o.textContent;o.parentNode.removeChild(o)}var l=a.createElement("style");l.className="KameleoonStyleSheet";l.setAttribute("id",r);l.setAttribute("rel","stylesheet");l.setAttribute("type","text/css");l.setAttribute("media","screen");var s=i+e;if(l.styleSheet)l.styleSheet.cssText=s;else l.appendChild(document.createTextNode(s));if(n)a.getElementsByTagName("head")[0].appendChild(l,a.getElementsByTagName("head")[0].firstChild);else Kameleoon.Internals.runtime.headNode.appendChild(l);if(t)t.loadedCSSStyleSheet=l};Utils.prototype.applyVariation=function(e){new Variation(e).process()};Utils.prototype.clearInterval=function(e){delete Kameleoon.Internals.runtime.intervalIds[e];window.clearInterval(e)};Utils.prototype.clearTimeout=function(e){delete Kameleoon.Internals.runtime.timeoutIds[e];window.clearTimeout(e)};Utils.prototype.clone=function(e){return JSON.parse(JSON.stringify(e))};Utils.prototype.computeCurrentPageCleanAbsoluteURL=function(){if(null==Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL){Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=this.computeURLNoKameleoonParameters(this.computeCurrentPageAbsoluteURLNoProxyMode());try{Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL=decodeURIComponent(Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL)}catch(e){}}return Kameleoon.Internals.runtime.currentPageCleanAbsoluteURL};Utils.prototype.computeStringHash=function(e,t){e=t?this.computeStringSha256(e):e;var n=0;for(var a=0;a<e.length;++a){n=(n<<5)-n+e.charCodeAt(a);n&=n}return n};Utils.prototype.secureSessionStorage=function(e,t,n){try{return window.sessionStorage[e](t,n)}catch(e){return null}};Utils.prototype.flatten=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];for(var a=0;a<arguments.length;a++)if(arguments[a]instanceof Array)n.push.apply(n,Kameleoon.Utils.flatten.apply(this,arguments[a]));else n.push(arguments[a]);return n};Utils.prototype.isInsideHoursMinutesRange=function(e,t,n,a,r,o){if(0==a){n--;if(-1==n)n=23;a=60}if(n<e||n==e&&a<t){n+=24;if(r<e||r==e&&o<t)r+=24}var i=60*(60*r+o)*1e3;var l=60*(60*e+t)*1e3;var s=60*(60*n+a)*1e3;return i>=l&&i<s};Utils.prototype.obfuscateString=function(e){var t="";for(var n=0,a=e.length;n<a;n+=1){var r=e[n];if("’"==r)r="'";t+=String.fromCharCode(r.charCodeAt(0)+16)}return t};Utils.prototype.parseParameters=function(){var e={};var t=window.location.hash.substring(1).replace(/\?/g,"&");var n=window.location.search.substring(1);if(n||t){var a=(n?n.split("&"):[]).concat(t?t.split("&"):[]);a.forEach((function(t){var n=t.split("=");try{e[decodeURIComponent(n[0])]=n[1]?decodeURIComponent(n[1]):null}catch(t){e[unescape(n[0])]=n[1]?unescape(n[1]):null}}))}return e};Utils.prototype.performBeaconServerCall=function(e,t,n,a){var r=new XMLHttpRequest;r.open("GET",e,!0);if(t)r.onreadystatechange=function(e){t.bind(r)(e.target)};if(n){r.onerror=function(e){n.bind(r)(e.target)};r.ontimeout=function(e){n.bind(r)(e.target)}}r.timeout=a||15*60*1e3;r.send()};Utils.prototype.postMessageToExternalIframe=function(e){if(!Kameleoon.Internals.runtime.externalIframe||!Kameleoon.Internals.runtime.externalIframe.contentWindow){if(window.kameleoonIframeURL){var t=document.createElement("iframe");t.src=window.kameleoonIframeURL;t.id="kameleoonExternalIframe";t.style.cssFloat="left !important";t.style.height="0px !important";t.style.opacity="0.0 !important";t.style.width="0px !important";t.onload=function(){Kameleoon.Internals.runtime.externalIframe=t;Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+e,"*")};document.head.appendChild(t)}}else Kameleoon.Internals.runtime.externalIframe.contentWindow.postMessage("kameleoon"+e,"*")};Utils.prototype.processMessageEvent=function(event){if("string"!==typeof event.data)return;if("obtainTagCommanderVariableNames"==event.data){var tagCommanderVariableNames=[];if(window.tc_vars)for(var tagCommanderVariableName in window.tc_vars)tagCommanderVariableNames.push(tagCommanderVariableName);if(!(event.source instanceof MessagePort)&&!(event.source instanceof ServiceWorker))event.source.postMessage("tagCommanderVariableNames"+JSON.stringify(tagCommanderVariableNames),event.origin);return}if(0==event.data.indexOf("checkKameleoonScriptPresent")){if("https://back-office."+Kameleoon.Internals.configuration.DOMAIN==event.origin){var resultMessage="";var obtainScriptInstallationCode=event.data.replace("checkKameleoonScriptPresent","");eval(obtainScriptInstallationCode);if(!(event.source instanceof MessagePort)&&!(event.source instanceof ServiceWorker))event.source.postMessage(resultMessage,event.origin)}return}if(-1==event.data.indexOf("kameleoonFull")){if(event.data.indexOf("addKameleoonInterest")>=0||event.data.indexOf("finishKameleoonInterestCheck")>=0){Kameleoon.Internals.runtime.Gatherer.interestsChecked=!0;var messageData_1=JSON.parse(event.data);if("addKameleoonInterest"==messageData_1.command)Kameleoon.Internals.runtime.Gatherer.freshActiveInterestIndexes.push(messageData_1.index);--Kameleoon.Internals.runtime.numberInterestChecks;if(0==Kameleoon.Internals.runtime.numberInterestChecks)var timeoutId_1=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(timeoutId_1);var e=document.getElementsByClassName("KameleoonInterestDetection");for(var t=0,n=e.length;t<n;++t){var a=e.item(0);a.parentNode.removeChild(a)}Kameleoon.Gatherer.track(VisitEvent_Interests,{index:messageData_1.index,fresh:!0})}),300);return}if(event.data.indexOf("imageChecked")>=0){var messageData=JSON.parse(event.data);if(null!=Kameleoon.Internals.runtime.checkImageCallbacks&&null!=Kameleoon.Internals.runtime.checkImageCallbacks[messageData.callbackId]){var callback=Kameleoon.Internals.runtime.checkImageCallbacks[messageData.callbackId];delete Kameleoon.Internals.runtime.checkImageCallbacks[messageData.callbackId];callback&&callback(messageData.value);var iframes=document.getElementsByClassName("KameleoonImageDetection");for(var i=0,l=iframes.length;i<l;++i){var iframe=iframes.item(0);iframe.parentNode.removeChild(iframe)}}}}if(Kameleoon.Internals.runtime.iframeLocalStorage&&Kameleoon.Internals.runtime.postMessageOrigin==event.origin)try{var messageData=JSON.parse(event.data);if(messageData.kameleoonMessage){if(messageData.callbackId){var callback=Kameleoon.Internals.runtime.postMessageCallbacks[messageData.callbackId];delete Kameleoon.Internals.runtime.postMessageCallbacks[messageData.callbackId];callback&&callback(messageData.data)}if(null!=messageData.type)Kameleoon.Utils.processStorageData(messageData)}}catch(e){}};Utils.prototype.removeBlockingStyleSheet=function(){var e=document.getElementById("kameleoonPageLoading");if(e&&e.parentNode)e.parentNode.removeChild(e)};Utils.prototype.removeCSSStyleSheet=function(e){if(e.loadedCSSStyleSheet){var t=e.loadedCSSStyleSheet.id.replace("kameleoonStyleSheet-","");if(-1==t.indexOf(",")){Kameleoon.Internals.runtime.headNode.removeChild(e.loadedCSSStyleSheet);e.loadedCSSStyleSheet=null}else e.loadedCSSStyleSheet.id="kameleoonStyleSheet-"+t.replace(new RegExp(e.id+",?"),"")}};Utils.prototype.sendKameleoonCustomEvent=function(e,t,n){try{var a=document.createEvent("CustomEvent");t.time=(new Date).getTime();a.initCustomEvent("Kameleoon::"+e,!1,!1,t);window.dispatchEvent(a);if(sessionStorage.getItem("kameleoonLightExtension")||Kameleoon.Internals.runtime.parameters.kameleoonLightExtension){t.type=n?n:t.type;window.kameleoonEvents=window.kameleoonEvents||[];window.kameleoonEvents.push(t)}}catch(e){}};Utils.prototype.setInterval=function(e,t,n,a){var r=window.setInterval((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),a)}),t);Kameleoon.Internals.runtime.intervalIds[r]=!0;if(n)e();return r};Utils.prototype.setTimeout=function(e,t,n){var a=window.setTimeout((function(){Kameleoon.Utils.runProtectedFunction((function(){e()}),n)}),t);Kameleoon.Internals.runtime.timeoutIds[a]=!0;return a};Utils.prototype.testEmptyMap=function(e){return 0==Object.keys(e).length};Utils.prototype.treatContainsSelector=function(e){var t={},n;function a(e,t){var n=!1;if(t.textContent&&-1!==t.textContent.indexOf(e))n=!0;return n}n=e.match(/:contains\(['"]([\s\S]+)['"]\)/);t.containText=n[1];t.newSelector=e.replace(n[0],"");if(""===t.newSelector)t.newSelector="*";t.check=a;return t};Utils.prototype.unobfuscateString=function(e){var t="";for(var n=0,a=e.length;n<a;n+=1)t+=String.fromCharCode(e[n].charCodeAt(0)-16);return t};Utils.LOCAL_STORAGE_OBFUSCATED_KEYS={kameleoonData:!0,kameleoonSimulationVisitorData:!0};Utils.MAX_STORAGE_DAYS=365;return Utils}();var Browser=function(){function r(r){this.browsers=r}r.prototype.obtain=function(){var r=Kameleoon.Internals.runtime.Device.browser;if("Internet Explorer"==r||"Microsoft Edge"==r)r="Explorer";return r};r.prototype.obtainIndex=function(){var r=this.obtain()||"";var e=r.toUpperCase();for(var t in this.browsers)if(this.browsers[t].name.toUpperCase()==e)return parseInt(t);return null};return r}();var CustomData=function(){function CustomData(customData){var _this=this;this.CUSTOM_DATA_CUTOFF=3*1e3;this.CUSTOM_DATA_INTERVAL=3*1e3;this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF=100;this.MAX_INTERVAL_API_VISIT_REQUEST=15*60*1e3;this.MAX_NUMBER_REQUESTS_TO_API_VISIT=3;this.inheritVisitorScopeAndTrackVisitorDataFromServer=function(){if(Kameleoon.Internals.runtime.Visitor.visits.length>1){var e=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum;var t=Kameleoon.Internals.runtime.Visitor.visits[Kameleoon.Internals.runtime.Visitor.visits.length-2].countByValueByCustomDatum;for(var a in _this.customData){var n=_this.customData[a].scope;if("VISITOR"==n&&null==e[a]){var r=t[a];if(null!=r)_this.register(parseInt(a),{value:r,overwrite:!0},!0)}}Kameleoon.Internals.runtime.Visitor.saveToStoredData()}};this.register=function(e,t,a){var n=_this.customData[e];if(n){var r={};var i=t.value;if(null==i)return;var o=t.overwrite;if(a)r=i;else if(i instanceof Array){for(var s=0,l=i.length;s<l;++s)if(null!=i[s]&&(i[s].toString().length<=VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||n.localOnly))r[i[s]]=1}else if(i.toString().length<=VisitEvent_CustomData.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||n.localOnly)r[i]=1;var u="LIST"==n.type||"COUNT_LIST"==n.type?o:!0;if(u||!Kameleoon.Utils.testEmptyMap(r)){if(n.mappingIdentifier){var m=(new Date).getTime(),c=!0,v=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","visitsRequestTimeSent",[]);v=v.filter((function(e){return e>m-_this.MAX_INTERVAL_API_VISIT_REQUEST}));if(v.length<_this.MAX_NUMBER_REQUESTS_TO_API_VISIT)v.push(m);else c=!1;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","visitsRequestTimeSent",v);if(c){var _=a?Object.keys(i)[0]:i;_this.remoteSynchronisation(e,_,_this.registerVisitsRequestSuccessAndChangePreviousVisits)}}Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"CustomDataSet",{name:n.name,value:i});Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"customData/set",name:n.name,value:i});Kameleoon.Gatherer.track(VisitEvent_CustomData,{index:e,overwrite:u,countByValueToAdd:r,value:i,localOnly:n.localOnly})}}};this.registerVisitsRequestSuccessAndChangePreviousVisits=function(e){Kameleoon.Internals.runtime.storedData.saveField("Gatherer","visitsRequestSuccess",!0);var t=[];for(var a=0,n=e.length;a<n;++a)t.push(new Visit(e[a]).convertVisitFromServer());if(t.length>0){var r=Kameleoon.Internals.runtime.Visitor;r.addPreviousVisits(t);r.updateAndTrackInfluences();r.saveToStoredData();_this.inheritVisitorScopeAndTrackVisitorDataFromServer()}};this.run=function(){Kameleoon.Internals.runtime.Visitor.currentVisit.clearCustomDataPage();Kameleoon.Utils.clearInterval(_this.intervalId);if(Kameleoon.Internals.runtime.Gatherer.startOfVisit)_this.inheritVisitorScopeAndTrackVisitorDataFromServer();_this.firstTimeCheck=(new Date).getTime();_this.intervalId=Kameleoon.Utils.setInterval(_this.obtain.bind(_this),_this.CUSTOM_DATA_RETRY_DELAY_BEFORE_CUT_OFF,!0);Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearInterval(_this.intervalId)}),_this.CUSTOM_DATA_CUTOFF);Kameleoon.Utils.setInterval(_this.obtain.bind(_this),_this.CUSTOM_DATA_INTERVAL,!1)};this.customData=customData;Kameleoon.Internals.runtime.enableHistoryReconciliation=!1;for(var key in customData)if(customData[key].mappingIdentifier){Kameleoon.Internals.runtime.enableHistoryReconciliation=!0;break}}CustomData.prototype.obtain=function(){for(var e in this.customData)if(!this.customData[e].treated){var t=parseInt(e);var a=this.obtainValueMap(t,this.customData[e]);if(a)this.register(t,a)}};CustomData.prototype.obtainValueFromPath=function(e,t){return e.match(/[^'\]\[\.\"]+/gi).reduce((function(e,t){return e&&e[t]}),t)};CustomData.prototype.obtainValueMap=function(e,t){var a=null;if(null!=t&&!t.disabled)switch(t.method.toUpperCase()){case"GTM":if(window.dataLayer&&t.variableName)for(var n=0,r=window.dataLayer.length;n<r;++n){var i=this.obtainValueFromPath(t.variableName,window.dataLayer[n]);if(null!=i){a={value:i,overwrite:!1};break}}break;case"TC":if(window.tc_vars&&t.variableName){var i=this.obtainValueFromPath(t.variableName,window.tc_vars);if("string"==typeof i&&0==i.length)i=null;if(null!=i){a={value:i,overwrite:!1};break}}break;case"TEALIUM":if(window.utag_data&&t.variableName){var i=this.obtainValueFromPath(t.variableName,window.utag_data);if("string"==typeof i&&0==i.length)i=null;if(null!=i){a={value:i,overwrite:!1};break}}break;case"CUSTOM_CODE":a=Kameleoon.Utils.runProtectedScript(t.customEvalCode,"kameleoonCustomDataScript-"+e+".js");break;default:break}if(null!=a){t.treated=!0;var o=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum[e];var s=a.value;if(null!=s){var l=t.type;if("LIST"==l||"COUNT_LIST"==l||null==o||Object.keys(o)[0]!=s||Kameleoon.Internals.runtime.enableHistoryReconciliation&&t.mappingIdentifier&&null==Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","visitsRequestSuccess"))return a}}return null};CustomData.prototype.remoteSynchronisation=function(e,t,a){if("string"==typeof t&&t.length>0){var n=1;Kameleoon.Utils.performBeaconServerCall("https://api-visit.".concat(Kameleoon.Internals.configuration.VISITOR_DOMAIN,"/visitor?siteCode=").concat(Kameleoon.Internals.configuration.siteCode,"&mappingValue=").concat(encodeURIComponent(t),"&version=").concat(n,"&maxNumberPreviousVisits=").concat(Kameleoon.Internals.configuration.maxNumberLocalVisits,"&format=ENGINE&currentVisit=false"),(function(e){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText).previousVisits;Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"RemoteSynchronizationPerformed",{visits:t});a&&a(t)}}))}};return CustomData}();var KeyPage=function(){function e(e){this.keyPages=e}e.prototype.obtainIndexes=function(){var e=[];for(var t in this.keyPages){var n=new RegExp(this.keyPages[t].relativeURLRegExp);if(n.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||n.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL()))e.push(parseInt(t))}if(0==e.length)e.push(null);return e};return e}();var KeyWord=function(){function r(r){this.keyWords=r}r.prototype.obtainIndexes=function(r){var e=[];for(var t in this.keyWords)if(new RegExp(this.keyWords[t].wordRegExp,"i").test(r))e.push(parseInt(t));return e};return r}();var Language=function(){function a(){this.DEFAULT_LOCALE_LANGUAGE_TAG="en"}a.prototype.obtainLocaleTag=function(){var a=null;if(navigator&&navigator.language)a=navigator.language;return a?a:this.DEFAULT_LOCALE_LANGUAGE_TAG};return a}();var OperatingSystem=function(){function e(e){this.oss=e}e.prototype.obtainIndex=function(){var e=this.obtain()||"";var n=e.toUpperCase();for(var t in this.oss)if(this.oss[t].name.toUpperCase()==n)return parseInt(t);return null};e.prototype.obtain=function(){var e=Kameleoon.Utils.bowser.parse(navigator.userAgent);switch(e.os.name){case"Windows Phone":case"iOS":case"Android":case"Linux":case"Windows":return e.os.name;case"macOS":return"Tablet"==Kameleoon.Internals.runtime.Device.type?"iOS":"Mac";default:return null}};return e}();var Referrer=function(){function Referrer(e){this.referrers=e}Referrer.prototype.obtainCorrected=function(e){switch(this.obtainType(e)){case 0:case 1:case 2:return null;default:return this.obtain()}};Referrer.prototype.obtain=function(){return document.referrer};Referrer.prototype.obtainDetectionMatches=function(e){var r=this.obtainDetectionPartMatches(e.method,e.parameters);if(e.and)r=r&&this.obtainDetectionPartMatches(e.andMethod,e.andParameters);return r};Referrer.prototype.obtainDetectionPartMatches=function(method,parameters){switch(method.toUpperCase()){case"REFERRER_REGEX":return new RegExp(parameters).test(this.obtain());case"URL_REGEX":var regExp=new RegExp(parameters);return regExp.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())||regExp.test(Kameleoon.Utils.computeCurrentPageCleanRelativeURL());default:try{return!0===eval(parameters)}catch(e){return!1}}};Referrer.prototype.obtainIndexes=function(e){switch(this.obtainType(e)){case 0:case 2:return[null];case 1:return[0];default:var r=[];var t=Number.NEGATIVE_INFINITY;for(var n in Kameleoon.Internals.runtime.Gatherer.configuration.referrers){var a=Kameleoon.Internals.runtime.Gatherer.configuration.referrers[n];if(this.obtainMatches(a)){var o=a.priority;if(null==o)o=Number.NEGATIVE_INFINITY;if(o>=t){if(o>t){r=[];t=o}r.push(parseInt(n)+1)}}}if(0==r.length)r.push(null);return r}};Referrer.prototype.obtainIsIgnored=function(e){var r=this.obtain();if(Kameleoon.Internals.runtime.Gatherer.configuration.directNoneReferrerOnlyFirst)if(""==r&&!e)return!0;var t=window.location.pathname;var n=Kameleoon.Internals.runtime.Gatherer.configuration.noReferrerPages.length;for(var a=0;a<n;a++)if(t==Kameleoon.Internals.runtime.Gatherer.configuration.noReferrerPages[a])return!0;return!1};Referrer.prototype.obtainMatches=function(e){var r=e.detections;for(var t=0;t<r.length;t++)if(this.obtainDetectionMatches(r[t]))return!0;return!1};Referrer.prototype.obtainType=function(e){if(this.obtainIsIgnored(e))return 0;var r=-1;var t=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","startsOfVisitForCurrentPage");if(t>1)return 1;if(r>=0)return 2;return 3};return Referrer}();var StoredData=function(){function a(a){var e=this;this.Gatherer={};this.Runtime={};this.Vars=Kameleoon.Utils.readLocalData("kameleoonVars","LS")||{};this.Visitor={};this.canSave=!1;if(a){var t="";if(a[Kameleoon.Internals.runtime.dataKeyName]){t=a[Kameleoon.Internals.runtime.dataKeyName];if(a.Kameleoon)Kameleoon.Utils.eraseLocalData("kameleoonData",null,"LS")}else if(a.kameleoonData)t=a.kameleoonData;if(Kameleoon.Internals.runtime.simulationMode)if(a.kameleoonDataSimulation||a.kameleoonSimulationVisitorData)t=a.kameleoonDataSimulation||a.kameleoonSimulationVisitorData;var i=Kameleoon.Utils.unobfuscateString(t);var o=i&&JSON.parse(i)||{};this.Gatherer=o.Gatherer||{};this.Runtime=o.Runtime||{};this.Vars=o.Vars||a.kameleoonVars||{};this.Visitor=o.Visitor||{}}else{var n=Kameleoon.Utils.readLocalData("kameleoonData","LS");if(Kameleoon.Internals.configuration.useMultipleSiteCodes){var l=Kameleoon.Utils.readLocalData(Kameleoon.Internals.runtime.dataKeyName,"LS",!0);if(l)n=l;Kameleoon.Utils.eraseLocalData("kameleoonData",null,"LS")}if(Kameleoon.Internals.runtime.simulationMode)if(Kameleoon.Utils.readLocalData("kameleoonDataSimulation","LS",!0)||Kameleoon.Utils.readLocalData("kameleoonSimulationVisitorData","LS",!0))n=Kameleoon.Utils.readLocalData("kameleoonDataSimulation","LS",!0)||Kameleoon.Utils.readLocalData("kameleoonSimulationVisitorData","LS",!0);if(n){this.Gatherer=n.Gatherer;this.Runtime=n.Runtime||{};this.Vars=n.Vars||this.Vars;this.Visitor=n.Visitor}}Kameleoon.Utils.eraseLocalData("kameleoonVars",null,"LS");for(var s in this.Vars)if(Kameleoon.Internals.runtime.pageStartTime>this.Vars[s].date)delete this.Vars[s];Kameleoon.Utils.setInterval((function(){if(e.canSave){e.save(!0);e.canSave=!1}}),1e3);Kameleoon.Utils.addEventListener(window,"beforeunload",(function(){if(window.self!==window.top){var a=Kameleoon.Utils.readLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,"LS");if(a&&a.Visitor&&e.Visitor&&e.Visitor.totalVisits<a.Visitor.totalVisits)e.update(a)}e.save(!0)}))}a.prototype.obtainField=function(a,e,t){return this[a][e]||t||null};a.prototype.resetForStartOfVisit=function(){this.Runtime={}};a.prototype.saveField=function(a,e,t){this[a][e]=t;this.save(!1)};a.prototype.save=function(a){if(a)Kameleoon.Utils.createLocalData(Kameleoon.Internals.runtime.simulationMode?"kameleoonSimulationVisitorData":Kameleoon.Internals.runtime.dataKeyName,this,Kameleoon.Internals.runtime.simulationMode?1/24:Utils.MAX_STORAGE_DAYS,null,"LS",!0);else this.canSave=!0};a.prototype.update=function(a){this.Gatherer=a.Gatherer||this.Gatherer;this.Runtime=a.Runtime||this.Runtime;this.Vars=a.Vars||this.Vars;this.Visitor=a.Visitor||this.Visitor};return a}();var TimeZone=function(){function t(){}t.prototype.obtainId=function(){var t;try{t="undefined"!=typeof Intl&&Intl.DateTimeFormat().resolvedOptions?Intl.DateTimeFormat().resolvedOptions().timeZone:null}catch(n){t=null}return t};return t}();var VisitEvent=function(){function e(e){this.eventType=e.type;this.visitEvent=e}e.prototype.track=function(e){var t=this;var n=function(){var n=new t.visitEvent(e);Kameleoon.Internals.runtime.Visitor.saveToStoredData();if((!e||!e.notTrack&&!n.notTrack)&&Kameleoon.Internals.configuration.track)Kameleoon.Internals.runtime.RequestManager.addRequest(n);Kameleoon.Internals.runtime.storedData.save(t.visitEvent.urgent)};if(!Kameleoon.Internals.runtime.Visitor.currentVisit.isVisitFinished())n();else if(this.eventType==VisitEvent_Activity.type&&Kameleoon.Internals.runtime.Gatherer.active||this.eventType==VisitEvent_Search.type){Kameleoon.Internals.runtime.Visitor=new Visitor;Kameleoon.Gatherer.track(VisitEvent_Page);Kameleoon.Gatherer.track(VisitEvent_StaticData);Kameleoon.Internals.runtime.Visitor.updateAndTrackInfluences();Kameleoon.Gatherer.CustomData.run();Kameleoon.Internals.runtime.gathererRun=!0;n()}};return e}();var VisitEvent_Main=function(){function t(t){var n=this;this.HEXADECIMAL_ALPHABET="0123456789ABCDEF";this.NONCE_LENGTH=16;this.obtainRequestData=function(){return n.toString()+"&nonce="+n.nonce};this.addValueParameter=function(t){if("object"==typeof t)return encodeURIComponent(JSON.stringify(t));else if("string"==typeof t)return encodeURIComponent(t);return t};this.time=(new Date).getTime();this.nonce=Kameleoon.Utils.obtainRandomString(this.NONCE_LENGTH,this.HEXADECIMAL_ALPHABET)}return t}();var __extends=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n]};return e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var VisitEvent_Activity=function(e){__extends(t,e);function t(){var n=e.call(this)||this;n.eventType=t.type;n.toString=function(){return"eventType=ACTIVITY&numberClicks=".concat(n.numberClicks)};n.numberClicks=Kameleoon.Internals.runtime.Gatherer.numberClicks;Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(n.time,Kameleoon.Internals.runtime.Gatherer.active);Kameleoon.Internals.runtime.Visitor.currentVisit.addNumberClicks(n.numberClicks);Kameleoon.Internals.runtime.Gatherer.active=!1;Kameleoon.Internals.runtime.Gatherer.numberClicks=0;return n}t.initialize=function(){var e=this;var t=function(){Kameleoon.Internals.runtime.Gatherer.active=!0};var n=function(){t();Kameleoon.Internals.runtime.Gatherer.numberClicks++};Kameleoon.Utils.addEventListener(document,"mousemove",t,!1);Kameleoon.Utils.addEventListener(document,"scroll",t,!1);Kameleoon.Utils.addEventListener(document,"click",n,!1);Kameleoon.Utils.setInterval((function(){if(Kameleoon.Internals.runtime.Gatherer.active)Kameleoon.Gatherer.track(e)}),this.ACTIVITY_TRACKING_INTERVAL,!0)};t.ACTIVITY_TRACKING_INTERVAL=15*1e3;t.type="activity";t.urgent=!1;return t}(VisitEvent_Main);var __extends=this&&this.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();var VisitEvent_AdBlocker=function(t){__extends(n,t);function n(){var e=t.call(this)||this;e.eventType=n.type;e.toString=function(){return"eventType=ADBLOCKER"};Kameleoon.Internals.runtime.Visitor.currentVisit.addAdBlocker();return e}n.type="adBlocker";n.urgent=!1;return n}(VisitEvent_Main);var __extends=this&&this.__extends||function(){var t=function(n,i){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]};return t(n,i)};return function(n,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function e(){this.constructor=n}n.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}}();var VisitEvent_Actions=function(t){__extends(n,t);function n(i){var e=t.call(this)||this;e.eventType=n.type;e.toString=function(){var t="eventType=".concat(e.type,"&id=").concat(e.id,"&variationId=").concat(e.variationId,"&mentalistDecision=").concat(e.mentalistDecision);if("EXPERIMENT"==e.type)t+="&train=".concat(e.train);else if(0==e.variationId&&e.unexpositionCause)t+="&unexpositionCause=".concat(e.unexpositionCause);return t};e.id=i.id;e.mentalistDecision=!0===i.mentalistDecision;e.train=!0===i.train;e.type=i.type;e.variationId=i.variationId;e.notTrack=i.notTrack;if(i.unexpositionCause)e.unexpositionCause=i.unexpositionCause;if("EXPERIMENT"==e.type&&null==e.variationId)e.notTrack=!0;var o="EXPERIMENT"==e.type?"addExperiment":"addPersonalization";Kameleoon.Internals.runtime.Visitor.currentVisit[o](e.time,e.id,i.originalVariationId,e.mentalistDecision);return e}n.type="containers";n.urgent=!0;return n}(VisitEvent_Main);var __extends=this&&this.__extends||function(){var e=function(n,t){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t))e[t]=n[t]};return e(n,t)};return function(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function o(){this.constructor=n}n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();var VisitEvent_Conversions=function(e){__extends(n,e);function n(t){var o=e.call(this)||this;o.eventType=n.type;o.toString=function(){return"eventType=CONVERSION&goalId=".concat(o.goalId,"&negative=").concat(o.negative,"&revenue=").concat(o.revenue)};o.goalId=t.goalId;o.negative=!0===t.negative;var r,a=!1;var i=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","revenuesByGoalId",{});var l=i[o.goalId];if(o.negative)if(l&&l.length>0){r=l.splice(-1)[0];if(0==l.length)delete i[o.goalId]}else a=!0;else{r=t.revenue;if(isNaN(r))r=0;if(!l)l=[];l.push(r);i[o.goalId]=l.splice(-10)}o.revenue=r;if(!a){Kameleoon.Internals.runtime.storedData.saveField("Gatherer","revenuesByGoalId",i);Kameleoon.Internals.runtime.Visitor.currentVisit.addConversions(o.goalId,1,o.revenue,o.negative);if(null!=window.Kameleoon.API.conversionCallbacks)for(var s=0,c=window.Kameleoon.API.conversionCallbacks.length;s<c;++s)try{window.Kameleoon.API.conversionCallbacks[s](o.time,o.goalId,o.revenue,o.negative)}catch(e){}}return o}n.type="conversions";n.urgent=!0;return n}(VisitEvent_Main);var __extends=this&&this.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function o(){this.constructor=n}n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();var VisitEvent_CustomData=function(t){__extends(n,t);function n(e){var o=t.call(this)||this;o.eventType=n.type;o.toString=function(){var t=function(){if(null==o.valueToCount.length){var t=[];for(var n in o.valueToCount)t.push([n,o.valueToCount[n]]);return t}return o.valueToCount};return"eventType=CUSTOMDATA&index=".concat(o.index,"&overwrite=").concat(o.overwrite,"&valueToCount=").concat(o.addValueParameter(t()))};o.index=e.index;o.overwrite=e.overwrite||!1;o.notTrack=e.value.length>n.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST||e.localOnly;o.valueToCount=e.countByValueToAdd;Kameleoon.Internals.runtime.Visitor.currentVisit.addCustomData(o.index,o.valueToCount,o.overwrite);return o}n.MAX_SUM_CUSTOM_DATA_VALUES_LENGTHES_IN_A_REQUEST=1e3;n.type="customData";n.urgent=!0;return n}(VisitEvent_Main);var __extends=this&&this.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var VisitEvent_Page=function(e){__extends(t,e);function t(){var r=e.call(this)||this;r.eventType=t.type;r.toString=function(){return"eventType=PAGE&href=".concat(r.addValueParameter(r.href))+"&title=".concat(r.addValueParameter(r.title),"&keyPages=").concat(r.addValueParameter(r.keyPages))+"&referrers=".concat(r.addValueParameter(r.referrers))};var n=Kameleoon.Utils.computeCurrentPageCanonicalURL()||Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL();var a=document.title;r.href=n&&n.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST);if(r.href&&Kameleoon.Internals.configuration.cleanHrefTracking)r.href=r.href.replace(/(\?|\#)(.*)/gi,"");r.title=a.slice(0,Kameleoon.Gatherer.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST);r.keyPages=Kameleoon.Gatherer.KeyPage.obtainIndexes();r.referrers=Kameleoon.Gatherer.Referrer.obtainIndexes(Kameleoon.Internals.runtime.Gatherer.startOfVisit);Kameleoon.Internals.runtime.Visitor.currentVisit.addPage(r.time,n,r.keyPages,r.referrers);Kameleoon.Internals.runtime.Visitor.currentVisit.addActivity(r.time,!0);return r}t.type="page";t.urgent=!0;return t}(VisitEvent_Main);var __extends=this&&this.__extends||function(){var e=function(t,n){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n]};return e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var VisitEvent_Search=function(e){__extends(t,e);function t(n){var r=e.call(this)||this;r.eventType=t.type;r.toString=function(){return"eventType=SEARCH&keyWords=".concat(r.addValueParameter(r.keyWords),"&numberResults=").concat(r.numberResults,"&followed=").concat(r.followed)};r.followed=n.followed;r.keyWords=n.keyWords;r.numberResults=n.numberResults;Kameleoon.Internals.runtime.Visitor.currentVisit.addSearch(r.time,Kameleoon.Gatherer.KeyWord.obtainIndexes(r.keyWords),r.numberResults,r.followed);return r}t.type="search";t.urgent=!1;return t}(VisitEvent_Main);var __extends=this&&this.__extends||function(){var e=function(n,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r))e[r]=n[r]};return e(n,r)};return function(n,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(n,r);function t(){this.constructor=n}n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}();var VisitEvent_StaticData=function(e){__extends(n,e);function n(){var r=e.call(this)||this;r.eventType=n.type;r.toString=function(){var e="eventType=STATICDATA";e+="&visitNumber=".concat(r.visitNumber);e+="&timeSincePreviousVisit=".concat(r.timeSincePreviousVisit);e+="&landingPageHref=".concat(r.addValueParameter(r.landingPageHref));e+="&landingPageTitle=".concat(r.addValueParameter(r.landingPageTitle));e+="&landingPages=".concat(r.addValueParameter(r.landingPages));e+="&firstReferrerHref=".concat(r.addValueParameter(r.firstReferrerHref));e+="&firstReferrers=".concat(r.addValueParameter(r.firstReferrers));e+="&browser=".concat(r.browser);e+="&browserVersion=".concat(r.browserVersion);e+="&mobileBrowser=".concat(r.mobileBrowser);e+="&os=".concat(r.os);e+="&windowWidth=".concat(r.windowWidth);e+="&windowHeight=".concat(r.windowHeight);e+="&screenWidth=".concat(r.screenWidth);e+="&screenHeight=".concat(r.screenHeight);e+="&timeZoneId=".concat(r.timeZoneId);e+="&localeLanguageTag=".concat(r.localeLanguageTag);e+="&deviceType=".concat(r.deviceType);e+="&browserName=".concat(r.browserName);e+="&osName=".concat(r.osName);e+="&mappingIdentifier=".concat(r.mappingIdentifier);if(r.experimentInfluences)e+="&experimentInfluences=".concat(r.addValueParameter(r.experimentInfluences));if(r.personalizationInfluences)e+="&personalizationInfluences=".concat(r.addValueParameter(r.personalizationInfluences));return e};var t=Kameleoon.Internals.runtime.Visitor.currentVisit.landingPageURL;var a=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","landingPageTitle");var i=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","landingPages");var o=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrerHref")||"";var s=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","firstReferrers");if(Kameleoon.Internals.runtime.enableHistoryReconciliation){var l=null;for(var c in Kameleoon.Internals.runtime.Gatherer.configuration.customData)if(Kameleoon.Internals.runtime.Gatherer.configuration.customData[c].mappingIdentifier){l=parseInt(c);break}r.mappingIdentifier=null!=l&&l}r.timeSincePreviousVisit=Kameleoon.Internals.runtime.Visitor.obtainTimeSincePreviousVisit();r.landingPageHref=t&&t.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST);r.landingPageTitle=a&&a.slice(0,Kameleoon.Gatherer.MAX_PAGE_TITLE_LENGTH_IN_A_REQUEST);r.landingPages=i;r.firstReferrerHref=o.slice(0,Kameleoon.Gatherer.MAX_HREF_LENGTH_IN_A_REQUEST);if(Kameleoon.Internals.configuration.cleanHrefTracking){if(r.landingPageHref)r.landingPageHref=r.landingPageHref.replace(/(\?|\#)(.*)/gi,"");if(r.firstReferrerHref)r.firstReferrerHref=r.firstReferrerHref.replace(/(\?|\#)(.*)/gi,"")}r.firstReferrers=s;r.language=null;r.browser=Kameleoon.Gatherer.Browser.obtainIndex();r.browserVersion=Kameleoon.Internals.runtime.Device.browserVersion;var m=Kameleoon.Internals.runtime.Device.type;r.mobileBrowser="Tablet"==m||"Phone"==m;r.os=Kameleoon.Gatherer.OperatingSystem.obtainIndex();r.windowWidth=Kameleoon.Internals.runtime.Device.windowWidth;r.windowHeight=Kameleoon.Internals.runtime.Device.windowHeight;r.screenWidth=Kameleoon.Internals.runtime.Device.screenWidth;r.screenHeight=Kameleoon.Internals.runtime.Device.screenHeight;r.javaEnabled=!0===navigator.javaEnabled();r.timeZoneId=Kameleoon.Gatherer.TimeZone.obtainId();r.localeLanguageTag=Kameleoon.Gatherer.Language.obtainLocaleTag();r.deviceType=Kameleoon.Internals.runtime.Device.type.toLocaleUpperCase();r.browserName=Kameleoon.Gatherer.Browser.obtain();r.osName=Kameleoon.Gatherer.OperatingSystem.obtain();r.timeZoneGroups=[null];r.visitNumber=Kameleoon.Internals.runtime.Visitor.currentVisit.index;if(Kameleoon.Internals.runtime.Gatherer.startOfVisit&&Kameleoon.Internals.runtime.Visitor.visits.length>1){r.experimentInfluences=Kameleoon.Internals.runtime.Visitor.currentVisit.experimentInfluences;r.personalizationInfluences=Kameleoon.Internals.runtime.Visitor.currentVisit.personalizationInfluences}return r}n.type="staticData";n.urgent=!0;return n}(VisitEvent_Main);var __extends=this&&this.__extends||function(){var t=function(n,e){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e))t[e]=n[e]};return t(n,e)};return function(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(n,e);function r(){this.constructor=n}n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();var VisitEvent_TargetingSegments=function(t){__extends(n,t);function n(e){var r=t.call(this)||this;r.eventType=n.type;r.toString=function(){return"eventType=TARGETINGSEGMENT&id=".concat(r.id)};r.id=e.id;Kameleoon.Internals.runtime.Visitor.currentVisit.addTargetingSegment(r.time,r.id);return r}n.type="targetingSegments";n.urgent=!1;return n}(VisitEvent_Main);var CommandQueue=function(){function CommandQueue(oldKameleoonQueue){var _this=this;this.executeCommand=function(command){var commandFunctionName=command[0];try{if("function"===typeof command)command();else{var method=commandFunctionName;var path=method.split(".");var bindedObject;if("Kameleoon"!=path[0]){method="Kameleoon.API."+commandFunctionName;bindedObject=eval("Kameleoon.API."+path[0])}else bindedObject=eval("Kameleoon.API."+path[2]);eval(method).apply(bindedObject,Array.prototype.slice.call(command,1))}}catch(e){console.log(e)}};this.commands=oldKameleoonQueue&&oldKameleoonQueue.forEach?oldKameleoonQueue:[];this.commands.push=function(e){_this.executeCommand(e)};var commandsToRun=[];this.commands.forEach((function(e){commandsToRun.push(e)}));this.commands.splice(0,this.commands.length);commandsToRun.forEach(this.executeCommand);return this.commands}return CommandQueue}();var Actions=function(){function e(){this.associateActionAndVariation=function(e,n,i){var o=!0;var t=!0;if("REGISTERED_VARIATION"==i)t=!1;if("DISPLAYED_VARIATION"==i)o=!1;if(null===n)e.trackingPerformed=!0;var a=Kameleoon.Internals.runtime.variations.filter((function(e){return e.id==n}))[0];var r="Reference";if(e&&e.variations)e.variations.forEach((function(e,i){if(e.id&&e.name&&e.id==n)r=e.name}));var s=e.associatedVariation;if(e&&s&&n==s.id)r=s.name;if(e&&o)e.associatedVariation={id:n,name:r};if(e&&t&&!e.displayedVariation)e.associationMade=!1;if(a){if(e&&(Kameleoon.Internals.runtime.simulationMode&&-1==e.id||!e.associationMade)){if(o){e.associatedVariation=a;e.associationMade=!0}a.actionId=e.id;if(t)e.displayedVariation=new Variation(a)}}else e.displayedVariation={id:n,name:r}}}e.prototype.checkCapping=function(e,n,i,o,t){if(null!=o.expositionFrequencySameVisit&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,t,!0,!1,!1,e)>=o.expositionFrequencySameVisit||null!=o.expositionFrequencySameVisitor&&null!=o.expositionFrequencySameVisitorDelaySeconds&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,t-1e3*o.expositionFrequencySameVisitorDelaySeconds,t,!0,!0,!1,e)>=o.expositionFrequencySameVisitor||o.cappingPerVisitorNumberExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,t,!0,!0,!1,e)>=o.expositionFrequencySameVisitorMax||o.cappingPerVisitorNumberExposedVisits&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,null,null,!0,!0,!0,e)>=o.exposedVisitsSameVisitorMax||o.cappingPerVisitorConvertGoal&&Kameleoon.Internals.runtime.Visitor.obtainNumberConversions(o.cappingPerVisitorGoalId)>0||null!=o.expositionFrequencyDelaySecondsBetweenTwoExpositions&&Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(n,i,t-1e3*o.expositionFrequencyDelaySecondsBetweenTwoExpositions,t,!0,!0,!1,e)>=1)return!1;return!0};e.prototype.checkActionConsent=function(e){if(e.experimentAction){if(!Kameleoon.Internals.runtime.Consent.AB_TESTING){if(null==Kameleoon.Internals.runtime.Consent.AB_TESTING){if("ALL"==Kameleoon.Internals.configuration.beforeAbtestConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforeAbtestConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.abtestConsentOptout)return!0;return!1}}else if(!Kameleoon.Internals.runtime.Consent.PERSONALIZATION){if(null==Kameleoon.Internals.runtime.Consent.PERSONALIZATION){if("ALL"==Kameleoon.Internals.configuration.beforePersonalizationConsent)return!0;if("PARTIALLY"==Kameleoon.Internals.configuration.beforePersonalizationConsent&&e.technical)return!0}else if(e.technical&&"RUN"==Kameleoon.Internals.configuration.personalizationConsentOptout)return!0;return!1}return!0};e.prototype.checkActionsTargeting=function(e){var n=this;for(var i=0,o=Kameleoon.Internals.runtime.personalizations.length;i<o;++i){var t=Kameleoon.Internals.runtime.personalizations[i];t.previousExposition=t.exposition}var a=[];for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!this.checkActionConsent(r)||r.blocked)continue;if(null==r.numberTargetingCheckings)r.numberTargetingCheckings=0;if(Kameleoon.Targeting.checkIfTargetingMustBeComputed(r.targeting,r.rescheduleTargeting||0==r.numberTargetingCheckings,!r.experimentAction&&"CUMULATIVE_WEIGHT"==r.checkConditionsRule))a.push(r)}e=a;for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!0===r.forceTargeting)r.targeting=!0;else{var s=!r.experimentAction&&"CUMULATIVE_WEIGHT"==r.personalizationCheckConditionsRule;var l=Kameleoon.Targeting.checkTree(r,r.targetingSegment?r.targetingSegment.tree:null,s);if(s)switch(r.microtargetingMatchType){case"GREATER":r.targeting=l.weight>(r.cumulativeWeightOfConditions||0);break;case"EQUAL":r.targeting=l.weight==(r.cumulativeWeightOfConditions||0);break;case"LOWER":r.targeting=l.weight<r.cumulativeWeightOfConditions;break}else r.targeting=l.targeting;r.rescheduleTargeting=l.rescheduleTargeting;r.numberTargetingCheckings++}}var c=[];for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!r.experimentAction)if(!0===r.targeting)c.push(r);else r.exposition=!1}var m=function(e){var n=[];for(var i=0,o=Kameleoon.Internals.runtime.personalizations.length;i<o;++i){var t=Kameleoon.Internals.runtime.personalizations[i];if(e!=t.id)n.push(t)}return n};var u=new Date;var g=u.getTime();for(var i=0,o=c.length;i<o;++i){var t=c[i];if(void 0!==t.forceExposition){t.exposition=t.forceExposition;if(!1===t.exposition)t.notExposedReason="SIMULATION"}else{t.exposition=!0;if(!0===t.exposition&&(!Kameleoon.Internals.runtime.simulationMode||null!=Kameleoon.Internals.runtime.simulationModeData&&null!=Kameleoon.Internals.runtime.simulationModeData.experiments)&&!Kameleoon.Internals.runtime.personalizationsActive){t.exposition=!1;t.notExposedReason="GLOBAL_EXCLUSION"}if(!0===t.exposition&&t.globalCappingNumberVisitors&&t.numberVisitorsExposed>=t.maxNumberVisitorsExposed){t.exposition=!1;t.notExposedReason="PERSONALIZATION_CAPPING"}var p=t.scheduleItem;if(!0===t.exposition&&null!=p&&0<p.length){t.exposition=!1;for(var d=0,f=p.length;d<f;++d){var I=p[d];if((null==I.dateStart||g>=I.dateStart)&&(null==I.dateEnd||g<I.dateEnd)){var A=I.scheduleItemOptions;if(null==A||0==A.length)t.exposition=!0;else{var v=function(e){var n=new Date(u.toDateString()+" "+e.start).getTime();var i=new Date(u.toDateString()+" "+e.end).getTime();if(g>=n&&g<i){var o=["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"];switch(e.daysOfWeekForShow){case"EVERYDAY":return!0;case"WEEK_END":return 0==u.getDay()||6==u.getDay();case"WEEK":return 0!=u.getDay()&&6!=u.getDay();default:return e.daysOfWeekForShow==o[u.getDay()]}}return!1};for(var T=0;T<A.length;T++)if(v(A[T])){t.exposition=!0;break}}}if(!0===t.exposition)break}if(!1===t.exposition)t.notExposedReason="SCHEDULE"}if(!0===t.exposition&&!Kameleoon.Internals.runtime.simulationMode){switch(t.customExpositionRate){case 1:break;case 0:t.exposition=!1;break;default:var h=Kameleoon.Internals.runtime.incomingStoredData&&Kameleoon.Internals.runtime.incomingStoredData["kameleoonPersonalization-"+t.id]||Kameleoon.Utils.readLocalData("kameleoonPersonalization-"+t.id,"LS",!1);if(null==h)h=Kameleoon.Internals.runtime.incomingStoredData&&Kameleoon.Internals.runtime.incomingStoredData["kameleoonPersonalizationTargeted-"+t.id]||Kameleoon.Utils.readLocalData("kameleoonPersonalizationTargeted-"+t.id,"LS",!1);if(null!=h){var E=h.split("/");t.exposition="true"==E[0]}else{t.exposition=Kameleoon.Utils.seededRandom(t.id+Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode,!0)<t.customExpositionRate;Kameleoon.Utils.createLocalData("kameleoonPersonalization-"+t.id,t.exposition+"/"+(new Date).getTime(),-1==t.id?1/24:30,null,"LS",!1)}break}if(!1===t.exposition)t.notExposedReason="PERSONALIZATION_EXCLUSION"}if(!0===t.exposition&&!this.checkCapping(!1,t.id,1,t,g)){t.exposition=!1;t.notExposedReason="VISITOR_CAPPING"}var k=t.personalizationsInteractionConditions;if(!0===t.exposition&&null!=k&&0<k.length)for(var d=0,f=k.length;d<f;++d){var x=k[d];if("SAME_PAGE"!=x.personalizationsInteractionVisitsConfiguration&&!Kameleoon.Internals.runtime.gathererRun)continue;var K=void 0;var S=void 0;var b=void 0;switch(x.personalizationsInteractionConfiguration){case"NO_OTHER_PERSO":K=m(t.id);S=0;b=0;break;case"AT_LEAST_ONE_OTHER_PERSO":K=m(t.id);S=1;b=K.length;break;case"NUMBER_OF_OTHER_PERSOS":K=m(t.id);switch(x.personalizationsInteractionNumberOtherPersosMatchType){case"GREATER":S=x.personalizationsInteractionNumberOtherPersos+1;b=K.length;break;case"LOWER":S=0;b=x.personalizationsInteractionNumberOtherPersos-1;break;case"GREATER_THAN_EQUAL":S=x.personalizationsInteractionNumberOtherPersos;b=K.length;break;case"LOWER_THAN_EQUAL":S=0;b=x.personalizationsInteractionNumberOtherPersos;break;case"EQUAL":default:S=x.personalizationsInteractionNumberOtherPersos;b=x.personalizationsInteractionNumberOtherPersos;break}break;case"ALL_OTHER_PERSOS":K=m(t.id);S=K.length;b=K.length;break;case"ID_PERSO":K=[];for(var C=0,R=Kameleoon.Internals.runtime.personalizations.length;C<R;++C){var V=Kameleoon.Internals.runtime.personalizations[C];if(V.id==x.personalizationsInteractionIdPerso){K.push(V);break}}if(0==K.length)K.push({id:x.personalizationsInteractionIdPerso,previousExposition:!1});S=1;b=1;break;default:K=[];S=1;b=1;break}var P=0;for(var C=0,R=K.length;C<R;++C){var O=K[C];var y=void 0;switch(x.personalizationsInteractionVisitsConfiguration){case"SAME_PAGE":y=!0===O.previousExposition;break;case"CURRENT_VISIT":y=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(O.id,1,null,null,!0,!1,!1,!1)>0;break;case"PREVIOUS_VISIT":y=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(O.id,1,null,null,!1,!0,!1,!1)>0;break;case"ALL_VISITS":y=Kameleoon.Internals.runtime.Visitor.obtainActionNumberActivations(O.id,1,null,null,!0,!0,!1,!1)>0;break;default:y=!1;break}if(!x.personalizationsInteractionDisplayOthersPersos)y=!y;if(y)P++}var N=P>=S&&P<=b;if(N&&!x.personalizationsInteractionDisplayPerso||!N&&x.personalizationsInteractionDisplayPerso){t.exposition=!1;t.notExposedReason="SCENARIO";break}}}}var D={};if(Kameleoon.Internals.runtime.personalizations)Kameleoon.Internals.runtime.personalizations.forEach((function(e){if(e.exposition){var n=e.configuration;var i=D[n];var o=e.priority;if(null==i||o>i)D[n]=o}}));var L={};for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!r.experimentAction&&!0===r.exposition){var z=r.configuration;var w=D[z];var _=r.priority;if(null==w||_>=w){if(null==L[z]||_>w)L[z]=[];L[z].push(r.id)}}}D=null;if(Kameleoon.Internals.configuration.disablePersonalizationsOfTheSameType)for(var z in L)L[z]=[L[z][Math.floor(Math.random()*L[z].length)]];for(var i=0,o=c.length;i<o;++i){var t=c[i];if(!0===t.exposition&&!0!==t.forceExposition)if(L[t.configuration]&&-1==L[t.configuration].indexOf(t.id)){t.exposition=!1;t.notExposedReason="PRIORITY"}}L=null;var U=[];for(var i=0,o=e.length;i<o;++i){var r=e[i];if(!1===r.targeting||!r.experimentAction&&!0===r.targeting&&!1===r.exposition){this.associateActionAndVariation(r,0,"DISPLAYED_VARIATION");Kameleoon.Utils.removeCSSStyleSheet(r)}if(Kameleoon.Targeting.checkIfTargetingMustBeComputed(r.targeting,r.rescheduleTargeting,!r.experimentAction&&"CUMULATIVE_WEIGHT"==r.personalizationCheckConditionsRule))U.push(r)}if(U.length>0)var M=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(M);n.process(U)}),Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY);if(e.length>0&&Kameleoon.Internals.runtime.targetingsEvent)Kameleoon.Internals.runtime.targetingsEvent.emit(e)};e.prototype.performActionsTracking=function(e){var n=[];for(var i=0,o=e.length;i<o;++i){var t=e[i];if(t.trackingPerformed||!t.associatedVariation||null==t.associatedVariation.id)continue;n.push(t)}e=n;for(var i=0,o=e.length;i<o;++i){var t=e[i];var a=t.collectingDataDisabled?!1:!0;if(!t.experimentAction)if("PERSONALIZATION_CAPPING"==t.notExposedReason||"SCHEDULE"==t.notExposedReason||"SCENARIO"==t.notExposedReason||"PRIORITY"==t.notExposedReason||"VISITOR_CAPPING"==t.notExposedReason)a=!1;var r=t.associatedVariation;if(t.mentalistEnabled)r.name+=" (Predicteo)";if(Kameleoon.Internals.configuration.checkTestedTrafficActive&&Kameleoon.Internals.configuration.anniversaryDay&&!t.counterActive&&t.experimentAction){t.counterActive=!0;Kameleoon.Internals.runtime.RequestManager.sendCounter("anniversaryDay="+Kameleoon.Internals.configuration.anniversaryDay);t.writeLocalData()}Kameleoon.Gatherer.track(VisitEvent_Actions,{type:t.experimentAction?"EXPERIMENT":"PERSONALIZATION",id:t.id,variationId:0==r.id?0:t.experimentAction?r.id:1,mentalistDecision:t.mentalistEnabled?!0:!1,train:t.train?!0:!1,notTrack:!(t.kameleoonTracking&&a),originalVariationId:r.id,unexpositionCause:!t.experimentAction?t.notExposedReason:null});if(a&&(t.experimentAction||t.exposition||!t.exposition&&"PERSONALIZATION_EXCLUSION"==t.notExposedReason)){if(t.adobeOmnitureTracking)Kameleoon.Tracking.processAdobeOmniture(t);if(t.customIntegrations)Kameleoon.Tracking.processCustomIntegration(t)}t.trackingPerformed=!0}};e.prototype.process=function(e,n){var i=(new Date).getTime();this.checkActionsTargeting(e);var o=[];for(var t=0,a=e.length;t<a;++t){var r=e[t];if(r.treated||r.blocked)continue;if(!0===r.targeting){Kameleoon.Internals.runtime.Visitor.currentVisit.addActionTriggered(r.id,r.experimentAction);Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:r.targetingSegmentId,name:r.targetingSegment?r.targetingSegment.name:null}});if(r.experimentAction){var s=new APIAction(r,"experiments");Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ExperimentTriggered",{experiment:s},"experiment/triggered");r.performVariationAssignment(!1);if(null!=r.associatedVariation)if(!this.checkCapping(!0,r.id,r.associatedVariation.id,r.associatedVariation,i))r.targeting=!1}else{this.associateActionAndVariation(r,r.exposition?r.associatedVariation.id:0,"BOTH");Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"PersonalizationTriggered",{personalization:new APIAction(r,"personalizations")},"personalization/triggered")}}if(!0===r.targeting){r.treated=!0;this.currentAction=r;if(r.displayedVariation){if(r.experimentAction)if(0!=r.displayedVariation.id&&"reference"!=r.displayedVariation.id||r.executeCodeForReference){if(r.cssCode&&!r.cssCodeEvaluated){r.cssCodeEvaluated=!0;Kameleoon.Utils.addCSSStyleSheet(r.cssCode,r,null)}if(r.javaScriptCode&&!r.javaScriptCodeEvaluated){r.javaScriptCodeEvaluated=!0;Kameleoon.Utils.runProtectedScript(r.javaScriptCode,"kameleoonActionJavaScriptCode-"+r.id+".js")}}if(!n&&r.displayedVariation.process)r.displayedVariation.process();if(r.targeting&&(r.experimentAction||r.exposition)){var l={};if(r.experimentAction)l.experiment=new APIAction(r,"experiments");else l.personalization=new APIAction(r,"personalizations");Kameleoon.Utils.sendKameleoonCustomEvent.call(window,r.experimentAction?"ExperimentActivated":"PersonalizationActivated",l,"action/activated")}o.push(r)}}}this.performActionsTracking(o)};e.prototype.processAllActions=function(){var e=[];e=e.concat(Kameleoon.Internals.runtime.experiments);e=e.concat(Kameleoon.Internals.runtime.personalizations);this.process(e);Kameleoon.Internals.runtime.experiments.forEach((function(e){e.handleSpecialCase()}))};return e}();var Consent=function(){function n(){var n=this;this.disable=function(e,t){Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/disable",consentType:e});if(e&&"BOTH"!=e)n[e]=!1;else{n.AB_TESTING=!1;n.PERSONALIZATION=!1}if(1!=t)n.write();Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:n.getConsent()})};this.enable=function(e,t){Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/enable",consentType:e});if(e&&"BOTH"!=e)n[e]=!0;else{n.AB_TESTING=!0;n.PERSONALIZATION=!0}if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.RequestManager){if(Kameleoon.Internals.configuration.requestsAfterConsent)Kameleoon.Internals.runtime.loadExternalRequests();n.purge()}if(1!=t)n.write();Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"LegalConsentUpdated",{legalConsentUpdate:n.getConsent()})};this.getConfiguredConsent=function(){return{AB_TESTING:Kameleoon.Internals.configuration.abtestConsent,PERSONALIZATION:Kameleoon.Internals.configuration.personalizationConsent}};this.getConsent=function(){return{AB_TESTING:n.AB_TESTING,PERSONALIZATION:n.PERSONALIZATION}};this.hasGlobalConsent=function(){return n.AB_TESTING||n.PERSONALIZATION||Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.kameleoonFull};this.initialize=function(e){Kameleoon.Utils.sendKameleoonCustomEvent("Internals",{type:"consent/initialize",consent:e});n.AB_TESTING=e.AB_TESTING;n.PERSONALIZATION=e.PERSONALIZATION;n.initializeInteractive();n.initializeIAB()};this.initializeInteractive=function(){if("INTERACTIVE"==Kameleoon.Internals.configuration.abtestConsent&&null==n.AB_TESTING||"INTERACTIVE"==Kameleoon.Internals.configuration.personalizationConsent&&null==n.PERSONALIZATION){var e=function(){document.removeEventListener(Kameleoon.Internals.runtime.mouseDownEvent,e,!1);window.removeEventListener("scroll",e,!1);var t;if("INTERACTIVE"==Kameleoon.Internals.configuration.abtestConsent&&null==n.AB_TESTING)t="AB_TESTING";if("INTERACTIVE"==Kameleoon.Internals.configuration.personalizationConsent&&null==n.PERSONALIZATION)if("AB_TESTING"==t)t="BOTH";else t="PERSONALIZATION";if(t)Kameleoon.Internals.runtime.Consent.enable(t)};Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,e,!1);Kameleoon.Utils.addEventListener(window,"scroll",e,!1)}};this.initializeIAB=function(){if("IABTCF"==Kameleoon.Internals.configuration.abtestConsent)Kameleoon.API.Core.runWhenConditionTrue((function(){return"undefined"!=typeof window.__tcfapi}),(function(){window.__tcfapi("addEventListener",2,(function(e,t){if(t&&e&&!1===e.gdprApplies)n.enable("IABTCF"==Kameleoon.Internals.configuration.personalizationConsent?"BOTH":"AB_TESTING");if(t&&e&&("useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus)){var o=e.vendor.consents[820];if(o){var a=e.purpose.consents;if(a[1]&&a[10])if(a[3]&&a[5]&&a[6]&&a[8])n.enable("BOTH");else{n.enable("AB_TESTING");n.disable("PERSONALIZATION")}else n.disable("BOTH")}else n.disable("BOTH")}}))}),200)};this.purge=function(){if(Kameleoon.Internals.runtime){var n=function(n){if(null!=n)for(var e in n)Kameleoon.Utils.createLocalData(n[e].name,n[e].value,n[e].days,n[e].domain,n[e].forceLocalAccess,n[e].jsonFormat,null,!0)};n(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap["LS"]);n(Kameleoon.Internals.runtime.localDataMap&&Kameleoon.Internals.runtime.localDataMap["COOKIE"]);Kameleoon.Internals.runtime.localDataMap=null;Kameleoon.Analyst.Actions.processAllActions();}};this.setup=function(){var e={AB_TESTING:!1,PERSONALIZATION:!1};var t=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonLegalConsent","LS");if(null==t)t=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonLocalDataConsent","LS");if(null!=t)if(1==t)e={AB_TESTING:!0,PERSONALIZATION:!0};else e=t;else{e={AB_TESTING:"OFF"==Kameleoon.Internals.configuration.abtestConsent?!0:null,PERSONALIZATION:"OFF"==Kameleoon.Internals.configuration.personalizationConsent?!0:null};if(!Kameleoon.Internals.configuration.abtestingSetup)e.AB_TESTING=null;if(!Kameleoon.Internals.configuration.personalizationSetup)e.PERSONALIZATION=null}if(Kameleoon.Internals.runtime.kameleoonFull){e.AB_TESTING=!0;e.PERSONALIZATION=!0}n.initialize(e)};this.write=function(){Kameleoon.Utils.createLocalData("kameleoonLegalConsent",n.getConsent(),Utils.MAX_STORAGE_DAYS,null,"LS",!0,null,!0)};this.AB_TESTING=!1;this.PERSONALIZATION=!1}return n}();var Device=function(){function e(){var e=Kameleoon.Utils.bowser.parse(navigator.userAgent);var t=e.browser.version;try{if(t.split(".").length>1)t=t.split(".")[0]+"."+t.split(".")[1]}catch(e){console.log(e)}this.browser=""==e.browser.name?null:e.browser.name;this.browserVersion=t?parseFloat(t):null;this.type="tablet"==e.platform.type?"Tablet":"mobile"==e.platform.type?"Phone":"Desktop";if("Safari"==this.browser&&"Desktop"==this.type&&"ontouchend"in document.documentElement)this.type="Tablet"}Object.defineProperty(e.prototype,"adBlocker",{get:function(){return Kameleoon.Internals.runtime.adBlocker},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"os",{get:function(){var t=Kameleoon.Gatherer.OperatingSystem.obtainIndex();if(null!=t)return e.OSS[Kameleoon.Internals.runtime.Gatherer.configuration.oss[t].name];else return"Other"},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"screenHeight",{get:function(){return window.screen.height},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"screenWidth",{get:function(){return window.screen.width},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"timeZone",{get:function(){return Kameleoon.Gatherer.TimeZone.obtainId()},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"windowHeight",{get:function(){return window.innerHeight},enumerable:!1,configurable:!0});Object.defineProperty(e.prototype,"windowWidth",{get:function(){return window.innerWidth},enumerable:!1,configurable:!0});e.OSS={CHROME:"Chrome OS",MAC:"Mac",IOS:"iOS",LINUX:"Linux",ANDROID:"Android","WINDOWS PHONE":"Windows Phone"};return e}();var Experiment=function(){function Experiment(experiment,incomingStoredData){var _this=this;this.handleSpecialCase=function(){if(!0!==_this.targeting&&_this.redirectProcessed){_this.performVariationAssignment(!0);Kameleoon.Analyst.Actions.performActionsTracking([_this])}else if(_this.preAssignVariation)_this.performVariationAssignment(!0)};this.obtainVariationAssignmentRandomNumber=function(){var i=null;if(Kameleoon.Internals.runtime.gathererRun)for(var e in Kameleoon.Internals.runtime.Gatherer.configuration.customData)if(Kameleoon.Internals.runtime.Gatherer.configuration.customData[e].mappingIdentifier){i=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum[e];if(null!=i)i=Object.keys(i)[0];break}if(null==i){var t="";_this.variations.forEach((function(i){if(i.respoolTime&&0!=i.respoolTime)t+=i.respoolTime}));var n=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode+_this.id+t;return Kameleoon.Utils.seededRandom(n,!0)}return Kameleoon.Utils.seededRandom(_this.id+"//"+i,!1)};this.performVariationAssignment=function(onlyRegisteredVariation){if(_this.displayedVariation&&!onlyRegisteredVariation)return;if(void 0!==_this.registeredVariationId&&_this.assignmentTime)_this.variations.forEach((function(i){if(_this.registeredVariationId==i.id&&i.respoolTime>_this.assignmentTime||null===_this.registeredVariationId&&_this.untrackedRespoolTime>_this.assignmentTime)_this.registeredVariationId=void 0}));if(void 0===_this.registeredVariationId&&!Kameleoon.Internals.runtime.simulationMode&&0==_this.variations.filter((function(i){return i.id==_this.registeredVariationId})).length)_this.registeredVariationId=void 0;if(_this.mentalistEnabled&&_this.mentalistVariationReassignationPermission)_this.registeredVariationId=void 0;if(!_this.registeredVariationId||_this.mentalistVariationReassignationPermission)_this.train=!0;if(void 0===_this.registeredVariationId){if(_this.mentalistEnabled){}else if(Kameleoon.Internals.runtime.customVariationSelectionFunction){_this.registeredVariationId=Kameleoon.Internals.runtime.customVariationSelectionFunction(_this);if(null!=_this.registeredVariationId)if("reference"==_this.registeredVariationId.toString())_this.registeredVariationId=0;else if("none"==_this.registeredVariationId.toString())_this.registeredVariationId=null}else{var deviationRandom=_this.obtainVariationAssignmentRandomNumber();var total=0;_this.registeredVariationId=null;for(var i=0,l=_this.variations.length;i<l;++i){total+=_this.variations[i].deviation;if(deviationRandom<=total){_this.registeredVariationId=_this.variations[i].id;break}}}_this.assignmentTime=(new Date).getTime();_this.writeLocalData()}Kameleoon.Analyst.Actions.associateActionAndVariation(_this,_this.registeredVariationId,onlyRegisteredVariation?"REGISTERED_VARIATION":"BOTH")};this.setTargetingSegment=function(i){_this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((function(i){return i.id==_this.targetingSegmentId}))[0]||{};if(!i||i==_this.targetingSegmentId){_this.targeting=void 0;_this.rescheduleTargeting=null;_this.numberTargetingCheckings=0;_this.displayedVariation=null}};this.trigger=function(){if(!_this.targeting){_this.targeting=!0;_this.displayedVariation=null}};this.writeLocalData=function(){var i=_this.registeredVariationId+(_this.mentalistEnabled?"-mentalist":"")+"/"+_this.assignmentTime+"/"+_this.counterActive;if(!_this.simulationMode)Kameleoon.Utils.createLocalData("kameleoonExperiment-"+_this.id,i,_this.cookieDuration?_this.cookieDuration:30,_this.cookieDomain,"LS",!1)};for(var key in experiment)this[key]=experiment[key];var redirectVariationIdKey="kameleoonRedirect-"+this.id;var redirectVariationId=incomingStoredData?incomingStoredData[redirectVariationIdKey]:Kameleoon.Utils.readLocalData(redirectVariationIdKey,"LS",!1);redirectVariationId=redirectVariationId?redirectVariationId:Kameleoon.Internals.runtime.parameters[redirectVariationIdKey];this.previousRequestRedirected=redirectVariationId?!0:!1;if(redirectVariationId){this.registeredVariationId=redirectVariationId;this.assignmentTime=(new Date).getTime()}if(this.previousRequestRedirected){this.redirectProcessed=!0;if(Kameleoon.Internals.configuration.adobeOmniture){var omnitureObject=Kameleoon.Internals.configuration.adobeOmniture.object?Kameleoon.Internals.configuration.adobeOmniture.object:"s";if(Kameleoon.Internals.runtime.parameters.sc_referrer)window[omnitureObject].referrer=Kameleoon.Internals.runtime.parameters.sc_referrer}Kameleoon.Utils.eraseLocalData("kameleoonRedirect-"+this.id,null,null)}var kameleoonExperimentKey="kameleoonExperiment-"+this.id;var storedValue=incomingStoredData?incomingStoredData[kameleoonExperimentKey]:Kameleoon.Utils.readLocalData(kameleoonExperimentKey,"LS",!1);for(var key in Kameleoon.Internals.runtime.parameters)if(0==key.indexOf("kameleoonRedirect-"+this.id)){storedValue=Kameleoon.Internals.runtime.parameters[key]+"/"+(new Date).getTime()+"/"+!1;this.writeLocalData()}if(storedValue&&-1!=this.id){var storedValues=storedValue.split("/");this.registeredVariationId="null"==storedValues[0]?null:storedValues[0];this.assignmentTime=parseInt(storedValues[1]);this.counterActive="true"==storedValues[2]&&(new Date).getTime()-this.assignmentTime<2592e6?!0:!1;if(this.registeredVariationId){if("reference"==this.registeredVariationId.toString()){this.registeredVariationId=0;this.writeLocalData()}if("none"==this.registeredVariationId.toString()){this.registeredVariationId=null;this.writeLocalData()}}}else this.counterActive=!1;if(this.registeredVariationId&&-1!=this.registeredVariationId.toString().indexOf("-mentalist")){this.registeredVariationId=parseInt(this.registeredVariationId.toString().replace("-mentalist",""));this.mentalistEnabled=!0}this.setTargetingSegment();if(this.redirectProcessed&&this.registeredVariationId)this.writeLocalData();var blockedExperiments=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedExperiments",[]);if(blockedExperiments.length>0&&-1!=blockedExperiments.indexOf(this.id))this.blocked=!0}return Experiment}();var Goals=function(){function e(){var e=this;this.checkKameleoonGoals=function(){var n=[];Kameleoon.Internals.runtime.goals.forEach((function(e){if("URL"==e.type){var t=new RegExp(e.url);if(t.test(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))n.push({goal:e})}if("PAGE_VIEWS"==e.type)if(Kameleoon.Internals.runtime.gathererRun){var o=Kameleoon.Internals.runtime.Visitor.currentVisit.timesStartedPages.length;if((null==e.minPageViews||o>=e.minPageViews)&&(null==e.maxPageViews||o<=e.maxPageViews))n.push({goal:e})}}));if(n.length>0)e.processConversions(n);Kameleoon.Utils.addEventListener(document,Kameleoon.Internals.runtime.mouseDownEvent,(function(n){var t=Kameleoon.Internals.runtime.goals.filter((function(e){return"ENGAGEMENT"==e.type})).map((function(e){return{goal:e}}));e.processConversions(t)}),!0);var t=Kameleoon.Internals.runtime.goals.filter((function(e){return"TIME_SPENT"==e.type}));if(t.length>0)Kameleoon.Utils.setInterval((function(){var n=[];t.forEach((function(e){var t=Kameleoon.Internals.runtime.Visitor.currentVisit.timeLastActivity-Kameleoon.Internals.runtime.Visitor.currentVisit.startDate;if((null==e.minTimeSpent||t>=e.minTimeSpent)&&(null==e.maxTimeSpent||t<=e.maxTimeSpent))n.push({goal:e})}));if(n.length>0)e.processConversions(n)}),1e3);};this.processConversions=function(e){if(Kameleoon.Internals.runtime.gathererRun){var n=[];if(null!=Kameleoon.Internals.runtime.experiments)for(var t=0,o=Kameleoon.Internals.runtime.experiments.length;t<o;++t){var r=Kameleoon.Internals.runtime.experiments[t];var i=r.registeredVariationId;if(null!=i&&null!==i)n.push(r.id)}for(var l=0,a=e.length;l<a;++l){var s=e[l];var u=s.goal;var m=!0===s.negative;if(m||"PAGE_VIEWS"!=u.type&&"TIME_SPENT"!=u.type&&"ENGAGEMENT"!=u.type||0==Kameleoon.Internals.runtime.Visitor.currentVisit.obtainNumberConversions(u.id)){Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"ConversionTriggered",new APIGoal(u),"goal/process");Kameleoon.Gatherer.track(VisitEvent_Conversions,{goalId:u.id,revenue:s.revenue?s.revenue:0,negative:m})}}}if(Kameleoon.Internals.runtime.kameleoonFull)Kameleoon.Analyst.processConversions()}}return e}();var IP=function(){function e(){var e=this;this.ipAddressMatchesRange=function(n,a){var t=n.split(".");var r=a.split(".");return 4==t.length&&4==r.length&&e.ipAdressBlockMatchesRangeBlock(t[0],r[0])&&e.ipAdressBlockMatchesRangeBlock(t[1],r[1])&&e.ipAdressBlockMatchesRangeBlock(t[2],r[2])&&e.ipAdressBlockMatchesRangeBlock(t[3],r[3])};var n=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","ip");if(!n)Kameleoon.Utils.performBeaconServerCall(Kameleoon.Internals.runtime.RequestManager.obtainIpUrl(),(function(n){if(4==n.readyState&&(200==n.status||204==n.status)){var a=n.getResponseHeader("ip")||"";Kameleoon.Internals.runtime.ipIsTrackerAccepted=!0;for(var t=0,r=Kameleoon.Internals.configuration.trackerExcludedIPRanges.length;t<r;++t)if(e.ipAddressMatchesRange(a,Kameleoon.Internals.configuration.trackerExcludedIPRanges[t])){Kameleoon.Internals.runtime.ipIsTrackerAccepted=!1;break}Kameleoon.Internals.runtime.storedData.saveField("Runtime","ipIsTrackerAccepted",Kameleoon.Internals.runtime.ipIsTrackerAccepted);Kameleoon.Internals.runtime.storedData.saveField("Runtime","ip",a);e.value=a}}),(function(){Kameleoon.Internals.runtime.ipIsTrackerAccepted=!0}),1e3);else{this.value=n;Kameleoon.Internals.runtime.ipIsTrackerAccepted=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","ipIsTrackerAccepted")}}e.prototype.ipAdressBlockMatchesRangeBlock=function(e,n){if(n==e)return!0;if("*"==n)return!0;var a=parseInt(e);var t=n.split("-");var r=parseInt(t[0]);var s=t.length>1?parseInt(t[1]):r;if(!isNaN(a)&&!isNaN(r)&&!isNaN(s)&&a>=r&&a<=s)return!0;return!1};return e}();var KMutationObserver=function(){function e(){}e.addMutationElementsToInternalObjects=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.id)Kameleoon.Internals.runtime.addedIDs["#"+n.id]=!0;if(n&&n.className&&"string"===typeof n.className){var o=n.className.split(" ");for(var r=0;r<o.length;++r)Kameleoon.Internals.runtime.addedClasses["."+o[r]]=!0}}};e.checkClassesForSelector=function(e){var t=e.selector;var n=[];if(t&&-1!==t.indexOf(".")){if(!e.selectorClasses||0===e.selectorClasses.length){if(-1!==t.indexOf("contains")){var o=t.match(/:contains\(['"]([\s\S]+)['"]\)/);var r=t.replace(o[0],"");n=r.match(/\.([^\s.:\[]+)/g)}n=t.match(/\.([^\s.:\[]+)/g);e.selectorClasses=n}}else return!0;for(var a=0,i=e.selectorClasses.length;a<i;++a){var l=e.selectorClasses[a];if(-1===l.indexOf("kameleoon")&&1==Kameleoon.Internals.runtime.addedClasses[l])return!1}return!0};e.checkIDsForSelector=function(t){var n=t.selector;var o;if(t.currentQuery)o=t.currentQuery;var r;if(t.options)r=t.options.domReference;var a=[];if(n&&-1!==n.indexOf("#")){if(!t.selectorIDs||0===t.selectorIDs.length){if(-1!==n.indexOf("contains")){var i=n.match(/:contains\(['"]([\s\S]+)['"]\)/);var l=n.replace(i[0],"");a=l.match(/#([^\s:\[]+)/g)}else a=n.match(/#([^\s:\[>]+)/g);t.selectorIDs=a;if(o&&-1!==o.indexOf("#"))if(-1!==o.indexOf("contains")){var i=o.match(/:contains\(['"]([\s\S]+)['"]\)/);var s=o.replace(i[0],"");a=s.match(/#([^\s:\[]+)/g)}else a=o.match(/#([^\s:\[]+)/g);for(var m=0,c=a.length;m<c;++m)if(-1===t.selectorIDs.indexOf(a[m]))t.selectorIDs.push(a[m])}}else return!0;for(var u=0,f=t.selectorIDs.length;u<f;++u){var d=t.selectorIDs[u];if(-1!==d.indexOf("kameleoonElement")){if(r&&!e.checkIDsForSelector({selector:r,checkDomReference:!0}))return!1;if(t.checkDomReference)if(null==Kameleoon.Internals.runtime.addedIDs[d])return!1}else if(null==Kameleoon.Internals.runtime.addedIDs[d])return!1}return!0};e.fillInternalObjectsForMutationObserver=function(e){if(!e)e=document;var t=e.getElementsByTagName("*");for(var n=0,o=t.length;n<o;++n){var r=t[n];if(r.id)Kameleoon.Internals.runtime.addedIDs["#"+r.id]=!0;if(r.className&&"string"===typeof r.className){var a=r.className.split(" ");for(var i=0;i<a.length;++i)Kameleoon.Internals.runtime.addedClasses["."+a[i]]=!0}}};e.removeMutationElementsFromInternalObjects=function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.id)if(1==Kameleoon.Internals.runtime.addedIDs["#"+n.id])delete Kameleoon.Internals.runtime.addedIDs["#"+n.id]}};e.performWaitingElementPresentObject=function(){var t=function(t){var n=Kameleoon.Internals.runtime.waitingElementPresentObjects[t];if(n&&n.useAntiFlicker)if(e.checkIDsForSelector(n)&&e.checkClassesForSelector(n)){var o=Kameleoon.Utils.querySelectorAll(n.selector);if(0<o.length){Kameleoon.Utils.runProtectedFunction((function(){n.callback(o)}));Kameleoon.Internals.runtime.waitingElementPresentObjects.splice(t,1)}}};for(var n=Kameleoon.Internals.runtime.waitingElementPresentObjects.length-1;n>=0;n-=1)t(n)};e.performVariationsElementSet=function(t){var n=Kameleoon.Internals.runtime.listenVariations||[];if(t)n.forEach((function(t){if(t.elementSets)t.elementSets.forEach((function(n){if(n.evaluated)return;if((!n.evaluated||!(n.options.autoGeneratedSelector||n.options.idSelector||n.options.domOperation))&&e.checkIDsForSelector(n)&&e.checkClassesForSelector(n))if(!t.getAction()||t.getAction().targeting){n.evaluated=!0;Kameleoon.ElementSet.processElementSet(n,t,!1,t.permanentRefreshActive,t.editionMode,document)}}))}));};e.performAsyncMutations=function(){Kameleoon.Internals.runtime.domMutationThrottling=!0;if(!e.asyncMutationsTimeoutId)e.asyncMutationsTimeoutId=Kameleoon.Utils.setTimeout((function(){if(e.mutationList.length>=e.MAX_MUTATIONS_LENGTH_FOR_ITERATION)e.fillInternalObjectsForMutationObserver();else e.mutationList.forEach((function(t){var n=t.addedNodes,o=t.removedNodes;var r=Array.prototype.slice.call(n);var a=Array.prototype.slice.call(o);var i=r.concat(a);e.removeMutationElementsFromInternalObjects(o);e.addMutationElementsToInternalObjects(n);for(var l=0;l<i.length;++l){var s=i[l];if(s&&s.innerHTML&&"childList"===t.type)e.fillInternalObjectsForMutationObserver(s)}}));e.mutationList=[];e.performWaitingElementPresentObject();e.performVariationsElementSet(!0);Kameleoon.Utils.clearTimeout(e.asyncMutationsTimeoutId);e.asyncMutationsTimeoutId=null}),250)};e.setMutationObserver=function(){if(Kameleoon.Internals.runtime.cantUseMutationObserver)return;e.fillInternalObjectsForMutationObserver();var t=document.documentElement,n;if(!Kameleoon.Internals.runtime.mutationObserver)Kameleoon.Internals.runtime.mutationObserver=new MutationObserver((function(t){var n=!0;if(!Kameleoon.Internals.runtime.domReady&&t.length>=e.MAX_MUTATIONS_LENGTH){e.mutationList=e.mutationList.concat(t);e.performAsyncMutations();return}t.forEach((function(t){var o=t.addedNodes,r=t.removedNodes;var a=Array.prototype.slice.call(o);var i=Array.prototype.slice.call(r);var l=a.concat(i);e.removeMutationElementsFromInternalObjects(r);e.addMutationElementsToInternalObjects(o);for(var s=0;s<l.length;++s){var m=l[s];if((Kameleoon.Internals.runtime.editorMode||Kameleoon.Internals.runtime.kameleoonSelectionIframeMode)&&m&&m.id&&"string"==typeof m.id&&null!==m.id.match("kameleoon"))if(m.closest&&null!==m.closest(".KameleoonProtected"))n=!1;if(n&&m&&m.innerHTML&&"childList"===t.type)e.fillInternalObjectsForMutationObserver(m)}e.performWaitingElementPresentObject();e.performVariationsElementSet(n);}))}));n={attributes:!0,childList:!0,characterData:!0,subtree:!0};if("function"===typeof Kameleoon.Internals.runtime.mutationObserver.observe)Kameleoon.Internals.runtime.mutationObserver.observe(t,n);if(Kameleoon.Internals.runtime.singlePageSupport)e.setMutationObserverSPA()};e.setMutationObserverSPA=function(){if(Kameleoon.Internals.runtime.mutationObserverSpa)return;Kameleoon.API.Core.runWhenElementPresent("body",(function(t){Kameleoon.Internals.runtime.mutationObserverSpa=new MutationObserver((function(){Kameleoon.Internals.runtime.listenVariations=[];Kameleoon.Internals.runtime.mutationObserverSpa.disconnect();if(Kameleoon.ElementSet)e.checkElementSetIntegrity();n()}));var n=function(){Kameleoon.Internals.runtime.mutationObserverSpa.observe(t[0],{childList:!0,characterData:!0,subtree:!0})};n()}))};e.MAX_MUTATIONS_LENGTH=3e3;e.MAX_MUTATIONS_LENGTH_FOR_ITERATION=5e3;e.asyncMutationsTimeoutId=null;e.mutationList=[];e.checkElementSetIntegrity=function(){if(Kameleoon.Internals.runtime.editorEnabled)return;try{var t=[];(Kameleoon.ElementSet.pageElementSetsSpa||[]).forEach((function(n){var o=n.elementSet,r=n.potentialElementsWithOptions;var a=Kameleoon.Utils.querySelectorAll(o.selector);if(!a.length&&r&&!r.length)e.resetElementSet(o,null);if(!a.length&&o.options.domOperation&&r&&r.length)r.forEach((function(t){e.resetElementSet(o,t.element)}));a.forEach((function(n){if(o.options.htmlContent||o.options.href){var r=t.findIndex((function(e){return e.currentElement===n}));if(-1!==r){var a=t[r].elementSet;if(a.options.htmlContent&&o.options.htmlContent||a.options.href&&o.options.href)t[r].elementSet=o}else t.push({currentElement:n,elementSet:o})}if(o.options.domOperation){if("SWAP"==o.options.domOperation)if(n.kameleoonData){var i=Kameleoon.Utils.querySelectorAll(o.options.domReference)[0];if(!e.containsDomOperationElements(i))e.resetElementSet(o,n,i)}else e.resetElementSet(o,n);else if("INSERT_BEFORE"==o.options.domOperation){var l=Kameleoon.Utils.querySelectorAll(o.selector+","+o.options.domReference);if(l[0]!=n&&(!e.containsDomOperationElements(l[0])||!e.containsDomOperationElements(l[1])))e.resetElementSet(o,n)}else if("INSERT_AFTER"==o.options.domOperation){var l=Kameleoon.Utils.querySelectorAll(o.selector+","+o.options.domReference);if(l[0]==n&&(!e.containsDomOperationElements(l[0])||!e.containsDomOperationElements(l[1])))e.resetElementSet(o,n)}else if("INSERT_AS_CHILD"){var s=Kameleoon.Utils.querySelectorAll(o.options.domReference)[0];if(n.parentElement!=s)e.resetElementSet(o,n)}}else if(o.options.autoGeneratedSelector&&o.options.kameleoonId){if(null==n.getAttribute("data-kameleoon-id"))n.setAttribute("data-kameleoon-id",o.options.kameleoonId);if(null==n.getAttribute("id"))n.setAttribute("id","kameleoonId"+o.options.kameleoonId)}}))}));t.forEach((function(t){var n=t.currentElement,o=t.elementSet;if(o.options.htmlContent)if(n.innerHTML!=o.options.htmlContent)e.resetElementSet(o,n);if(o.options.href)if(n.href!=o.options.href&&n.href!=o.options.href+"/")if("A"==n.tagName)e.resetElementSet(o,n)}))}catch(e){}};e.resetElementSet=function(e,t,n){var o=t?[t]:[];if(n)o.push(n);o.forEach((function(e){if(e.id&&0==e.id.indexOf("kameleoon"))e.removeAttribute("id");e.removeAttribute("kameleoon");e.removeAttribute("data-kameleoon-id");delete e.kameleoonData;delete e.dataset.kameleoonEvaluated}));e.evaluated=!1;Kameleoon.ElementSet.processElementSet(e,null,!1,!1,!1);e.evaluated=!0};e.containsDomOperationElements=function(e){var t=e.querySelector("span.kameleoonDomOperation");return t&&t.parentElement==e};return e}();var Logger=function(){function e(){var e=this;this.MAX_REQUESTS_PER_VISIT=3;this.baseUrl="https://logger.kameleoon.com/api/2/store/?sentry_key=d8dc96c209184885ab9643cbaf1eb86f&sentry_version=7";this.canSend=function(){if(Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Consent.hasGlobalConsent())if(e.errorLoggerIds.length<e.MAX_REQUESTS_PER_VISIT){var n=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerPopulation");if(null==n){e.population=n=Math.random();Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerPopulation",n)}if(n<.01)return!0}return!1};this.generateRandomIdAsString=function(e,n,t){return Kameleoon.Utils.computeStringSha256(e+n+t).substr(0,32)};this.generateRequestDataAsString=function(e,n,t,r){var o={tags:{siteCode:Kameleoon.Internals.configuration.siteCode},user:{},environment:Kameleoon.Internals.configuration.environment,platform:"javascript",event_id:n,request:{url:location.href,headers:{"User-Agent":navigator.userAgent}},exception:{values:[{type:e.name,value:e.stack?e.stack:e.message,stacktrace:{frames:[{filename:t}]},mechanism:{data:{mode:"stack",message:e.stack?e.stack:e.message,name:e.name},handled:!1,type:"onerror"}}]}};if(r){o.tags["action-id"]=r.id;o.tags["action-name"]=r.name;o.tags["action-type"]=r.experimentAction?"experiment":"personalization"}try{o.user={id:Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.Visitor&&Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode}}catch(e){o.user={id:"no_visitor_code"}}return JSON.stringify(o)};this.send=function(n,t,r){if("DEVELOPMENT"==Kameleoon.Internals.configuration.environment)console.error(n);try{e.errorLoggerIds=Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.obtainField("Runtime","loggerRequestsSend")||e.errorLoggerIds;var o=e.generateRandomIdAsString(n.message,Kameleoon.Internals.configuration.siteCode,Kameleoon.Internals.configuration.environment);if(-1==e.errorLoggerIds.indexOf(o)){e.errors.push(n);var a=n.stack?n.stack:n.message;if(e.canSend()&&a&&a.trim().length>0){var s=new XMLHttpRequest;s.open("POST",e.baseUrl,!0);s.timeout=2e3;s.send(e.generateRequestDataAsString(n,o,t,r));Kameleoon.Internals.runtime&&Kameleoon.Internals.runtime.storedData.saveField("Runtime","loggerRequestsSend",e.errorLoggerIds)}e.errorLoggerIds.push(o);if(Kameleoon.Internals.runtime.parameters.kameleoonDebug||localStorage.kameleoonExtensionIsAdmin)console.log(n)}}catch(t){e.errors.push(n)}};this.errorLoggerIds=[];this.errors=[]}return e}();var OnlineMeanAndDeviation=function(){function n(n){var e=this;this.dimension=n;this.mean=[];this.nbUpdates=[];this.m2=[];this.deviation=[];for(var a=0;a<n;++a){this.mean[a]=0;this.nbUpdates[a]=0;this.m2[a]=0;this.deviation[a]=0}this.update=function(n,a){if(void 0===a)a=1;if(a>0)for(var t=0;t<e.dimension;++t)if(!isNaN(n[t])&&isFinite(n[t])){var i=e.mean[t]-n[t];var r=e.nbUpdates[t]+a;e.m2[t]=e.m2[t]+i/r*i*e.nbUpdates[t]*a;e.deviation[t]=Math.sqrt(e.m2[t]/r);e.mean[t]=e.mean[t]/r*e.nbUpdates[t]+n[t]/r*a;e.nbUpdates[t]=r}}}n.createFromDifferences=function(e,a,t,i){var r=new n(1);var s=e.length;var o=0;if(o<s){var v=e[o];o++;while(o<s){var d=e[o];o++;var f=d-v;if(f<0&&a||0==f&&t||f>0&&i)r.update([f]);v=d}}return r};n.createFromValues=function(e){var a=new n(1);for(var t=0,i=e.length;t<i;t++)a.update([e[t]]);return a};n.createFromBooleanValues=function(e){var a=new n(1);for(var t=0,i=e.length;t<i;t++)a.update([e[t]?1:0]);return a};return n}();var Personalization=function(){function Personalization(personalization,incomingStoredData){var _this=this;this.setTargetingSegment=function(n){_this.targetingSegment=Kameleoon.Internals.runtime.targetingSegments.filter((function(n){return n.id==_this.targetingSegmentId}))[0]||{};if(!n||n==_this.targetingSegmentId){_this.targeting=void 0;_this.rescheduleTargeting=null;_this.numberTargetingCheckings=0;_this.displayedVariation=null}};this.trigger=function(){if(!_this.targeting){_this.blocked=!1;_this.targeting=!0;_this.displayedVariation=null}};for(var key in personalization)this[key]=personalization[key];if(Kameleoon.Internals.runtime.simulationMode){var kameleoonPersonalizationStatusKey="kameleoonPersonalizationStatus-"+this.id;var kameleoonPersonalizationStatus=incomingStoredData?incomingStoredData[kameleoonPersonalizationStatusKey]:Kameleoon.Utils.readLocalData(kameleoonPersonalizationStatusKey,"LS",!0);if(kameleoonPersonalizationStatus){this.forceTargeting=eval(kameleoonPersonalizationStatus["targetingStringAndExpositionString"][0]);this.forceExposition=eval(kameleoonPersonalizationStatus["targetingStringAndExpositionString"][1])}}if(personalization.autopromo&&Kameleoon.Internals.configuration.forceAutopromoTargetingToFalse)this.blocked=!0;var blockedPersonalizations=Kameleoon.Internals.runtime.storedData.obtainField("Runtime","blockedPersonalizations",[]);if(blockedPersonalizations.length>0&&-1!=blockedPersonalizations.indexOf(this.id))this.blocked=!0;Kameleoon.Analyst.Actions.associateActionAndVariation(this,0,"DISPLAYED_VARIATION");this.setTargetingSegment()}Personalization.executeEmailingScript=function(){};Personalization.setGlobalPersonalizationDeviation=function(){var n;var e=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonGlobalPersonalizationExposition","LS");if(null==e)e=Kameleoon.Internals.runtime.readFromStorageOrExternal("kameleoonPersonalizations","LS");if(e){var i=e.split("/");n="true"==i[0]?!0:!1;Kameleoon.Utils.createLocalData("kameleoonGlobalPersonalizationExposition",e,Utils.MAX_STORAGE_DAYS,null,null,!1)}else{if(Kameleoon.Utils.seededRandom(Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode,!0)<Kameleoon.Internals.configuration.personalizationsDeviation)n=!0;else n=!1;e=n+"/"+(new Date).getTime();Kameleoon.Utils.createLocalData("kameleoonGlobalPersonalizationExposition",e,Utils.MAX_STORAGE_DAYS,null,null,!1)}Kameleoon.Internals.runtime.personalizationsActive=n};return Personalization}();var RequestManager=function(){function e(){var e=this;this.processRequests=function(){if(e.eventsToSend.length>0)if(e.validateTrackingRequest())if(!Kameleoon.Internals.runtime.simulationMode&&!Kameleoon.Internals.runtime.proxyMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){var t=e.eventsToSend.splice(0,1e3);var n=e.obtainRequestBody(t);e.send(e.obtainVisitUrl(),"POST",n);if(e.eventsToSend.length>0)e.processRequests()}};this.obtainRequestBody=function(e){var t="";t+=e.reduce((function(e,t){if(!t.notTrack)e+=t.obtainRequestData()+"\n";return e}),"");if(sessionStorage.getItem("kameleoonRequestEvents")){t+=sessionStorage.getItem("kameleoonRequestEvents");sessionStorage.removeItem("kameleoonRequestEvents")}return t};this.obtainVisitUrl=function(){var t=Kameleoon.Internals.runtime.Visitor.currentVisit.visitorCode;return"https://".concat(e.continentPrefix,"api-visit.").concat(e.domain,"/events?siteCode=").concat(e.siteCode,"&visitorCode=").concat(t)};this.obtainIpUrl=function(){return"https://".concat(e.continentPrefix,"api-tracker.").concat(e.domain,"/ip.gif")};this.obtainGeolocationUrl=function(){return"https://".concat(e.continentPrefix,"api-tracker.").concat(e.domain,"/geolocation.gif")};this.send=function(t,n,o,i,s,a){var r=new XMLHttpRequest;r.open(n,t,!0);if(i)r.onreadystatechange=function(e){i.bind(r)(e.target)};if(s){r.onerror=function(e){s.bind(r)(e.target)};r.ontimeout=function(e){s.bind(r)(e.target)}}r.timeout=a||15*60*1e3;r.send("POST"==n&&o?o:null);};this.sendActiveScript=function(){e.send("https://".concat(e.continentPrefix,"api-active-script.").concat(e.domain,"/event?siteCode=").concat(e.siteCode),"POST")};this.sendCounter=function(t){e.send("https://".concat(e.continentPrefix,"api-counter.").concat(e.domain,"/events?siteCode=").concat(e.siteCode),"POST",t)};this.sendHeatMap=function(t,n,o){e.send("https://".concat(e.continentPrefix,"api-heat-map.").concat(e.domain,"/events?siteCode=").concat(e.siteCode),"POST","x="+t+"&y="+n+"&experimentId="+o.id+"&variationId="+o.associatedVariation.id)};this.sendProduct=function(t){e.send("https://".concat(e.continentPrefix,"api-product.").concat(e.domain,"/events?siteCode=").concat(e.siteCode),"POST",t)};this.eventsToSend=[];this.continentPrefix=Kameleoon.Internals.configuration.trackerContinent;this.domain=Kameleoon.Internals.configuration.VISITOR_DOMAIN;this.siteCode=Kameleoon.Internals.configuration.siteCode;Kameleoon.Utils.setInterval(this.processRequests.bind(this),500);Kameleoon.Utils.addEventListener(window,"beforeunload","Safari"===Kameleoon.Internals.runtime.Device.browser?function(){return e.eventsToSend.length&&sessionStorage.setItem("kameleoonRequestEvents",e.obtainRequestBody(e.eventsToSend))}:this.processRequests.bind(this))}e.prototype.addRequest=function(e){this.eventsToSend.push(e);if("page"===e.eventType)this.processRequests()};e.prototype.validateTrackingRequest=function(){var e=Kameleoon.Internals.runtime.ipIsTrackerAccepted;var t=Kameleoon.Internals.configuration.trackerExcludedIPRanges.length>0;if(t&&!e||!Kameleoon.Internals.runtime.Consent.hasGlobalConsent())return!1;else return!0};return e}();var Segment=function(){function n(){}return n}();var Targeting=function(){function e(){var e=this;this.segments={};this.obtainSegment=function(t){return t&&e.segments[t]};this.checkTargetingCondition=function(t,r){var n;if(null==r.numberTargetingCheckings)r.numberTargetingCheckings=0;if(!e.checkIfTargetingMustBeComputed(r.targeting,r.rescheduleTargeting||0==r.numberTargetingCheckings,void 0))n={targeting:r.targeting,rescheduleTargeting:!1};else{var i=Kameleoon.Targeting["evaluate_"+r.type];var a=void 0;if(null!=i)a=i.bind(e)(r,t);else a=null;if(null==a)a={targeting:void 0,rescheduleTargeting:!1};var g=a.targeting;if(!0!==r.include)if(void 0===g){if(!0===a.excludedUndefinedIsTargeted)g=!0}else g=!g;n={targeting:g,rescheduleTargeting:e.checkIfTargetingMustBeComputed(g,a.rescheduleTargeting,void 0)};r.targeting=n.targeting;r.rescheduleTargeting=n.rescheduleTargeting;r.numberTargetingCheckings++}if(!0===n.targeting)n.weight=r.weight;else n.weight=0;return n};this.checkTargetingSegmentsTargeting=function(t){var r=[];for(var n=0,i=t.length;n<i;++n){var a=t[n];if(null==a.numberTargetingCheckings)a.numberTargetingCheckings=0;if(e.checkIfTargetingMustBeComputed(a.targeting,a.rescheduleTargeting||0==a.numberTargetingCheckings,!1))r.push(a)}t=r;for(var n=0,i=t.length;n<i;++n){var a=t[n];var g=e.checkTree(null,a?a.tree:null,!1);a.targeting=g.targeting;a.rescheduleTargeting=g.rescheduleTargeting;a.numberTargetingCheckings++}var l=[];for(var n=0,i=t.length;n<i;++n){var a=t[n];if(e.checkIfTargetingMustBeComputed(a.targeting,a.rescheduleTargeting,!1))l.push(a)}if(l.length>0)var s=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(s);e.processTargetingSegments(l)}),Kameleoon.Internals.runtime.domReady?Kameleoon.Internals.runtime.PAGE_LOADED_POLL_DELAY:Kameleoon.Internals.runtime.PAGE_LOADING_POLL_DELAY)};this.checkTree=function(t,r,n){var i;if(null==r){i={targeting:!0,rescheduleTargeting:!1};if(n)i.weight=0}else{if(null==r.numberTargetingCheckings)r.numberTargetingCheckings=0;if(!e.checkIfTargetingMustBeComputed(r.targeting,r.rescheduleTargeting||0==r.numberTargetingCheckings,n)){i={targeting:r.targeting,rescheduleTargeting:!1};if(n)i.weight=r.weight}else{if(null!=r.targetingCondition)i=e.checkTargetingCondition(t,r.targetingCondition);else{var a=e.checkTree(t,r.leftChild,n);var g=Kameleoon.Internals.runtime.simulationMode||n;if(!g)switch(a.targeting){case!0:if(!r.orOperator)g=!0;break;case!1:if(r.orOperator)g=!0;break;case void 0:default:g=!0;break}var l=null;if(g)l=e.checkTree(t,r.rightChild,n);var s=void 0;switch(a.targeting){case!0:if(r.orOperator)s=!0;else switch(l.targeting){case!0:s=!0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}break;case!1:if(r.orOperator)switch(l.targeting){case!0:s=!0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}else s=!1;break;case void 0:default:if(r.orOperator)switch(l.targeting){case!0:s=!0;break;case!1:s=void 0;break;case void 0:default:s=void 0;break}else switch(l.targeting){case!0:s=void 0;break;case!1:s=!1;break;case void 0:default:s=void 0;break}break}i={targeting:s,rescheduleTargeting:e.checkIfTargetingMustBeComputed(s,a.rescheduleTargeting||g&&l.rescheduleTargeting,n)};if(n){var o=void 0;if(r.orOperator)o=Math.max(a.weight,l.weight);else o=a.weight+l.weight;i.weight=o}}r.targeting=i.targeting;r.rescheduleTargeting=i.rescheduleTargeting;if(n)r.weight=i.weight}r.numberTargetingCheckings++}return i};this.computeDisplayableTree=function(t){var r=new Array;var n=new Array;e.computeDisplayableTreeFirstLevelAddIn(t,r,n);if(n.length>0){var i=new Array;var a=new Array;var g=e.createIterator(r);var l=e.createIterator(n);while(l.hasNext()){var s=l.next();if(Kameleoon.Utils.testEmptyMap(s.conditions)){if(l.hasNext())g.next()}else{a.push(s);if(l.hasNext())i.push(g.next())}}r=a.length>0?i.slice(0,a.length-1):i;n=a}return{firstLevelOrOperators:r,secondLevel:n}};this.computeDisplayableTreeFirstLevelAddIn=function(t,r,n){if(null!=t)if(null==t.targetingCondition)if(0==t.orGuiLevel){e.computeDisplayableTreeFirstLevelAddIn(t.leftChild,r,n);r.push(t.orOperator);e.computeDisplayableTreeFirstLevelAddIn(t.rightChild,r,n)}else n.push(e.computeDisplayableTreeSecondLevel(t));else n.push(e.computeDisplayableTreeSecondLevel(t))};this.computeDisplayableTreeSecondLevel=function(t){var r=new Array;var n=new Array;e.computeDisplayableTreeSecondLevelAddIn(t,r,n);if(n.length>0){var i=new Array;var a=new Array;var g=e.createIterator(r);var l=e.createIterator(n);while(l.hasNext()){var s=l.next();if(s.disabled){if(l.hasNext())g.next()}else{a.push(s);if(l.hasNext())i.push(g.next())}}r=a.length>0?i.slice(0,a.length-1):i;n=a}return{orOperators:r,conditions:n}};this.computeDisplayableTreeSecondLevelAddIn=function(t,r,n){if(null!=t)if(null==t.targetingCondition){e.computeDisplayableTreeSecondLevelAddIn(t.leftChild,r,n);r.push(t.orOperator);e.computeDisplayableTreeSecondLevelAddIn(t.rightChild,r,n)}else n.push(t.targetingCondition)};this.flattenTree=function(e){var t=function(e,r){if(null!=e)if(null!=e.targetingCondition)return!1===e.targetingCondition.targeting?["!",e.targetingCondition]:e.targetingCondition;else{var n=e.orOperator?"OR":"AND";var i=[t(e.leftChild,n),n,t(e.rightChild,n)];return"AND"==r&&"OR"==n?["(",i,")"]:i}};return Kameleoon.Utils.flatten(t(e,"OR"))};this.processAllTargetingSegments=function(){var t=Kameleoon.Internals.runtime.targetingSegments||[];t.forEach((function(t){e.segments[t.id]=t}));e.processTargetingSegments(t)};this.processTargetingSegments=function(t){e.checkTargetingSegmentsTargeting(t);var r=[];for(var n=0,i=t.length;n<i;++n){var a=t[n];if(!0===a.targeting)r.push(a)}e.performSegmentsTracking(r)}}e.prototype.checkIfTargetingMustBeComputed=function(e,t,r){var n=!0===t&&(void 0===e||!1===e&&!0===r);return n};e.prototype.createIterator=function(e){var t=0;return{hasNext:function(){return t<e.length},next:function(){return e[t++]}}};e.prototype.performSegmentsTracking=function(e){for(var t=0,r=e.length;t<r;++t){var n=e[t];Kameleoon.Utils.sendKameleoonCustomEvent.call(window,"SegmentTriggered",{segment:{id:n.id,name:n.name}});if(Kameleoon.Internals.configuration.useAudience||Kameleoon.Internals.runtime.mentalistRun&&(n.trackMentalistPrediction||n.mentalist))Kameleoon.Gatherer.track(VisitEvent_TargetingSegments,{id:n.id});if(Kameleoon.Internals.runtime.mentalistRun)if(n.trackMentalistPrediction)Kameleoon.Gatherer.track(VisitEvent_MentalistPredictionSegmentTargeting,{targetingSegmentId:n.id,trackMentalistPrediction:n.trackMentalistPrediction})}};return e}();Targeting.prototype.evaluate_CUSTOM_DATUM=function(e){if(Kameleoon.Internals.runtime.gathererRun){var a;var r=Kameleoon.Internals.runtime.Visitor.currentVisit.countByValueByCustomDatum[e.index];if(null==r)a="UNDEFINED"==e.operator?!0:void 0;else{a=!1;var i=function(r){switch(e.operator){case"CONTAINS":if(r.indexOf(e.value)>=0)a=!0;break;case"EXACT":if(r===e.value)a=!0;break;case"REGULAR_EXPRESSION":if(new RegExp(e.value).test(r))a=!0;break;case"LOWER":case"EQUAL":case"GREATER":var i=e.value;if(!isNaN(i)){var t=parseFloat(r);if(!isNaN(t))switch(e.operator){case"LOWER":if(t<i)a=!0;break;case"EQUAL":if(t==i)a=!0;break;case"GREATER":if(t>i)a=!0;break}}break;case"TRUE":if("true"===r)a=!0;break;case"FALSE":if("false"===r)a=!0;break;case"AMONG_VALUES":try{var n=JSON.parse(e.value);n.forEach((function(e){if(e==r)a=!0}))}catch(e){a=!1}}if(!0===a)return"break"};for(var t in r){var n=i(t);if("break"===n)break}}return{targeting:a,rescheduleTargeting:void 0===a}}return null};Targeting.prototype.evaluate_PAGE_URL=function(e){var t=new RegExp(Kameleoon.Utils.computeURLRegExpNoKameleoonParameters(e.value));var a;try{a=t.test(decodeURI(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL()))}catch(e){try{a=unescape?t.test(unescape(Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL())):!1}catch(e){a=!1}}return{targeting:a,rescheduleTargeting:!1}};Targeting.prototype.evaluate_COOKIE=function(e){var r=!1;try{var t=function(e,r){switch(e){case"EXACT":return"^"+(null==r?"":r)+"$";case"CONTAINS":return"(.*)"+(null==r?"":r)+"(.*)";case"OPTIONAL":return".*";default:return r}};var a=document.cookie.split(";");for(var n=0,u=a.length;n<u;++n){var i=a[n];var s=i.indexOf("=");if(new RegExp(t(e.nameOperator,e.name)).test(i.substring(0,s).trim())&&new RegExp(t(e.valueOperator,e.value)).test(i.substring(s+1))){r=!0;break}}}catch(e){r=!1}return{targeting:r,rescheduleTargeting:!1}};Targeting.prototype.evaluate_DEVICE_TYPE=function(e){return{targeting:e.value==Kameleoon.Internals.runtime.Device.type.toLocaleUpperCase(),rescheduleTargeting:!1}};Targeting.prototype.evaluate_JS_CODE=function(targetingCondition,container){var asyncCallback=function(e){targetingCondition.targeting=e};if(!targetingCondition.valueGeneratedCode)if(targetingCondition.async){targetingCondition.valueGeneratedCode="(function(setTargeting) {"+targetingCondition.value+"})(asyncCallback);";eval(targetingCondition.valueGeneratedCode)}else targetingCondition.valueGeneratedCode="(function() {"+targetingCondition.value+"})();";var targeting=void 0;if(targetingCondition.async)targeting=targetingCondition.targeting||void 0;else if(!targetingCondition.domReady||Kameleoon.Internals.runtime.domReady)try{var value=eval(targetingCondition.valueGeneratedCode);if("boolean"!=typeof value)targeting=void 0;else targeting=value}catch(e){targeting=!1;var segmentName=container&&container.targetingSegment?container.targetingSegment.name:null;console.log(e,segmentName)}return{targeting:targeting,rescheduleTargeting:void 0===targeting}};Targeting.prototype.evaluate_DOM_ELEMENT=function(e){var l=void 0;if(null!=e.value)l=Kameleoon.Utils.querySelectorAll(e.value).length>0?!0:void 0;else if(null!=e.elementSets);else l=!1;if(void 0===l&&Kameleoon.Internals.runtime.domReady)l=!1;return{targeting:l,rescheduleTargeting:void 0===l}};Targeting.prototype.evaluate_EVENT=function(e){var r=void 0;for(var t=0,a=Kameleoon.API.Events.triggered.length;t<a;++t)if(e.value==Kameleoon.API.Events.triggered[t]){r=!0;break}return{targeting:r,rescheduleTargeting:void 0===r}};var Tracking=function(){function t(){var t=this;this.timeBeforeSendTracking=20*60*1e3;this.checkAndSetKameleoonTrackingTime=function(n,e){var i=Kameleoon.Utils.secureSessionStorage("getItem","kameleoonAnalyticsTrackingTimes");var a=null==i?{}:JSON.parse(i);var o="Experiment-"+n;if(null==a[e]||null==a[e][o]||(new Date).getTime()>=a[e][o]+t.timeBeforeSendTracking){if(null==a[e])a[e]={};a[e][o]=(new Date).getTime();Kameleoon.Utils.secureSessionStorage("setItem","kameleoonAnalyticsTrackingTimes",JSON.stringify(a));return!0}return!1};this.processCustomIntegration=function(t){var n=Kameleoon.Internals.configuration.customIntegrations;var e=function(e){var i=t.customIntegrations[e];var a=n.filter((function(t){return t.name==i}))[0];if(a)Kameleoon.Utils.runProtectedScript("(function(\n\t\t\t\t\t\texperimentID,\n\t\t\t\t\t\texperimentName,\n\t\t\t\t\t\tpersonalizationID,\n\t\t\t\t\t\tpersonalizationName,\n\t\t\t\t\t\tvariationID,\n\t\t\t\t\t\tvariationName) {\n\t\t\t\t\t\t\t".concat(a.jsCode,"\n\t\t\t\t\t})(\n\t\t\t\t\t\t").concat(t.experimentAction?t.id:null,",\n\t\t\t\t\t\t").concat(t.experimentAction?"'"+t.name.replace(/(['"])/g,"\\$1")+"'":null,",\n\t\t\t\t\t\t").concat(!t.experimentAction?t.id:null,",\n\t\t\t\t\t\t").concat(!t.experimentAction?"'"+t.name.replace(/(['"])/g,"\\$1")+"'":null,",\n\t\t\t\t\t\t").concat("reference"==t.associatedVariation.id.toString()?0:t.associatedVariation.id,",\n\t\t\t\t\t\t").concat("'"+t.associatedVariation.name+"'","\n\t\t\t\t\t)"),"kameleoonCustomIntegration"+i+".js")};for(var i=0;i<t.customIntegrations.length;i++)e(i)}}return t}();Tracking.prototype.processAdobeOmniture=function(e){e.adobeOmnitureTracking.active=!0;var n=Kameleoon.Tracking.findAdobeOmnitureObject(e);if(void 0==window.s_doPlugins)window.s_doPlugins=Kameleoon.Tracking.processOmniture;if(n){if(void 0==n.doPlugins){n.usePlugins=!0;n.doPlugins=Kameleoon.Tracking.processOmniture}e.adobeOmnitureTracking.omnitureAlreadyLoaded=!0;try{if(!e.adobeOmnitureTracking.willIncludeTracksentMarker||n.tracksent||window.kameleoonOmnitureCallSent)if(Kameleoon.Tracking.checkAndSetKameleoonTrackingTime(e.id,"adobeOmniture"))n.tl(!0,"o","Kameleoon Tracking")}catch(n){var i=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(i);Kameleoon.Tracking.processAdobeOmniture.apply(Kameleoon.Tracking,[e])}),150)}}else if(e.adobeOmnitureTracking.eventCallDelayed)var r=Kameleoon.Utils.setTimeout((function(){Kameleoon.Utils.clearTimeout(r);Kameleoon.Tracking.processAdobeOmniture.apply(Kameleoon.Tracking,[e])}),150)};Tracking.prototype.findAdobeOmnitureObject=function(experiment){if(experiment.adobeOmnitureTracking.objectDetectionScript){if(!experiment.adobeOmnitureTracking.objectDetectionScriptGeneratedCode)experiment.adobeOmnitureTracking.objectDetectionScriptGeneratedCode="(function() {"+experiment.adobeOmnitureTracking.objectDetectionScript+"})();";return eval(experiment.adobeOmnitureTracking.objectDetectionScriptGeneratedCode)}if(experiment.adobeOmnitureTracking.object)return window[experiment.adobeOmnitureTracking.object];return window["s"]};Tracking.prototype.processOmniture=function(e){if(null!=Kameleoon.Internals.runtime){var n=function(n){for(var i=0,r=n.length;i<r;++i){var a=n[i];if(a.adobeOmnitureTracking&&a.adobeOmnitureTracking.active){if(e.linkTrackVars&&e.linkTrackVars.length>0)if("None"!=e.linkTrackVars)e.linkTrackVars=e.linkTrackVars+","+"eVar"+a.adobeOmnitureTracking.eVar;else e.linkTrackVars="eVar"+a.adobeOmnitureTracking.eVar;e["eVar"+a.adobeOmnitureTracking.eVar]=a.name+" / "+a.associatedVariation.name;if(a.targeting&&a.adobeOmnitureTracking.willIncludeTracksentMarker)Kameleoon.Tracking.checkAndSetKameleoonTrackingTime(a.id,"adobeOmniture")}}};var i=Kameleoon.Internals.runtime.experiments;if(null!=i)n(i);var r=Kameleoon.Internals.runtime.personalizations;if(null!=r)n(r)}};var Variation=function(){function e(e){var t=this;this.getAction=function(){var e=[];e=e.concat(Kameleoon.Internals.runtime.experiments);e=e.concat(Kameleoon.Internals.runtime.personalizations);return e.filter((function(e){return e.id==t.actionId}))[0]};for(var o in e){this[o]=e[o];if("widgetTemplateInputData"==o){var n=this[o];for(var r in n)if("string"==typeof n[r])n[r]=n[r].replace("STATIC_IMAGE_PATH",Kameleoon.Internals.configuration.IMAGE_PATH)}}}e.prototype.applyJavascriptCode=function(e){if(this.javaScriptCode&&this.javaScriptCode.code&&(null==this.javaScriptCode.evaluated||e)){this.javaScriptCode.evaluated=!0;return Kameleoon.Utils.runProtectedScript(this.javaScriptCode.code,"kameleoonVariationJavaScriptCode-"+this.id+".js")}return null};e.prototype.preProcessRedirect=function(e){var t=this.redirections||[];for(var o=0,n=t.length;o<n;++o)if(!t[o].scope||new RegExp(t[o].scope).test(window.location.href))if(t[o].additionalParameters){if(-1==window.location.search.indexOf(t[o].string))if("#"!=t[o].string[0])Kameleoon.Utils.processRedirect(window.location.protocol+"//"+window.location.hostname+(!window.location.port?"":":"+window.location.port)+window.location.pathname+window.location.search+(-1==window.location.search.indexOf("?")?"?":"&")+t[o].string+window.location.hash,e);else window.location.replace(window.location.protocol+"//"+window.location.hostname+(!window.location.port?"":":"+window.location.port)+window.location.pathname+window.location.search+t[o].string)}else{var r=t[o].string;if(t[o].keepParameters)r+=-1!=r.indexOf("?")?window.location.search.replace("?","&"):window.location.search;Kameleoon.Utils.processRedirect(r,e)}};e.prototype.process=function(){var e=this;var t=[];t=t.concat(Kameleoon.Internals.runtime.experiments);t=t.concat(Kameleoon.Internals.runtime.personalizations);var o=t.filter((function(t){return t.id==e.actionId}))[0];if(this.redirections&&!Kameleoon.Internals.runtime.editorEnabled)this.preProcessRedirect(o);if(this.forceNoFlicker&&!Kameleoon.Internals.runtime.domReady){var n="";for(var r=0,i=this.elementSets.length;r<i;++r)n+=(0!=r?", ":"")+this.elementSets[r].selector;Kameleoon.Utils.forceNoFlicker(n)}if(!this.styleSheetAdded){this.styleSheetAdded=!0;Kameleoon.Utils.addCSSStyleSheet(this.css,o,null)}if(this.javaScriptCode&&!this.permanentRefreshActive)if(!this.javaScriptCode.afterDOMReady)this.applyJavascriptCode(!1);else if(!this.permanentRefreshActive)Kameleoon.Utils.domReady((function(){e.applyJavascriptCode(!1)}));if(this.elementSets&&(!o||o.targeting))this.elementSets.forEach((function(t){t.evaluated=!0;Kameleoon.ElementSet.processElementSet(t,e,!1,e.permanentRefreshActive,e.editionMode)}));if(this.replaceData){var a=JSON.parse(this.replaceData);this.processReplaceData(a)}if(this.forceNoFlicker&&!this.permanentRefreshActive)Kameleoon.Utils.removeBlockingStyleSheet();if(Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]&&!this.permanentRefreshActive){if(Kameleoon.Internals.runtime.cantUseMutationObserver)Kameleoon.Utils.clearInterval(Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]);Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]=null}if(!Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]&&!Kameleoon.Internals.runtime.editorMode&&!Kameleoon.Internals.runtime.kameleoonSelectionIframeMode){this.permanentRefreshActive=!0;Kameleoon.Internals.runtime.listenVariations.push(this);Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]=!0;if(Kameleoon.Internals.runtime.cantUseMutationObserver)Kameleoon.Internals.runtime["enginePollerForVariation"+this.id]=Kameleoon.Utils.setInterval((function(){e.process()}),10)}};e.prototype.processReplaceData=function(e){if(document&&document.body){var t=function(e){var t=!0,o=e.parentNode,n;if(o)n=o.getAttribute("id");if(Kameleoon.Internals.runtime.editorMode)if(n&&null!==n.match("kameleoon")||o.closest&&null!==o.closest(".KameleoonProtected"))t=!1;if("SCRIPT"===o.nodeName||"STYLE"===o.nodeName||"NOSCRIPT"===o.nodeName)t=!1;if(t)return NodeFilter.FILTER_ACCEPT};var o=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};var n=function(e){return e.replace(/[aàáâãäå]/g,"[aàáâãäå]").replace(/[cç]/g,"[cç]").replace(/[eèéêëæ]/g,"[eèéêëæ]").replace(/[nñ]/g,"[nñ]").replace(/[oòóôõöø]/g,"[oòóôõöø]").replace(/[sß]/g,"[sß]").replace(/[uùúûü]/g,"[uùúûü]").replace(/[yÿ]/g,"[yÿ]")};var r=t;r.acceptNode=t;var i=document.createTreeWalker(document.body,NodeFilter.SHOW_ALL,r,!1);while(i.nextNode()){if(3!==i.currentNode.nodeType&&(1!==i.currentNode.nodeType||!i.currentNode.getAttribute("placeholder")))continue;for(var a=0;a<e.length;++a){var l="[a-zA-Z0-9_ÀÁÂÃÄÅàáâãäåßÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž]",s=n(o(e[a].toReplace)),c=e[a].isWholeWordMode?"(?<!"+l+")"+s+"(?!"+l+")":s,d=new RegExp(c,e[a].isCaseSensitiveMode?"g":"gi");if(!e[a].disabled&&i.currentNode.nodeValue&&d.test(i.currentNode.nodeValue)){Kameleoon.ElementSet.saveElementOriginalData(i.currentNode);i.currentNode.kameleoonData.powered=!0;i.currentNode.nodeValue=i.currentNode.nodeValue.replace(d,e[a].replaceBy)}else if(!e[a].disabled&&1===i.currentNode.nodeType&&i.currentNode.getAttribute("placeholder")&&d.test(i.currentNode.getAttribute("placeholder"))){Kameleoon.ElementSet.saveElementOriginalData(i.currentNode);i.currentNode.kameleoonData.powered=!0;i.currentNode.setAttribute("placeholder",i.currentNode.getAttribute("placeholder").replace(d,e[a].replaceBy))}}}}};return e}();var Visit=function(){function e(e){var t=this;this.addActionTriggered=function(e,t){if(t){var i=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","experimentsTriggered",{});i[e.toString()]=!0;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","experimentsTriggered",i)}else{var n=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","personalizationsTriggered",{});n[e.toString()]=!0;Kameleoon.Internals.runtime.storedData.saveField("Gatherer","personalizationsTriggered",n)}};this.addActivity=function(e,i){if(i)t.timeLastActivity=e};this.addAdBlocker=function(){t.Device.adBlocker=!0};this.addConversions=function(e,i,n,r){var s=r?-1:1;i*=s;n*=s;var a=t.conversions[e];var o=a?a.count:0;var u=a?a.revenue:0;var l=o+i;var c=u+n;if(l>0)if(c>=0)t.conversions[e]={count:l,revenue:c};else delete t.conversions[e];else delete t.conversions[e]};this.addCustomData=function(e,i,n){if(Kameleoon.Utils.testEmptyMap(i)){if(n)delete t.countByValueByCustomDatum[e]}else{if(n||null==t.countByValueByCustomDatum[e])t.countByValueByCustomDatum[e]={};for(var r in i)t.countByValueByCustomDatum[e][r]=(t.countByValueByCustomDatum[e][r]||0)+i[r]}};this.addExperiment=function(e,i,n,r){if(null===n)return;if(void 0===t.ExperimentActivations[i]){t.ExperimentActivations[i]={associatedVariationID:n,times:[]};t.mentalistDecisionByExperimentId[i]=r}t.ExperimentActivations[i].times.push(e);if(-1!=i){var s=Kameleoon.Internals.runtime.experiments.filter((function(e){return e.id==i}))[0];var a=s?s.attributionWindow:Visitor.INFLUENCE_DELAY;if(a>0)t.experimentInfluences[i]=[parseInt(n),a]}};this.addExternalSolutionData=function(e,i){if(!Kameleoon.Utils.testEmptyMap(i)){var n=t.valuesByKeyByExternalSolution[e];if(null==n){n={};t.valuesByKeyByExternalSolution[e]=n}for(var r in i){var s=i[r];var a=s.length;if(a>0){var o=n[r];if(null==o){o={};n[r]=o}for(var u=0;u<a;++u)o[s[u]]=!0}}}};this.addGeolocation=function(e,i,n,r,s,a){t.Geolocation={country:e,region:i,city:n,postalCode:r,latitude:s,longitude:a}};this.addInterests=function(e,i){e.forEach((function(e){var n=t.freshByActiveInterest[e];if(null==n)n=!1;t.freshByActiveInterest[e]=n||i}))};this.addNumberClicks=function(e){if(e>0)t.numberClicks+=e};this.addPage=function(e,i,n,r){t.addActivity(e,!0);t.keyPages.push(n);t.timesStartedPages.push(e);var s=r.filter((function(e){return null!=e}));if(s.length>0){t.referrers.push(s);t.timesReferrers.push(e)}var a=t.timesByPageHref[i];if(null==a){a=[];t.timesByPageHref[i]=a}a.push(e);for(var o in t.productEansLastPage)t.productEansAllButLastPages[o]=!0;t.productEansLastPage={}};this.addPersonalization=function(e,i,n,r){if(0==n)return null;if(void 0===t.PersonalizationActivations[i]||null!=n&&null==t.PersonalizationActivations[i].associatedVariationID){t.PersonalizationActivations[i]={associatedVariationID:n,times:[]};t.mentalistDecisionByPersonalizationId[i]=r}t.PersonalizationActivations[i].times.push(e);if(-1!=i){var s=Kameleoon.Internals.runtime.personalizations.filter((function(e){return e.id==i}))[0];var a=s?s.attributionWindow:Visitor.INFLUENCE_DELAY;if(a>0)t.personalizationInfluences[i]=[1,a]}};this.addProduct=function(e){t.productEansLastPage[e]=!0};this.addSearch=function(e,i,n,r){t.addActivity(e,!0);t.keyWords.push(i);t.searchesFollowed.push(r);t.searchesNumberResults.push(n);t.timesSearches.push(e)};this.addTargetingSegment=function(e,i){var n=t.timesByTargetingSegmentId[i];if(null==n){n=[];t.timesByTargetingSegmentId[i]=n}n.push(e)};this.addWeather=function(e,i,n,r,s,a,o,u,l){t.Weather={temperature:e,humidity:i,pressure:n,windSpeed:r,cloudiness:s,sunrise:a,sunset:o,conditionDescription:u,conditionCode:l}};this.clearCustomDataPage=function(){for(var e in Kameleoon.Internals.runtime.Gatherer.configuration.customData){var i=Kameleoon.Internals.runtime.Gatherer.configuration.customData[e];if("PAGE"==i.scope)delete t.countByValueByCustomDatum[e]}};this.computeActionNumberActivations=function(e,i,n,r){if(null==r[e])return 0;return t.computeObjectNumberPresence(i,n,r[e].times)};this.computeObjectNumberPresence=function(e,t,i){var n=0;for(var r=0,s=i.length;r<s;++r){var a=i[r];if((null==e||a>=e)&&(null==t||a<=t))n++}return n};this.convertVisitFromServer=function(){for(var e in t.valuesByKeyByExternalSolution){var i=t.valuesByKeyByExternalSolution[e];for(var n in i){var r=i[n];var s={};for(var a=0,o=r.length;a<o;++a)s[r[a]]=!0;i[n]=s}}return t};this.isVisitFinished=function(){return t.timeLastActivity<(new Date).getTime()-Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration};this.obtainInterestIsActive=function(e,i){if(null==i)return null!=t.freshByActiveInterest[e];return t.freshByActiveInterest[e]==i};this.obtainKeyPageIsVisited=function(e){for(var i=0,n=t.keyPages.length;i<n;i++){var r=t.keyPages[i];for(var s=0,a=r.length;s<a;s++)if(e==r[s])return!0}return!1};this.obtainKeyWordIsSearched=function(e){for(var i=0,n=t.keyWords.length;i<n;i++){var r=t.keyWords[i];for(var s=0,a=r.length;s<a;s++)if(e==r[s])return!0}return!1};this.obtainMeanPageDuration=function(){var e=new Date;var i=OnlineMeanAndDeviation.createFromDifferences(t.timesStartedPages,!1,!0,!0);i.update([e.getTime()-t.timesStartedPages[t.timesStartedPages.length-1]]);return i.mean[0]};this.obtainNumberConversions=function(e){var i=t.conversions[e];return null==i?0:i.count};this.obtainPageNumberViews=function(e,i,n,r){var s=0;for(var a in t.timesByPageHref)if(null!=a){var o=Kameleoon.Utils.computeRelativeURL(a);if((null==e||e.test(a)||e.test(o))&&(null==i||!i.test(a)&&!i.test(o)))s+=t.computeObjectNumberPresence(n,r,t.timesByPageHref[a])}return s};this.obtainPersonalizationNumberActivations=function(e,i,n){return t.computeActionNumberActivations(e,i,n,t.PersonalizationActivations)};this.obtainReferrerIsPresent=function(e){var i=null==e?null:e+1;for(var n=0,r=t.referrers.length;n<r;n++){var s=t.referrers[n];for(var a=0,o=s.length;a<o;a++)if(s[a]==i)return!0}return!1};this.index=e.index||0;this.landingPageURL=e.landingPageURL||null;this.locale=e.locale||"en";this.mentalistDecisionByExperimentId=e.mentalistDecisionByExperimentId||{};this.mentalistDecisionByPersonalizationId=e.mentalistDecisionByPersonalizationId||{};this.productEansAllButLastPages=e.productEansAllButLastPages||{};this.productEansLastPage=e.productEansLastPage||{};this.startDate=e.startDate||0;this.timesByPageHref=e.timesByPageHref||{};this.timesByTargetingSegmentId=e.timesByTargetingSegmentId||{};this.valuesByKeyByExternalSolution=e.valuesByKeyByExternalSolution||{};this.visitorCode=e.visitorCode||"";this.countByValueByCustomDatum=e.countByValueByCustomDatum||{};this.freshByActiveInterest=e.freshByActiveInterest||{};this.keyPages=e.keyPages||[];this.keyWords=e.keyWords||[];this.numberClicks=e.numberClicks||0;this.referrers=e.referrers||[];this.searchesFollowed=e.searchesFollowed||[];this.searchesNumberResults=e.searchesNumberResults||[];this.timeLastActivity=e.timeLastActivity||this.startDate;this.timesReferrers=e.timesReferrers||[];this.timesSearches=e.timesSearches||[];this.timesStartedPages=e.timesStartedPages||[];this.experimentInfluences=e.experimentInfluences||{};this.personalizationInfluences=e.personalizationInfluences||{};var i=e.Device||{};this.Device={adBlocker:i.adBlocker||!1,browser:null!=i.browser?i.browser:null,browserName:i.browserName||null,browserVersion:i.browserVersion||null,os:null!=i.os?i.os:null,osName:i.osName||null,screenHeight:i.screenHeight||null,screenWidth:i.screenWidth||null,timeZone:i.timeZone||"UTC",type:i.type?i.type.toLocaleUpperCase():null,windowHeight:i.windowHeight||null,windowWidth:i.windowWidth||null};var n=e.Geolocation||{};this.Geolocation={city:n.city||null,country:n.country||null,latitude:n.latitude||null,longitude:n.longitude||null,postalCode:n.postalCode||null,region:n.region||null};var r=e.Weather||{};this.Weather={conditionCode:r.conditionCode||null,conditionDescription:r.conditionDescription||null,cloudiness:r.cloudiness||null,humidity:r.humidity||null,pressure:r.pressure||null,sunrise:r.sunrise||null,sunset:r.sunset||null,temperature:r.temperature||null,windSpeed:r.windSpeed||null};this.conversions=e.conversions||{};this.ExperimentActivations=e.ExperimentActivations||{};this.PersonalizationActivations=e.PersonalizationActivations||{}}e.prototype.obtainExperimentNumberActivations=function(e,t,i){return this.computeActionNumberActivations(e,t,i,this.ExperimentActivations)};return e}();var Visitor=function(){function e(){var t=this;this.addVisit=function(e){t.visits.push(e);t.currentVisit=e;t.totalVisits++;if(null==t.timeStartedEldestVisit)t.timeStartedEldestVisit=e.startDate;var i=t.visits.length;var n=Math.max(1,Kameleoon.Internals.configuration.maxNumberLocalVisits);if(i>n)t.visits=t.visits.slice(i-n)};this.addPreviousVisits=function(e){if(null!=t.currentVisit){var i=t.currentVisit;var n=[];for(var r=0,a=t.visits.length-1;r<a;++r)n.push(t.visits[r]);for(var r=0,a=e.length;r<a;++r)n.push(e[r]);n.sort((function(e,t){var i=e.startDate-t.startDate;if(0!=i)return i;i=e.index-t.index;return i}));var o=null;var s=null;for(var r=0,a=n.length;r<a;r++){var l=n[r];var u=l.visitorCode;var d=l.index;if(u!=o||d!=s)t.addVisit(l);o=u;s=d}t.addVisit(i)}};this.obtainKeyPageIsVisited=function(e){for(var i=0,n=t.visits.length;i<n;++i)if(t.visits[i].obtainKeyPageIsVisited(e))return!0;return!1};this.obtainKeyWordIsSearched=function(e){for(var i=0,n=t.visits.length;i<n;++i)if(t.visits[i].obtainKeyWordIsSearched(e))return!0;return!1};this.obtainInterestIsActive=function(e){for(var i=0,n=t.visits.length;i<n;++i)if(t.visits[i].obtainInterestIsActive(e,null))return!0;return!1};this.obtainReferrerIsPresent=function(e){for(var i=0,n=t.visits.length;i<n;++i)if(t.visits[i].obtainReferrerIsPresent(e))return!0;return!1};this.obtainLastVisitWithFreshActiveInterest=function(e){for(var i=t.visits.length-1;i>=0;--i){var n=t.visits[i];if(n.obtainInterestIsActive(e,!0))return n}return null};this.obtainNumberConversions=function(e){var i=0;for(var n=t.visits.length-1;n>=0;--n)i+=t.visits[n].obtainNumberConversions(e);return i};this.obtainActionNumberActivations=function(e,i,n,r,a,o,s,l){var u=l?"obtainExperimentNumberActivations":"obtainPersonalizationNumberActivations";var d=Kameleoon.Internals.runtime.Visitor.visits.length;var m=0;if(d>0){if(a){var v=Kameleoon.Internals.runtime.Visitor.visits[d-1][u](e,n,r);m+=s?v>0?1:0:v}if(o)for(var c=0,f=d-1;c<f;++c){var h=t.visits[c][u](e,n,r);m+=s?h>0?1:0:h}}return m};this.obtainPageNumberViews=function(e,i,n,r,a,o){var s=t.visits.length;var l=0;if(s>0){if(a)l+=t.visits[s-1].obtainPageNumberViews(e,i,n,r);if(o)for(var u=0,d=s-1;u<d;++u)l+=t.visits[u].obtainPageNumberViews(e,i,n,r)}return l};this.obtainTimeSincePreviousVisit=function(){var e=0;if(t.visits.length>1){e=t.currentVisit.startDate-t.visits.slice(-2)[0].timeLastActivity;e=Math.max(e,Kameleoon.Internals.runtime.Gatherer.configuration.maxVisitIdleDuration)}return e};this.obtainVisitorCode=function(i){var n=!1;var r=!1;var a;var o=!1;if(Kameleoon.Internals.runtime.incomingStoredData)a=Kameleoon.Internals.runtime.incomingStoredData.kameleoonVisitorCode;else a=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS");var s=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","COOKIE");if(s){if(-1!=s.indexOf("_js_"))o=!0;s=s.replace("_js_","")}a=a||s;if(i||null==a){a=Kameleoon.Utils.obtainRandomString(e.VISITOR_CODE_LENGTH,Analyst.CODE_ALPHABET);n=!0;r=!0}Kameleoon.Utils.createLocalData("kameleoonVisitorCode",a,Utils.MAX_STORAGE_DAYS,null,"LS");if(a!=s||o){Kameleoon.Utils.createLocalData("kameleoonVisitorCode","_js_"+a,Utils.MAX_STORAGE_DAYS,null,"COOKIE");if(a!=s)r=!0}t.visitorCode=a;return n};this.obtainVisitorFromStoredData=function(){return Kameleoon.Internals.runtime.storedData.Visitor};this.saveToStoredData=function(){t.saveFieldToStoredData("visits",t.visits);t.saveFieldToStoredData("totalVisits",t.totalVisits);t.saveFieldToStoredData("timeStartedEldestVisit",t.timeStartedEldestVisit)};this.updateCurrentVisit=function(){};this.updateFromStoredData=function(e,i,n){var r=!1;var a=t.obtainVisitorFromStoredData();var o=a.visits;if(!t.visitorCode){var s=t.obtainVisitorCode(n);if(s)n=!0}if(o){var l=o.slice(-1)[0].visitorCode;if(l!=t.visitorCode){var u=Kameleoon.Utils.readLocalData("kameleoonVisitorCode","LS");if(u==l||!Kameleoon.Internals.runtime.Consent.hasGlobalConsent()){t.visitorCode=l;try{delete Kameleoon.Internals.runtime.localDataMap.COOKIE.kameleoonVisitorCode;delete Kameleoon.Internals.runtime.localDataMap.LS.kameleoonVisitorCode}catch(e){}}else if(u==t.visitorCode)n=!0}}if(n||e){i=!0;if(n)t.totalVisits=0}t.visits=[];if(!n&&o){o.forEach((function(e){t.addVisit(new Visit(e))}));t.totalVisits=a.totalVisits;t.timeStartedEldestVisit=a.timeStartedEldestVisit}var d=!1;if(i||!t.currentVisit||t.currentVisit.isVisitFinished()){var m=Kameleoon.Internals.runtime.storedData.obtainField("Gatherer","startsOfVisitForCurrentPage");Kameleoon.Internals.runtime.storedData.saveField("Gatherer","startsOfVisitForCurrentPage",m+1);Kameleoon.Internals.runtime.Gatherer.startOfVisit=r=!0;Kameleoon.Internals.runtime.storedData.resetForStartOfVisit();Kameleoon.Internals.runtime.storedData.saveField("Runtime","landingPageTitle",document.title);Kameleoon.Internals.runtime.storedData.saveField("Runtime","firstReferrerHref",Kameleoon.Gatherer.Referrer.obtainCorrected(!0)||null);Kameleoon.Internals.runtime.storedData.saveField("Runtime","firstReferrers",Kameleoon.Gatherer.Referrer.obtainIndexes(!0)||[null]);Kameleoon.Internals.runtime.storedData.saveField("Runtime","landingPages",Kameleoon.Gatherer.KeyPage.obtainIndexes()||[null]);var v=void 0;if(!t.currentVisit||n)v=0;else v=t.currentVisit.index+1;t.addVisit(new Visit({visitorCode:t.visitorCode,startDate:(new Date).getTime(),index:v,landingPageURL:Kameleoon.Utils.computeCurrentPageCleanAbsoluteURL(),Device:{browser:Kameleoon.Gatherer.Browser.obtainIndex(),browserName:Kameleoon.Gatherer.Browser.obtain(),browserVersion:Kameleoon.Internals.runtime.Device.browserVersion,os:Kameleoon.Gatherer.OperatingSystem.obtainIndex(),osName:Kameleoon.Gatherer.OperatingSystem.obtain(),screenHeight:Kameleoon.Internals.runtime.Device.screenHeight,screenWidth:Kameleoon.Internals.runtime.Device.screenWidth,timeZone:Kameleoon.Gatherer.TimeZone.obtainId(),type:Kameleoon.Internals.runtime.Device.type,windowHeight:Kameleoon.Internals.runtime.Device.windowHeight,windowWidth:Kameleoon.Internals.runtime.Device.windowWidth},locale:Kameleoon.Gatherer.Language.obtainLocaleTag()}));d=!0}t.saveToStoredData();Kameleoon.Internals.runtime.storedData.save(d)};this.updateAndTrackInfluences=function(){if(Kameleoon.Internals.runtime.Gatherer.startOfVisit&&t.visits.length>1){var e={experiments:{},personalizations:{}};t.visits.forEach((function(t){if(t.experimentInfluences)for(var i in t.experimentInfluences)e.experiments[i]=t.experimentInfluences[i];if(t.personalizationInfluences)for(var i in t.personalizationInfluences)e.personalizations[i]=t.personalizationInfluences[i]}));var i=function(e){for(var i in e){if("string"==typeof e[i][0])e[i][0]=parseInt(e[i][0]);e[i][1]-=t.currentVisit.startDate-t.visits.slice(-2)[0].startDate;if(e[i][1]<0||"-1"==i||null==e[i][0]||"null"==e[i][0])delete e[i]}return e};t.currentVisit.experimentInfluences=i(e.experiments);t.currentVisit.personalizationInfluences=i(e.personalizations)}};this.obtainProductData=function(e,t,i,n){};this.visits=[];this.currentVisit=null;this.totalVisits=0;this.updateFromStoredData(!1)}e.prototype.saveFieldToStoredData=function(e,t){Kameleoon.Internals.runtime.storedData.Visitor[e]=t};e.VISITOR_CODE_LENGTH=16;e.INFLUENCE_DELAY=1e3*60*60*24*7;return e}();try{window.Kameleoon=new KameleoonEngine}catch(o){console.log(o)}
Kameleoon.Internals = {"configuration":{"API_HOST_NAME":"api","APP_HOST_NAME":"app","BACK_OFFICE_HOST_NAME":"old","BASE_EDITOR_URL":"//static.kameleoon.com/js/editor/","EDITOR_HOST_NAME":"editor","DOMAIN":"kameleoon.com","WIDE_DOMAIN":"kameleoon.eu","GUI_ESTIMATED_LOADING_TIME":3000,"IMAGE_PATH":"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/","PROXY_HOST_NAME":"proxy","QOOXDOO_ESTIMATED_LOADING_TIME":2000,"SERVER_CALL_ESTIMATED_LOADING_TIME":500,"STATIC_DIRECT_HOST_NAME":"static-direct","STATIC_HOST_NAME":"static","VISITOR_DOMAIN":"kameleoon.eu","environment":"PRODUCTION","staticURL":"//static.kameleoon.eu/","maxNumberLocalVisits":25,"memberCode":"0","siteCode":"arpfxvgcm0","abtestConsent":"REQUIRED","abtestConsentOptout":"RUN","beforeAbtestConsent":"PARTIALLY","beforePersonalizationConsent":"PARTIALLY","personalizationConsent":"REQUIRED","personalizationConsentOptout":"RUN","personalizationsDeviation":1,"experiments":[{"id":112393,"name":"Masquer ancien bandeau cookie METASITE","baseURL":"https://www.ibps.rivesparis.banquepopulaire.fr/portailinternet/Catalogue/Segments/Pages/banque-des-particuliers.aspx","experimentAction":true,"executeCodeForReference":true,"technical":true,"forcedTechnical":false,"dateModified":1613467366000,"dateStatusModified":1610553486000,"goals":[],"deviation":{"0":0,"437915":1},"variations":[{"name":"Reference","id":0,"deviation":0,"respoolTime":null},{"name":"Masquer ancien bandeau","id":437915,"deviation":1,"respoolTime":null}],"targetingSegmentId":143662,"attributionWindow":0,"kameleoonTracking":{"mainGoalId":177992}},{"id":113480,"name":"Masquer bandeau Cookie BP Reskin Metasite","baseURL":"https://www.ibps.rivesparis.banquepopulaire.fr/portailinternet/Catalogue/Segments/Pages/banque-des-particuliers.aspx","experimentAction":true,"executeCodeForReference":true,"technical":true,"forcedTechnical":false,"dateModified":1599573667000,"dateStatusModified":1599573673000,"goals":[],"deviation":{"0":0,"448899":1},"variations":[{"name":"Reference","id":0,"deviation":0,"respoolTime":null},{"name":"Variation 1","id":448899,"deviation":1,"respoolTime":null}],"targetingSegmentId":143751,"attributionWindow":0,"kameleoonTracking":{"mainGoalId":177992}},{"id":127970,"name":"89c3 - DPW - BP Retour ancien espace Metasite","baseURL":"https://www.ibps.rivesparis.banquepopulaire.fr/portailinternet/Catalogue/Segments/Pages/banque-des-particuliers.aspx","experimentAction":true,"executeCodeForReference":true,"technical":true,"forcedTechnical":false,"dateModified":1637080455000,"dateStatusModified":1617179079000,"goals":[],"deviation":{"0":0,"551010":1},"variations":[{"name":"Reference","id":0,"deviation":0,"respoolTime":null},{"name":"Clic revenir ancien espace","id":551010,"deviation":1,"respoolTime":null}],"targetingSegmentId":152001,"attributionWindow":0,"kameleoonTracking":{"mainGoalId":177992}},{"id":132477,"name":"89c3 BP Interstitiel alerte IE Metasite","baseURL":"https://www.ibps.rivesparis.banquepopulaire.fr/portailinternet/Catalogue/Segments/Pages/banque-des-particuliers.aspx","experimentAction":true,"executeCodeForReference":true,"technical":true,"forcedTechnical":false,"dateModified":1639674277000,"dateStatusModified":1623137104000,"goals":[],"deviation":{"0":0,"583899":1},"variations":[{"name":"Reference","id":0,"deviation":0,"respoolTime":null},{"name":"Interstitiel IE","id":583899,"deviation":1,"respoolTime":null}],"targetingSegmentId":156588,"attributionWindow":0,"kameleoonTracking":{"mainGoalId":177992}},{"id":178725,"name":"BPCE - Cookie consent - AB test n3 nov 2022 BP","baseURL":"https://www.ibps.rivesparis.banquepopulaire.fr/portailinternet/Catalogue/Segments/Pages/banque-des-particuliers.aspx","experimentAction":true,"executeCodeForReference":true,"technical":true,"forcedTechnical":false,"dateModified":1669734887000,"dateStatusModified":1669734887000,"goals":[],"deviation":{"0":0,"800846":0.8,"800847":0.1,"800848":0.1},"variations":[{"name":"Reference","id":0,"deviation":0,"respoolTime":null},{"name":"Reference","id":800846,"deviation":0.8,"respoolTime":null},{"name":"VARIANTE EE","id":800847,"deviation":0.1,"respoolTime":null},{"name":"VARIANTE FF","id":800848,"deviation":0.1,"respoolTime":null}],"targetingSegmentId":202461,"attributionWindow":604800000,"kameleoonTracking":{"mainGoalId":177992}}],"personalizations":[{"dateCreated":1589531164000,"dateModified":1589531164000,"dateStatusModified":1589531164000,"id":32328,"forcedTechnical":false,"goals":[],"name":"Push Edito Demo Selfcare","targetingSegmentId":143509,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590362,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1592904299000,"dateModified":1633601226000,"dateStatusModified":1599465859000,"id":33165,"forcedTechnical":false,"goals":[],"name":"202006_ENT_CYBER_SELFCARE","targetingSegmentId":130886,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":667788,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1599219636000,"dateModified":1599219636000,"dateStatusModified":1612260047000,"id":35210,"forcedTechnical":false,"goals":[],"name":"2009_PART_CYBER_PERI","targetingSegmentId":143726,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590334,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1599549701000,"dateModified":1599549701000,"dateStatusModified":1612262892000,"id":35297,"forcedTechnical":false,"goals":[],"name":"2009_PART_CYBER_CONSULTATION_CODESECRET","targetingSegmentId":148011,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590329,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1599551729000,"dateModified":1599551729000,"dateStatusModified":1612262860000,"id":35302,"forcedTechnical":false,"goals":[],"name":"2009_PART_DPW_CONSULTATION_CODESECRET","targetingSegmentId":145067,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590323,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1606986556000,"dateModified":1606986556000,"dateStatusModified":1607416166000,"id":38552,"forcedTechnical":false,"goals":[],"name":"2012_PART_DPW_ENROL_APP_SECURPASS_2012","targetingSegmentId":143181,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590365,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1606987823000,"dateModified":1606987823000,"dateStatusModified":1612342489000,"id":38593,"forcedTechnical":false,"goals":[],"name":"2012_PART_CYBER_ENROLEMENT_SECURPASS_2012","targetingSegmentId":144628,"mainGoalId":177992,"configuration":"TEMPLATE","technical":true,"associatedVariation":{"id":590345,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1608026779000,"dateModified":1656418684000,"dateStatusModified":1642608580000,"id":38953,"forcedTechnical":false,"goals":[],"name":"2012_PART_CYBER_POTENTIEL_CONSO_P","targetingSegmentId":144685,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":672512,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1608026953000,"dateModified":1670835099000,"dateStatusModified":1670835099000,"id":38973,"forcedTechnical":false,"goals":[],"name":"2012_PART_DPW_POTENTIEL_CONSO_P","targetingSegmentId":144685,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":672513,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":null,"dateEnd":1670194799000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1609858324000,"dateModified":1609858324000,"dateStatusModified":1611128727000,"id":39665,"forcedTechnical":false,"goals":[],"name":"2101_GP_DPW_PERI_P","targetingSegmentId":146124,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590366,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1610355823000,"dateModified":1610355823000,"dateStatusModified":1611129072000,"id":39800,"forcedTechnical":false,"goals":[],"name":"2101_PRO_CYBER_FIDELISATIONPRO_P_2104","targetingSegmentId":146342,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590352,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1610723314000,"dateModified":1610723314000,"dateStatusModified":1611310547000,"id":40094,"forcedTechnical":false,"goals":[],"name":"2101_PART_CYBER_CREDITRENOUVELABLEVIREMENT_P","targetingSegmentId":146910,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590353,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1612260089000,"dateModified":1612260089000,"dateStatusModified":1612260132000,"id":40600,"forcedTechnical":false,"goals":[],"name":"PROS_PERI_retraite_102020-Duplicate","targetingSegmentId":137390,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590332,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1612540291000,"dateModified":1612540291000,"dateStatusModified":1613488713000,"id":41037,"forcedTechnical":false,"goals":[],"name":"2102_ENT_CYBER_PAYPLUG_P_2104","targetingSegmentId":148561,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590356,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1612886996000,"dateModified":1651737268000,"dateStatusModified":1613488557000,"id":41216,"forcedTechnical":false,"goals":[],"name":"2101_PART_LAMECYBER_secur_pass_obligatoire_G","targetingSegmentId":145465,"mainGoalId":177992,"configuration":"TEMPLATE","technical":true,"associatedVariation":{"id":590348,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1612887404000,"dateModified":1612887404000,"dateStatusModified":1613488496000,"id":41245,"forcedTechnical":false,"goals":[],"name":"2101_PART_LAMECYBER_toujours_cotes_G","targetingSegmentId":145465,"mainGoalId":177992,"configuration":"TEMPLATE","technical":true,"associatedVariation":{"id":590343,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613121444000,"dateModified":1613121444000,"dateStatusModified":1613121596000,"id":41453,"forcedTechnical":false,"goals":[],"name":"PART_LAME_info_phishing2021","targetingSegmentId":145647,"mainGoalId":177992,"configuration":"TEMPLATE","technical":true,"associatedVariation":{"id":590346,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613489509000,"dateModified":1613489509000,"dateStatusModified":1613984044000,"id":41615,"forcedTechnical":false,"goals":[],"name":"210216_PART_LAMECYBER_BAD_G","targetingSegmentId":145465,"mainGoalId":177992,"configuration":"TEMPLATE","technical":true,"associatedVariation":{"id":590344,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613490559000,"dateModified":1613490559000,"dateStatusModified":1613984013000,"id":41631,"forcedTechnical":false,"goals":[],"name":"210216_PART_DPW_PUSH_BAD_G","targetingSegmentId":145465,"mainGoalId":177992,"configuration":"TEMPLATE","technical":true,"associatedVariation":{"id":590328,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613661244000,"dateModified":1655735774000,"dateStatusModified":1613983872000,"id":41854,"forcedTechnical":false,"goals":[],"name":"2102_PART_CYBER_SMARTRETRAIT_P","targetingSegmentId":149429,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590359,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613661439000,"dateModified":1613661439000,"dateStatusModified":1613983788000,"id":41861,"forcedTechnical":false,"goals":[],"name":"2102_PART_DPW_CODESECRETCB_P","targetingSegmentId":149444,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590361,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613667476000,"dateModified":1613667476000,"dateStatusModified":1613983858000,"id":41885,"forcedTechnical":false,"goals":[],"name":"2102_PART_CYBER_CODESECRETCB_P","targetingSegmentId":149444,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590349,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613667763000,"dateModified":1613667763000,"dateStatusModified":1613983705000,"id":41894,"forcedTechnical":false,"goals":[],"name":"2102_PART_DPW_VEROUILLERTEMPOCB_P","targetingSegmentId":149473,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590360,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613723012000,"dateModified":1637741554000,"dateStatusModified":1613862019000,"id":41904,"forcedTechnical":false,"goals":[],"name":"PART_LAME_SIMU_AUTO","targetingSegmentId":149486,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":701254,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1613862000000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1613723189000,"dateModified":1634891035000,"dateStatusModified":1613862019000,"id":41905,"forcedTechnical":false,"goals":[],"name":"PART_LAME_SIMU_HAB","targetingSegmentId":149487,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":680573,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1613862000000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1614330380000,"dateModified":1614330380000,"dateStatusModified":1614330470000,"id":42284,"forcedTechnical":false,"goals":[],"name":"PL_LAME_FINANC_PRIVI_2021","targetingSegmentId":145731,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590341,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1616413927000,"dateModified":1666258106000,"dateStatusModified":1616414085000,"id":43252,"forcedTechnical":false,"goals":[],"name":"PDN_DSP042021","targetingSegmentId":145477,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":546721,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1618555142000,"dateModified":1618555142000,"dateStatusModified":1620824646000,"id":44136,"forcedTechnical":false,"goals":[],"name":"2104_PRO_CYBER_CLICK&COLLECT2_P_2106","targetingSegmentId":153373,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590375,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1620407753000,"dateModified":1620407753000,"dateStatusModified":1620408152000,"id":45068,"forcedTechnical":false,"goals":[],"name":"test_OPA_Natixis-Duplicate","targetingSegmentId":154916,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":590369,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1625134829000,"dateModified":1658826938000,"dateStatusModified":1658826937000,"id":49023,"forcedTechnical":false,"goals":[],"name":"2106_PART_CYBER_MATERNAGE_NER_J+7_P","targetingSegmentId":159632,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":607643,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1625134895000,"dateModified":1658827052000,"dateStatusModified":1658827051000,"id":49033,"forcedTechnical":false,"goals":[],"name":"2106_PART_CYBER_MATERNAGE_NER_J+15_P","targetingSegmentId":159642,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":607655,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1625135372000,"dateModified":1658827162000,"dateStatusModified":1658827161000,"id":49043,"forcedTechnical":false,"goals":[],"name":"2106_PART_CYBER_MATERNAGE_NER_J+30_FP_P","targetingSegmentId":159653,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":607671,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1625143067000,"dateModified":1658827329000,"dateStatusModified":1658827328000,"id":49073,"forcedTechnical":false,"goals":[],"name":"2106_PART_CYBER_MATERNAGE_NER_J+30_AUTRES_P","targetingSegmentId":159687,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":607760,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1625143223000,"dateModified":1658827428000,"dateStatusModified":1658827427000,"id":49084,"forcedTechnical":false,"goals":[],"name":"2106_PART_CYBER_MATERNAGE_NER_J+45_P","targetingSegmentId":159697,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":612160,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1625143342000,"dateModified":1658827492000,"dateStatusModified":1658827492000,"id":49102,"forcedTechnical":false,"goals":[],"name":"2106_PART_CYBER_MATERNAGE_NER_M+2_P","targetingSegmentId":159715,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":607800,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1625143444000,"dateModified":1658827538000,"dateStatusModified":1658827537000,"id":49114,"forcedTechnical":false,"goals":[],"name":"2106_PART_CYBER_MATERNAGE_NER_M+3_ACTIFS_P","targetingSegmentId":159727,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":607814,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1625143613000,"dateModified":1658827592000,"dateStatusModified":1658827591000,"id":49123,"forcedTechnical":false,"goals":[],"name":"2106_PART_CYBER_MATERNAGE_NER_M+3_INACTIFS_P","targetingSegmentId":159736,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":612163,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1631550875000,"dateModified":1631550949000,"dateStatusModified":1631550949000,"id":53349,"forcedTechnical":false,"goals":[],"name":"89c3 - Test potentiel conso - BPRI","targetingSegmentId":143815,"mainGoalId":null,"configuration":"TEMPLATE","associatedVariation":{"id":648405,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1633084695000,"dateModified":1666599949000,"dateStatusModified":1633084739000,"id":54867,"forcedTechnical":false,"goals":[],"name":"PUSH_VERYPOP","targetingSegmentId":145465,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":663723,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1633338430000,"dateModified":1633338490000,"dateStatusModified":1633338489000,"id":54926,"forcedTechnical":false,"goals":[],"name":"Copie 2104_PRO_CYBER_APPLI_MOBILE_P","targetingSegmentId":153337,"mainGoalId":177992,"configuration":"TEMPLATE","technical":true,"associatedVariation":{"id":664421,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1633423394000,"dateModified":1670835109000,"dateStatusModified":1670835109000,"id":55061,"forcedTechnical":false,"goals":[],"name":"2012_PART_APP_POTENTIEL_CONSO_P","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":679808,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":null,"dateEnd":1670194799000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1633702176000,"dateModified":1633702181000,"dateStatusModified":1633702176000,"id":55752,"forcedTechnical":false,"goals":[],"name":"[Support Kameleoon] Fix Intersitiel BP IE 11","targetingSegmentId":167084,"mainGoalId":177992,"configuration":"CUSTOM","associatedVariation":{"id":669487,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1634731135000,"dateModified":1643202934000,"dateStatusModified":1635849921000,"id":57336,"forcedTechnical":false,"goals":[],"name":"2110_PART_CYBER_FRAUDE_PROTECTION_G_2110","targetingSegmentId":145465,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":686381,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1634732392000,"dateModified":1643203311000,"dateStatusModified":1643203311000,"id":57357,"forcedTechnical":false,"goals":[],"name":"2110_PART_DPW_FRAUDE_PROTECTION_NA_G_2110","targetingSegmentId":145465,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":678767,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1635501842000,"dateModified":1637230489000,"dateStatusModified":1637230485000,"id":58312,"forcedTechnical":false,"goals":[],"name":"2111_PRO_CYBER_FLASHFACTURE_G_2112","targetingSegmentId":145707,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":696776,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1635953833000,"dateModified":1647817263000,"dateStatusModified":1647817246000,"id":58542,"forcedTechnical":false,"goals":[],"name":"2111_PART_CYBER_SELFCARE_AUTO_P","targetingSegmentId":169320,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":687689,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1647817200000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1636368541000,"dateModified":1637230478000,"dateStatusModified":1637230471000,"id":58948,"forcedTechnical":false,"goals":[],"name":"2111_PRO_CYBER_APPLI_PRO_S_2111","targetingSegmentId":145707,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":696774,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1639729378000,"dateModified":1639729384000,"dateStatusModified":1639729379000,"id":62484,"forcedTechnical":false,"goals":[],"name":"[Support Kameleoon] Fix Page Comptes Reskin Cyber","targetingSegmentId":172833,"mainGoalId":177992,"configuration":"CUSTOM","associatedVariation":{"id":712308,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1641551585000,"dateModified":1641559102000,"dateStatusModified":1641559101000,"id":63685,"forcedTechnical":false,"goals":[],"name":" 2201_PRO_CYBER_SECUR_PASS_G_2201","targetingSegmentId":145707,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":715238,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1643623489000,"dateModified":1645006052000,"dateStatusModified":1643707511000,"id":66319,"forcedTechnical":false,"goals":[],"name":"2201_PRO_CYBER_ACTU_DIGITALE_G_2202","targetingSegmentId":145707,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":720926,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1643985592000,"dateModified":1647624396000,"dateStatusModified":1644188425000,"id":66988,"forcedTechnical":false,"goals":[],"name":"2202_APP_PART_ASSUR_FUTUR_PROPRIETAIRE","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":722669,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1644188400000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1643985816000,"dateModified":1658396616000,"dateStatusModified":1644188425000,"id":66990,"forcedTechnical":false,"goals":[],"name":" 2202_DPW_PART_ASSUR_FUTUR_PROPRIETAIRE","targetingSegmentId":176850,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":722671,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1644188400000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1645002175000,"dateModified":1645622399000,"dateStatusModified":1645002175000,"id":68248,"forcedTechnical":false,"goals":[],"name":"89C3 - Perso Cyber bannières DPW Metasite","targetingSegmentId":151992,"mainGoalId":177992,"configuration":"CUSTOM","associatedVariation":{"id":726387,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":0,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1645627009000,"dateModified":1667819253000,"dateStatusModified":1667819252000,"id":68865,"forcedTechnical":false,"goals":[],"name":"2202_PART_APP_EQPT_AUTO_SIMU_CREDIT_P","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":728151,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1646834522000,"dateModified":1646834646000,"dateStatusModified":1646834645000,"id":70871,"forcedTechnical":false,"goals":[],"name":"[support Kameleoon] Page de news DPW - recette en prod","targetingSegmentId":179488,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":732007,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1647248937000,"dateModified":1647257182000,"dateStatusModified":1647249374000,"id":71203,"forcedTechnical":false,"goals":[],"name":"[Support Kam] Test Lame BP DPW-Cyber V5","targetingSegmentId":179818,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":733103,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1648028817000,"dateModified":1648543951000,"dateStatusModified":1648543951000,"id":72672,"forcedTechnical":false,"goals":[],"name":"2203_PART_APP_SELFCARE_ALERTE_P","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":736300,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1649089566000,"dateModified":1671636650000,"dateStatusModified":1655295757000,"id":74054,"forcedTechnical":false,"goals":[],"name":"BPCE - BP Popin Navigation ancien espace","targetingSegmentId":181906,"mainGoalId":177992,"configuration":"CUSTOM","associatedVariation":{"id":739560,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisit":1,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1649247474000,"dateModified":1652107266000,"dateStatusModified":1652107265000,"id":74376,"forcedTechnical":false,"goals":[],"name":"2204_PROENT_CYBER_LA_ENERGIES_RENOUVELABLES_P","targetingSegmentId":182189,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":740234,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1652133600000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1649937211000,"dateModified":1650405609000,"dateStatusModified":1650405607000,"id":76078,"forcedTechnical":false,"goals":[],"name":"2204_PART_CYBER_LA_PRET_TRAVAUX_TRANSITION_ECO_TRAVAUX_P","targetingSegmentId":183031,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":743194,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1650405600000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1649937270000,"dateModified":1650405609000,"dateStatusModified":1650405607000,"id":76094,"forcedTechnical":false,"goals":[],"name":"2204_PART_APP_NA_PRET_TRAVAUX_TRANSITION_ECO_TRAVAUX_P ","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":743210,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1650405600000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1649937330000,"dateModified":1650405609000,"dateStatusModified":1650405606000,"id":76119,"forcedTechnical":false,"goals":[],"name":"2204_PART_DPW_NA_PRET_TRAVAUX_TRANSITION_ECO_TRAVAUX_P ","targetingSegmentId":183031,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":743238,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1650405600000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1650371976000,"dateModified":1670577517000,"dateStatusModified":1671145223000,"id":76787,"forcedTechnical":false,"goals":[],"name":"2103_PART_APP_VIREMENTPAYLIBAMIS_P","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":744264,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1659304800000,"dateEnd":1659909599000,"scheduleItemOptions":[]},{"dateStart":1671145200000,"dateEnd":1672527599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1652861746000,"dateModified":1652864002000,"dateStatusModified":1652861746000,"id":80705,"forcedTechnical":false,"goals":[],"name":"[Support Kam] Push edito_BP_connecté","targetingSegmentId":186378,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":752004,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1652862665000,"dateModified":1652863968000,"dateStatusModified":1652862666000,"id":80744,"forcedTechnical":false,"goals":[],"name":"[Support Kam] native_ad_BP_connecté","targetingSegmentId":186378,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":752047,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1652864366000,"dateModified":1652864375000,"dateStatusModified":1652864367000,"id":80842,"forcedTechnical":false,"goals":[],"name":"[support kameleoon] BP DPW LAME 'souscrire' correction marge","targetingSegmentId":186447,"mainGoalId":177992,"configuration":"CUSTOM","associatedVariation":{"id":752155,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1657544100000,"dateModified":1657628569000,"dateStatusModified":1657628569000,"id":86755,"forcedTechnical":false,"goals":[],"name":"BPCE - Ajout bénéficiaire Bloc Secur'Pass BP","targetingSegmentId":191604,"mainGoalId":177992,"configuration":"CUSTOM","technical":true,"associatedVariation":{"id":767136,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1657697120000,"dateModified":1667394592000,"dateStatusModified":1667775648000,"id":86897,"forcedTechnical":false,"goals":[],"name":"2207_NAT_PRO_CYBER_LA_PREVOYANCE_PROPLUS_CIBLE1_P","targetingSegmentId":191775,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":767550,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1667775600000,"dateEnd":null,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1663231039000,"dateModified":1663256400000,"dateStatusModified":1663248697000,"id":91371,"forcedTechnical":false,"goals":[],"name":"BPCE - Ajout bénéficiaire bloc Secur'Pass Cyber","targetingSegmentId":196590,"mainGoalId":177992,"configuration":"CUSTOM","technical":true,"associatedVariation":{"id":781071,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1664197785000,"dateModified":1669110477000,"dateStatusModified":1664197955000,"id":92662,"forcedTechnical":false,"goals":[],"name":"test Nicolas BPRI","targetingSegmentId":197682,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":784345,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1664198508000,"dateModified":1669110477000,"dateStatusModified":1664198688000,"id":92663,"forcedTechnical":false,"goals":[],"name":"test push edito NIcolas","targetingSegmentId":197682,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":784356,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1664264396000,"dateModified":1667991243000,"dateStatusModified":1668380444000,"id":92682,"forcedTechnical":false,"goals":[],"name":"2209_NAT_PART_APP_NA_ASSURANCE_PRECAUTION_P","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":784465,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1668380400000,"dateEnd":1672527599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1665576307000,"dateModified":1665576610000,"dateStatusModified":1665576609000,"id":94559,"forcedTechnical":false,"goals":[],"name":"PRO_CYBER_MONDAL_AUTO_22","targetingSegmentId":145477,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":788356,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":null,"dateEnd":1672441199000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1665576660000,"dateModified":1665576725000,"dateStatusModified":1665576725000,"id":94560,"forcedTechnical":false,"goals":[],"name":"ENT_CYBER_MONDIL_AUTO_22","targetingSegmentId":145501,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":788357,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":null,"dateEnd":1672441199000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1665676478000,"dateModified":1670315998000,"dateStatusModified":1670317221000,"id":94808,"forcedTechnical":false,"goals":[],"name":"2210_NAT_PART_APP_NA_CREDIT_CONSO_FACELIA_KIT_PERENNE_P","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":789034,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1670317200000,"dateEnd":1672527599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1665676559000,"dateModified":1670316018000,"dateStatusModified":1670317221000,"id":94826,"forcedTechnical":false,"goals":[],"name":"2210_NAT_PART_DPW_NA_CREDIT_CONSO_FACELIA_KIT_PERENNE_P","targetingSegmentId":199235,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":789052,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1670317200000,"dateEnd":1672527599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1665676604000,"dateModified":1670316058000,"dateStatusModified":1670317221000,"id":94833,"forcedTechnical":false,"goals":[],"name":"2210_NAT_PART_DPW_LA_CREDIT_CONSO_FACELIA_KIT_PERENNE_P","targetingSegmentId":199235,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":789059,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1670317200000,"dateEnd":1672527599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1667551690000,"dateModified":1667572089000,"dateStatusModified":1667551939000,"id":96692,"forcedTechnical":false,"goals":[],"name":"[Support Kameleoon] APP TEST - COMPTE - 987 - IMMO","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":795909,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1667551750000,"dateModified":1667572078000,"dateStatusModified":1667553340000,"id":96693,"forcedTechnical":false,"goals":[],"name":"[Support Kameleoon] APP TEST - EPARGNE","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":795910,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1667552077000,"dateModified":1667572083000,"dateStatusModified":1667552421000,"id":96695,"forcedTechnical":false,"goals":[],"name":"[Support Kameleoon] APP TEST - financier-redit -credit revol","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":795912,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1667903424000,"dateModified":1667983263000,"dateStatusModified":1667903425000,"id":96937,"forcedTechnical":false,"goals":[],"name":"BPCE - Mise en lumiere FAQ DPW BP","targetingSegmentId":201177,"mainGoalId":177992,"configuration":"CUSTOM","technical":true,"associatedVariation":{"id":796692,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1668424531000,"dateModified":1669974968000,"dateStatusModified":1669903221000,"id":97494,"forcedTechnical":false,"goals":[],"name":"2211_NAT_PRO_ENT_CYBER_PDN_HARMONISATION_GAMMES_CYBER_P","targetingSegmentId":201686,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":798371,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1669903200000,"dateEnd":1675205999000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1669110354000,"dateModified":1669110612000,"dateStatusModified":1669110610000,"id":98185,"forcedTechnical":false,"goals":[],"name":"test Nicolas DPW","targetingSegmentId":197682,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":800919,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1669626500000,"dateModified":1670836921000,"dateStatusModified":1670839220000,"id":99640,"forcedTechnical":false,"goals":[],"name":"2212_PART_NA_LIVRET_A_TAUX","targetingSegmentId":204296,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":803961,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1670839200000,"dateEnd":1674255599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1669626500000,"dateModified":1670837034000,"dateStatusModified":1670839219000,"id":99641,"forcedTechnical":false,"goals":[],"name":"2212_PART_APP_LIVRET_A_TAUX","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":803963,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1670839200000,"dateEnd":1674255599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1669626500000,"dateModified":1670836930000,"dateStatusModified":1670839220000,"id":99642,"forcedTechnical":false,"goals":[],"name":"2212_PART_APP_CODEVAIR_TAUX","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":803965,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1670839200000,"dateEnd":1674255599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1669626500000,"dateModified":1670836933000,"dateStatusModified":1670839220000,"id":99643,"forcedTechnical":false,"goals":[],"name":"2212_PART_NA_CODEVAIR_TAUX","targetingSegmentId":204298,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":803966,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1670839200000,"dateEnd":1674255599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1670337147000,"dateModified":1670337155000,"dateStatusModified":1670337148000,"id":100660,"forcedTechnical":false,"goals":[],"name":"BPCE - RAVE Document à transmettre metasite","targetingSegmentId":204358,"mainGoalId":177992,"configuration":"CUSTOM","technical":true,"associatedVariation":{"id":806357,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[],"targetingSegment":null,"attributionWindow":604800000,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1671107675000,"dateModified":1671793832000,"dateStatusModified":1671404450000,"id":101680,"forcedTechnical":false,"goals":[],"name":"2212_PART_APP_PRET_NOEL_CREDIT_CONSO","targetingSegmentId":151512,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":809076,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1671404400000,"dateEnd":1672527599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}},{"dateCreated":1671107979000,"dateModified":1671793793000,"dateStatusModified":1671404451000,"id":101682,"forcedTechnical":false,"goals":[],"name":"2212_PART_DPW_PRET_NOEL_CREDIT_CONSO","targetingSegmentId":205324,"mainGoalId":177992,"configuration":"TEMPLATE","associatedVariation":{"id":809079,"name":"Variation 1"},"priority":1,"customExpositionRate":1,"personalizationCheckConditionsRule":"ALL_CONDITIONS","scheduleItem":[{"dateStart":1671404400000,"dateEnd":1672527599000,"scheduleItemOptions":[]}],"targetingSegment":null,"attributionWindow":0,"autopromo":true,"expositionFrequencySameVisitorDelaySeconds":21600,"kameleoonTracking":{"mainGoalId":null}}],"targetingSegments":[{"id":130886,"name":"BP_Entreprises [33008]","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":13,"operator":"CONTAINS","include":true,"value":"entreprise"}}},{"id":137390,"name":"PROS_PERI_retraite_102020","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PROS_PERI_retraite_102020"}}},{"id":143181,"name":"PART_ENR_APPLI_SECURPASS_CRM_2012-DPW","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_ENR_APPLI_SECURPASS_CRM_2012"}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)espace-client(.*)","include":true}}}},{"id":143509,"name":"DPW - BP","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)espace-client(.*)","include":true}}},{"id":143662,"name":"Masquer ancien bandeau cookie metasite-1","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)cmgo\\.creditmaritime(.*)","include":false}}},{"id":143726,"name":"PART_PERI_CRM_2009","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PartPonctPERI15120"}}},{"id":143751,"name":"Masquer bandeau Cookie BP Reskin Metasite-1","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"PopinCookieBP","value":null,"nameOperator":"EXACT","valueOperator":"OPTIONAL","include":true}}},{"id":143815,"name":"DPW Mobile","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)banquepopulaire\\.fr/espace-client/(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"PHONE","include":true}}}},{"id":144628,"name":"PART_ENR_SECURPASS_CRM_2012","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_ENR_SECURPASS_CRM_2012"}}},{"id":144685,"name":"PART_PILOTE_POTENTIELCONSO_CRM_2012","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_PILOTE_POTENTIELCONSO_CRM_2012"}}},{"id":145067,"name":"PART_CONSULTATION_CODESECRET_2009","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PartPonctCodeSecretCB17620"}}},{"id":145465,"name":"PART_XP2020","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":27,"operator":"REGULAR_EXPRESSION","include":true,"value":"^10$|^20$|^30$|^40$|^50$|^60$|^70$"}}},{"id":145477,"name":"PRO_XP2020","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":28,"operator":"REGULAR_EXPRESSION","include":true,"value":"^10$|^11$|^12$|^13$|^14$|^15$"}}},{"id":145501,"name":"ENT_XP2020","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":28,"operator":"REGULAR_EXPRESSION","include":true,"value":"^20$|^30$|^31$|^40$|^50$|^60$|^61$|^70$|^80$|^81$|^82$|^83$|^84$|^85$|^86$|^90$"}}},{"id":145647,"name":"PART_CICE","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":11,"operator":"CONTAINS","include":true,"value":"particuliers"}}},{"id":145707,"name":"PRO_CICE","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":11,"operator":"CONTAINS","include":true,"value":"professionnels"}}},{"id":145731,"name":"PRO_PL_CICE","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":45,"operator":"REGULAR_EXPRESSION","include":true,"value":"^13$|^14$|^15$|^16$"}}},{"id":146124,"name":"GP_PERI_CRM_2101_DPW","tree":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"GP_PERI_CRM_2101"}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)espace-client(.*)","include":true}}}},{"id":146342,"name":"PRO_FIDPRO_CRM_2101","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PRO_FIDPRO_CRM_2101"}}},{"id":146910,"name":"PART_Créditvirement_CRM_2011","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_Créditvirement_CRM_2011"}}},{"id":148011,"name":"Part_PonctCodeSecretCB_CRM","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PartPonctCodeSecretCB17620"}}},{"id":148561,"name":"ENT_PAYPLUG_CRM_2101","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"ENT_PAYPLUG_CRM_2101"}}},{"id":149429,"name":"PART_SMARTRETRAIT_CRM_2102","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_SMARTRETRAIT_CRM_2102"}}},{"id":149444,"name":"PART_CODESECRET_CRM_2102","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"DPN-APP","value":"true","nameOperator":"EXACT","valueOperator":"CONTAINS","include":true}}},{"id":149473,"name":"PART_VERROUILLERCB_CRM_2102","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_VERROUILLERCB_CRM_2102"}}},{"id":149486,"name":"PART_LAME_SIMU_AUTO","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_LAME_SIMU_AUTO"}}},{"id":149487,"name":"PART_LAME_SIMU_HAB","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_LAME_SIMU_HAB"}}},{"id":151512,"name":"DPN - APP","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"DPN-APP","value":"true","nameOperator":"EXACT","valueOperator":"EXACT","include":true}}},{"id":151992,"name":"89C3 - Cyber bannières DPW Metasite-1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"let dl = window.datalayer;\nlet regexapplicationName = /cyber/i;\nif (typeof dl !== \"undefined\" && typeof window.dpwLegacyScriptData !== \"undefined\" && typeof window.dpwLegacyScriptData.eligibilitedp !== \"undefined\" && dl.pages && dl.pages.applicationName  && window.dpwLegacyScriptData.eligibilitedp == true) {\nif (regexapplicationName.test(dl.pages.applicationName)) {return true;\n} else return false;\n} else return undefined; /* not needed but more readable */","include":true,"domReady":true}}}},{"id":152001,"name":"89c3 - DPW - BP Retour ancien espace Metasite-1","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)banquepopulaire\\.fr/espace-client(.*)","include":true}}},{"id":153337,"name":"PRO_APPLIMOBILE_CRM_2104","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PRO_APPLIMOBILE_CRM_2104"}}},{"id":153373,"name":"PRO_CLICK_COLLECT_CRM_2104","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PRO_CLICK_COLLECT_CRM_2104"}}},{"id":154916,"name":"test_natixis","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"TestNatixisOPA","value":"true","nameOperator":"CONTAINS","valueOperator":"CONTAINS","include":true}}},{"id":156588,"name":"Test 4 (copy of 89c3 BP Interstitiel alerte IE)-1","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"AffPopinIE","value":null,"nameOperator":"EXACT","valueOperator":"OPTIONAL","include":false}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if(navigator.userAgent.indexOf(\"rv:11\") != -1){\nreturn true;\n}else{\n\nreturn false\n}","include":true}}}},{"id":159632,"name":"PART_MATERNAGE_NER_J7_2106","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_MATERNAGE_NER_J7_2106"}}},{"id":159642,"name":" PART_MATERNAGE_NER_J15_2106","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_MATERNAGE_NER_J15_2106"}}},{"id":159653,"name":"PART_MATERNAGE_NER_J30_FP_2106","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_MATERNAGE_NER_J30_FP_2106"}}},{"id":159687,"name":"PART_MATERNAGE_NER_J30_AUTRES_2106","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_MATERNAGE_NER_J30_AUTRES_2106"}}},{"id":159697,"name":"PART_MATERNAGE_NER_J45_2106","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_MATERNAGE_NER_J45_2106"}}},{"id":159715,"name":"PART_MATERNAGE_NER_M2_2106","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_MATERNAGE_NER_M2_2106"}}},{"id":159727,"name":"PART_MATERNAGE_NER_M3_ACTIFS_2106","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_MATERNAGE_NER_M3_ACTIFS_2106"}}},{"id":159736,"name":"PART_MATERNAGE_NER_M3_INACTIFS_2106","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_MATERNAGE_NER_M3_INACTIFS_2106"}}},{"id":167084,"name":"Fix Interstitiel BP IE11","tree":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"if (document.querySelector(\"#kameleoonElement984920\")!= null) return true;","include":true}}},{"id":169320,"name":"PART_SELCARE_AUTO_CRM_2111","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_SELCARE_AUTO_CRM_2111"}}},{"id":172833,"name":"[Support Kameleoon] Fix  Comptes Reskin","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"^cyber/internet/$","include":true}}},{"id":176850,"name":"PART_ASSUR_FUTUR_PROPRIETAIRE","tree":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_ASSUR_FUTUR_PROPRIETAIRE"}},"rightChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"TEST_TOUMY"}}}},{"id":179488,"name":"[support kameleoon] recette-en-prod","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"recette-en-prod","value":"true","nameOperator":"EXACT","valueOperator":"EXACT","include":true}}},{"id":179818,"name":"[Support Kam] kam-dpw-mars","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"kam-dpw-mars","value":"true","nameOperator":"EXACT","valueOperator":"EXACT","include":true}}},{"id":181906,"name":"Cyber part","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)banquepopulaire\\.fr/cyber/internet/ShowPortal\\.do(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)ibps(.*)","include":true}}},"rightChild":{"targetingCondition":{"type":"DEVICE_TYPE","disabled":false,"weight":1,"value":"DESKTOP","include":true}}},"rightChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":3,"operator":"CONTAINS","include":true,"value":"particulier"}},"rightChild":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":5,"operator":"CONTAINS","include":true,"value":"accueil connecte"}}},"rightChild":{"targetingCondition":{"type":"JS_CODE","disabled":false,"weight":1,"value":"let dl = window.datalayer;\r\nlet regexapplicationName = /cyber/i;\r\nif (typeof dl !== \"undefined\" && typeof window.dpwLegacyScriptData !== \"undefined\" && typeof window.dpwLegacyScriptData.eligibilitedp !== \"undefined\" && dl.pages && dl.pages.applicationName  && window.dpwLegacyScriptData.eligibilitedp == true) {\r\nif (regexapplicationName.test(dl.pages.applicationName)) {return true;\r\n} else return false;\r\n} else return undefined; /* not needed but more readable */","include":true}}}}},{"id":182189,"name":"PRO_ENT_PRETS_GREEN_CRM_0422","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PRO_ENT_PRETS_GREEN_CRM_0422"}}},{"id":183031,"name":"PART_PP_TRANSITION_ECO_TRAVAUX_CRM_2204","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_PP_TRANSITION_ECO_TRAVAUX_CRM_2204"}}},{"id":186378,"name":"[Support Kam] push_edito_mai","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"push_edito_mai","value":"true","nameOperator":"EXACT","valueOperator":"EXACT","include":true}}},{"id":186447,"name":"kam-souscrire-lame-is-present","tree":{"targetingCondition":{"type":"DOM_ELEMENT","disabled":false,"weight":1,"value":"#kam-souscrire-lame","include":true}}},{"id":191604,"name":"DPW Popin ajout bénéficiaire","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)banquepopulaire\\.fr/espace-client(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"EVENT","disabled":false,"weight":1,"value":"ajoutBeneficiaire","include":true}}}},{"id":191775,"name":"PRO_PREVOYANCE_PROPLUS_PL_CIBLE1_CRM_062","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PRO_PREVOYANCE_PROPLUS_PL_CIBLE1_CRM_0622"}}},{"id":196590,"name":"Ajout beneficiaire Cyber","tree":{"orOperator":true,"orGuiLevel":1,"leftChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)cyber/internet/StartTask\\.do\\?taskInfoOID\\=creerBenef(.*)","include":true}},"rightChild":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)&dialogActionPerformed\\=CREER_NOUVEAU_BENEFICIAIRE(.*)","include":true}}}},{"id":197682,"name":"Cookie test Nicolas","tree":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"test-Nicolas-autopromo","value":"true","nameOperator":"CONTAINS","valueOperator":"CONTAINS","include":true}}},{"id":199235,"name":"PART_FACELIA_KIT_PERENNE_CRM_2210","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_FACELIA_KIT_PERENNE_CRM_2210"}}},{"id":201177,"name":"Virement DPW","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/espace-client/virement(.*)","include":true}}},{"id":201686,"name":"PRO_ENT_HARMO_GAMMES_CYBER_2211","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PRO_ENT_HARMO_GAMMES_CYBER_2211"}}},{"id":202461,"name":"AB test Cookie consent BP","tree":{"orOperator":false,"orGuiLevel":0,"leftChild":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"PopinCookieBP","value":null,"nameOperator":"EXACT","valueOperator":"OPTIONAL","include":false}},"rightChild":{"targetingCondition":{"type":"COOKIE","disabled":false,"weight":1,"name":"CONSENTMGR","value":null,"nameOperator":"EXACT","valueOperator":"OPTIONAL","include":false}}}},{"id":204296,"name":"PART_LIVRET_A_TAUX_2022","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_LIVRET_A_TAUX_2022"}}},{"id":204298,"name":"PART_CODEVAIR_TAUX_2022","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_CODEVAIR_TAUX_2022"}}},{"id":204358,"name":"[NOUVEAU] RAVE document à transmettre","tree":{"targetingCondition":{"type":"PAGE_URL","disabled":false,"weight":1,"value":"(.*)/espace-client/souscrire/demandes(.*)","include":true}}},{"id":205324,"name":"PART_PRET_NOEL_CREDIT_CONSO_22","tree":{"targetingCondition":{"type":"CUSTOM_DATUM","disabled":false,"weight":1,"index":21,"operator":"CONTAINS","include":true,"value":"PART_PRET_NOEL_CREDIT_CONSO_22"}}}],"variations":[{"name":"Masquer ancien bandeau","id":437915,"css":"/* START 939061 */\n\n#ctl00_cookieAccept {\n\tdisplay: none !important;\n}\n\n/* END 939061 */\n\n/* START 939062 */\n\n#ctl00_cookieAccept {\n\tdisplay: none !important;\n}\n\n/* END 939062 */\n\n/* START 939063 */\n\n#ctl00_cookieAccept {\n\tdisplay: none !important;\n}\n\n/* END 939063 */\n\n/* START 939064 */\n\n#ctl00_cookieAccept {\n\tdisplay: none !important;\n}\n\n/* END 939064 */\n\n/* START 939065 */\n\n#ctl00_cookieAccept {\n\tdisplay: none !important;\n}\n\n/* END 939065 */\n\n/* START 939066 */\n\n#ctl00_cookieAccept {\n\tdisplay: none !important;\n}\n\n/* END 939066 */\n\n","elementSets":[{"selector":"#ctl00_cookieAccept","options":{"idSelector":true,"selector":"#ctl00_cookieAccept"},"currentQuery":null},{"selector":"#ctl00_cookieAccept","options":{"idSelector":true,"selector":"#ctl00_cookieAccept"},"currentQuery":null},{"selector":"#ctl00_cookieAccept","options":{"idSelector":true,"selector":"#ctl00_cookieAccept"},"currentQuery":null},{"selector":"#ctl00_cookieAccept","options":{"idSelector":true,"selector":"#ctl00_cookieAccept"},"currentQuery":null},{"selector":"#ctl00_cookieAccept","options":{"idSelector":true,"selector":"#ctl00_cookieAccept"},"currentQuery":null},{"selector":"#ctl00_cookieAccept","options":{"idSelector":true,"selector":"#ctl00_cookieAccept"},"currentQuery":null}],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenConditionTrue(function(){ return document.getElementById(\"cookieAcceptPanel\") && document.getElementById(\"cookieAcceptPanel\").style && document.getElementById(\"cookieAcceptPanel\").style.display == \"block\" },\nfunction(){\nvar btncoord = document.getElementById(\"cookieAcceptPanel\");\nbtncoord.style = \"display:none\";\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":448899,"css":"/* START 866155 */\n\n#cookieAcceptPanel {\n\tdisplay: none !important;\n}\n\n/* END 866155 */\n\n","elementSets":[{"selector":"#cookieAcceptPanel","options":{"idSelector":true,"selector":"#cookieAcceptPanel"},"currentQuery":null}]},{"name":"Variation 1","id":546721,"css":"/* START CUSTOM */\n\n.kam-page-de-news.bp-theme {\n  --theme-color-primary: #051b71;\n  --theme-border: var(--theme-color-primary);\n  --theme-background-color: var(--theme-color-primary);  \n  --theme-background-color-hover: #f5f5f5;  \n}\n.kam-page-de-news.ce-theme {\n  --theme-color-primary: #D7000F;\n  --theme-border: var(--theme-color-primary);\n  --theme-background-color: var(--theme-color-primary);  \n  --theme-background-color-hover: #f5f5f5;  \n}\n\n.kam-page-de-news {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.32);\n  z-index: 1124;\n  overflow-y: scroll;\n  overflow-x: hidden !important;\n}\n\n.kam-page-de-news ul, .kam-page-de-news ol {\nmargin: 0 0 40px 0;\npadding: 0 0 0 24px;\n}\n\n.kam-page-de-news ul {\nlist-style-type: disc;}\n\n.kam-page-de-news ol {\nlist-style-type: decimal;\n}\n\n.kam-page-de-news ul li, .kam-page-de-news ol li {\nmargin-bottom: 8px;\n}\n\n.kam-page-de-news b {\nfont-weight: 700;}\n.kam-page-de-news i {\nfont-style: italic;}\n\n.kam-page-de-news .kam-popup {\n  width: 792px;\n  min-height: 480px;\n  position: relative;\n  margin: 64px auto 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-align: stretch;\n  -ms-flex-align: stretch;\n  align-items: stretch;\n  border: 1px solid grey;\n  border-radius: 8px;\n  background-color: #fff;\n  margin-bottom: 64px;\n}\n\n.kam-page-de-news .kam-popup__header {\n  width: 100%;\n  margin: 5px auto 0;\n  border-bottom: 1px solid #ccc;\n}\n\n.kam-page-de-news .kam-popup__header .header__title {\n  width: 100%;\n  height: 48px;\n  position: relative;\n  padding: 0 8px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  color: #333;\n  font-family: \"Ubuntu-bpce\", sans-serif;\n  font-size: 17px;\n  letter-spacing: 0;\n  line-height: 22px;\n  text-align: center;\n}\n\n.kam-page-de-news .kam-popup__header .header__cross {\n  min-width: 32px;\n  position: absolute;\n  right: 0;\n  top: 8px;\n}\n\n.kam-page-de-news .kam-popup__header .header__close {\n  color: var(--theme-color-primary);\n  border: none;\n  background: none;\n  padding: 0;\n  cursor: pointer;\n}\n\n.kam-page-de-news .kam-popup__title {\n  padding: 24px 100px;\n  margin: 0;\n  text-align: center;\n  color: #333;\n  font-family: \"Ubuntu-bpce\", sans-serif;\n  font-size: 32px;\n  font-weight: 300;\n  letter-spacing: -0.1px;\n  line-height: 40px;\n}\n\n.kam-page-de-news .kam-popup__image-container {\n  max-height: 330px;\n  padding: 0 102px;\n}\n\n.kam-page-de-news .kam-popup__image {\n  width: 100%;\n}\n\n.kam-page-de-news .kam-popup__body {\n  padding: 24px 102px;\n  position: relative;\n  color: #333;\n  font-family: \"Ubuntu-bpce\", sans-serif;\n  font-size: 16px;\n  letter-spacing: 0;\n  line-height: 22px;\n  background-color: #fff;\n  z-index: 1;\n}\n\n.kam-page-de-news .kam-popup__body_with-big-padding-bottom {\n  padding-bottom: 136px;\n}\n\n.kam-page-de-news .kam_with-padding-bottom {\n  padding-bottom: 138px;\n}\n\n.kam-page-de-news .kam-popup__text {\n  text-align: justify;\n}\n\n.kam-page-de-news .kam-popup__footer {\n  width: 100%;\n  padding: 24px 0;\n  text-align: center;\n  background-color: #fff;\n  border-radius: 0 0 8px 8px;\n  z-index: 1;\n}\n\n.kam-page-de-news .kam-popup__button {\n  width: 588px;\n  height: 40px;\n  padding: 8px;\n  margin: 0 auto;\n  border: 1px solid;\n  border-radius: 4px;\n  border-color: var(--theme-border);\n  font-family: \"Ubuntu-bpce\", sans-serif;\n  font-size: 16px;\n  letter-spacing: -0.14px;\n  line-height: 22px;\n  text-align: center;\n  cursor: pointer;\n}\n\n.kam-page-de-news .kam-popup__button_with-padding-bottom {\n  margin-bottom: 8px;\n}\n\n.kam-page-de-news .kam-popup__button_primary {\n  background-color: var(--theme-background-color);\n  color: #fff;\n}\n\n.kam-page-de-news .kam-popup__button_secondary {\n  background-color: transparent;\n  color: var(--theme-color-primary);\n}\n\n.kam-page-de-news .kam-popup__button_secondary:hover {\n  background-color: #f5f5f5;\n}\n\n.kam_hidden {\n  display: none;\n}\n\n.kam_sticky {\n  position: -webkit-sticky !important;\n  position: sticky !important;\n  bottom: 0;\n}\n\n.kam_overflow-hidden {\n  overflow: hidden !important;\n}\n\n.kam_with-shadow {\n  -webkit-box-shadow: 0 0 5px 0 #ccc !important;\n  box-shadow: 0 0 5px 0 #ccc !important;\n}\n\n@media (max-width: 792px) {\n  .kam-page-de-news {\n    margin-top: 0px;\n    margin-bottom: 0px !important;\n    border-radius: 0px;\n    border: 0px;\n    overflow-y: scroll;\n    z-index: 1100;\n  }\n\n  .kam-page-de-news .kam-popup {\n    height: 100%;\n    width: 100% !important;\n    margin: 0;\n    border-radius: 0;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__title {\n    padding: 20px 0;\n    font-size: 24px;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__image-container {\n    padding: 0 16px 20px;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__body {\n    height: 100%;\n    padding: 20px 16px;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__footer {\n    padding: 16px;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__button {\n    width: 100%;\n  }\n\n  .kam-page-de-news .kam-popup .kam_with-padding-bottom {\n    padding-bottom: 124px;\n  }\n}\n\n.kam-sticky_IE .kam-popup__footer {\n  width: 790px !important;\n  position: fixed !important;\n}\n\n@media (max-width: 792px) {\n  .kam-sticky_IE .kam-popup__footer {\n    width: calc(100% - 20px) !important;\n  }\n}\n\n.kam-sticky_IE .kam-popup__body {\n  padding-bottom: 106px !important;\n}\n\n@media (max-width: 792px) {\n  .kam-sticky_IE .kam-popup__body {\n    padding-bottom: 88px !important;\n  }\n}\n\n.ql-align-center {\n  text-align: center;\n}\n.ql-align-right {\n  text-align: right;\n}\n.ql-align-justify {\n  text-align: justify;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"widget_brand\":\"bp\",\"type\":\"Autopromo\",\"widget_type\":\"page_de_news\",\"id\":\"43252\",\"position_cyber\":\"dpw_homepage_page_de_news\",\"clickCapping\":\"1\",\"displayCapping\":\"\",\"priority\":\"900\",\"page_de_news_title_popin\":\"Réglementation DSP2\",\"page_de_news_title\":\"\",\"page_de_news_text\":\"%3Cp%20class%3D%22MsoNormal%22%3E%3Cstrong%3ES%C3%A9curit%C3%A9%20renforc%C3%A9e%20pour%20l'acc%C3%A8s%20%C3%A0%20vos%20comptes%3A%3C%2Fstrong%3E%3C%2Fp%3E%3Cp%20class%3D%22MsoNormal%22%3EQuels%20changements%20pour%20vous%20%3F%3C%2Fp%3E\",\"page_de_news_bouton_1\":\"En savoir plus\",\"page_de_news_url_cyber\":\"\",\"page_de_news_url_externe\":\"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/dsp2-securite-renforcee-operations-bancaires-.aspx\",\"page_de_news_bouton_2\":\"\",\"page_de_news_capping\":\"1\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** news - DPW - V6 */\n\n/** Enum */\nclass Capping {\n  static Display = new Capping(\"Display\")\n  static Click = new Capping(\"Click\")\n  constructor(value) {\n      this.value = value;\n  }\n  toString() {\n      return `${this.value}`;\n  }\n}\n\nclass News {\n\n  #DEBUG = false;\n\n  constructor(userData) {\n    this.userData = userData;\n  }\n\n  /**\n   * Returns the news popin\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */\n  #createPopin(userData) {\n    const popin = document.createElement(\"div\");\n    const theme = userData.widget_brand ? `${userData.widget_brand}-theme` : \"\";\n    popin.classList.add(\"kam-page-de-news\", theme );\n\n    const formatString = (s, cb) => cb ? cb(s) : (s ? s : \"\");\n\n    const popinImageMarkup = () => `\n      <div class=\"kam-popup__image-container\">\n        <img \n          class=\"kam-popup__image\"\n          src=\"${userData.page_de_news_image}\"\n        />\n      </div>\n    `;\n    \n    const popinButton1Markup = () => {\n      const target = userData.page_de_news_url_externe ? \"_blank\" : \"_top\"; \n      const href = userData.page_de_news_url_externe \n                    ? userData.page_de_news_url_externe \n                    : userData.page_de_news_url_cyber \n                      ? userData.page_de_news_url_cyber \n                      : \"javascript:void(0)\";\n      return `\n      <a \n        href=${ href }\n        target=${ target }\n        rel=\"noreferrer noopener\"\n        data-click=\"true\"\n        class=\"\"\n      >\n        <button\n          class=\"kam-popup__button kam-popup__button_primary kam-popup__button_with-padding-bottom\"\n          data-click=\"true\"\n        >\n          ${ userData.page_de_news_bouton_1}\n        </button>\n      </a>` \n    };\n\n    const popinButton2Markup = () => `\n      <button \n        class=\"kam-popup__button kam-popup__button_secondary\"\n        data-click=\"true\" \n      >\n        ${userData.page_de_news_bouton_2}\n      </button>  \n    `;\n\n    popin.innerHTML = `\n      <div class=\"kam-popup\">\n        <div class=\"kam-popup__header\">\n          <div class=\"header__title\">\n            ${formatString(userData.page_de_news_title_popin)}\n          </div>\n          <div data-click=\"true\" class=\"header__cross\">\n            <button data-click=\"true\" type=\"button\" class=\"header__close\">\n                <svg data-click=\"true\" class=\"header-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 512 512\">\n                    <path class=\"icon__path\" data-click=\"true\" d=\"M351.65 151.49c4.7-4.672 12.297-4.65 16.97.05 4.673 4.7 4.65 12.297-.049 16.97l-91.497 90.968 91.497 90.97c4.621 4.594 4.72 12.017.279 16.732l-.23.238c-4.673 4.7-12.27 4.721-16.97.049l-91.595-91.068-91.594 91.068c-4.622 4.594-12.046 4.65-16.735.182l-.236-.231c-4.672-4.7-4.65-12.298.05-16.97l91.495-90.97-91.496-90.968c-4.621-4.595-4.72-12.018-.278-16.733l.23-.238c4.672-4.7 12.27-4.721 16.97-.049l91.594 91.067z\" fill=\"#333\" fill-rule=\"evenodd\"></path>\n                </svg>\n            </button>\n          </div>\n        </div>          \n        <h2 class=\"kam-popup__title\">\n            ${formatString(userData.page_de_news_title)}\n        </h2>\n        ${userData.page_de_news_image ? popinImageMarkup() : \"\"}\n        <div class=\"kam-popup__body\">\n          <div class=\"kam-popup__text\">\n            ${formatString(userData.page_de_news_text, s => decodeURIComponent(s))}\n          </div>\n        </div>\n        <div class=\"kam-popup__footer\">\n          ${userData.page_de_news_bouton_1 ? popinButton1Markup() : \"\"}\n          ${userData.page_de_news_bouton_2 ? popinButton2Markup() : \"\"}\n        </div>\n      </div>\n    `;\n    \n    Kameleoon.API.Utils.addEventListener(popin, \"click\", (event) => {\n      if (\n        event.target.closest(\".kam-popup__button_primary\") ||\n        event.target.closest(\".kam-popup__button_secondary\")\n      ) {\n        Object.assign( userData, {\"libelle\": event.target.innerText.trim()});\n        this.#setCapping(Capping.Click, userData);\n        this.#handleAdobeAnalytics(Capping.Click, userData);\n        this.#adjustStyles(false);\n        return;\n      }\n      if(\n        !event.target.closest(\".header__close\") &&\n        event.target.closest(\".kam-popup\")        \n      ) {\n        return; \n      }\n      this.#adjustStyles(false);\n    });\n\n    return popin;\n  }\n\n  /**\n   * Insert the popin in the DOM\n   * @param {HTMLElement} popin\n   */\n  #insertPopin(popin, userData) {\n    Kameleoon.API.Core.runWhenElementPresent(\"body\", () => {  \n      window.top.document.body?.insertAdjacentElement(\"afterbegin\", popin);\n      this.#handleAdobeAnalytics(Capping.Display, userData);\n      this.#adjustStyles(true);\n    });\n  }\n\n  /**\n   * @param {Boolean} action true: add styles ; false: remove styles \n   */\n  #adjustStyles( action ) {\n    switch( action ) {\n      case true: \n        const popin = window.top.document.querySelector(\".kam-popup\");\n        const footer = window.top.document.querySelector(\".kam-popup__footer\");  \n        window.top.document.body.classList.add(\"kam_overflow-hidden\");\n        window.top.document.documentElement.classList.add(\"kam_overflow-hidden\");\n        if( popin.offsetHeight > window.top.innerHeight ) {\n          footer.classList.add(\"kam_sticky\", \"kam_with-shadow\");\n        }\n        break;\n      case false:\n        const popinWrapper = window.top.document.querySelector(\".kam-page-de-news\");\n        popinWrapper.remove();\n        window.top.document.body.classList.remove(\"kam_overflow-hidden\");\n        window.top.document.documentElement.classList.remove(\"kam_overflow-hidden\"); \n        break;\n    }\n  }\n\n  /**\n   * send metadatas to Adobe Analytics \n   * @param {Capping} type Display | Click\n   * @param {Object} userData \n   */\n  #handleAdobeAnalytics(type, userData) {\n    if(!(type instanceof Capping)) \n      throw new Error(\"incorrect capping type\");\n    Kameleoon.API.Core.runWhenConditionTrue(\n      () => window.top.utag && window.top.datalayer && window.top.utag_data,\n      () => {\n        let method;\n        const name = Kameleoon.API.Personalizations.getById(userData?.id)?.name;\n        const linkObj = {\n          \"pages.pageType\": \"page de news\",\n          \"pages.pageName\": name\n        };\n        switch( type ) {\n          case Capping.Click: {\n            Object.assign( linkObj, {\n              \"clics.libelle\": userData.libelle,\n              \"evenement.event\": \"event10\",          \n              \"clics.type\": \"action\",\n              \"vignette.capping\": \"page de news|\" + name   \n            });\n            method = \"link\";\n            break;\n          };\n          case Capping.Display: {\n            if ( this.#persoHasCapped( type, userData )) {\n              Object.assign( linkObj, {\n                \"vignette.capping\": \"page de news|\" + name\n              });\n            }\n            method = \"view\";\n            break;\n          }\n        }\n        const adobeObject = Object.assign(\n          {},\n          window.top.datalayer,\n          window.top.utag_data,\n          linkObj\n        );\n        window.top.utag[method](adobeObject);\n      }\n    );\n  }\n\n  /**\n   * Set Capping\n   * @param {Capping} type Display | Click\n   * @param {Object} userData\n   */\n  #setCapping(type, userData) {\n    if(!(type instanceof Capping)) \n      throw new Error(\"incorrect capping type\");\n    Kameleoon.API.Data.setCustomData(\n      `Autopromo ${type.toString()} Capping`,\n      userData.id\n    );\n  }\n\n  /**\n   * check if the personalization has capped \n   * based on the capping type property passed as argument\n   * @param {Capping} type Display | Click\n   * @param {Object} userData \n   * @returns {Boolean}\n   */\n  #persoHasCapped(type, userData) {\n    if(!(type instanceof Capping)) \n      throw new Error(\"incorrect capping type\");\n    const templateData = type === Capping.Click\n      ? \"clickCapping\"              // these values are unique to this widget :-(\n      : \"page_de_news_capping\"; // it would be better to extract them from this method\n    const customDataValue = Kameleoon.API.CurrentVisit\n      .customData[`Autopromo ${type.toString()} Capping`]\n      ?.find( cd => cd.value === userData.id )\n      ?.count\n    return customDataValue === parseInt(userData[templateData]);\n  }\n\n  /**\n   * insert <style> tag into window.top in order to correctly apply CSS for the widget (due to iframes limitations)\n   * @param {object} userData \n   */\n  #insertStyle( userData ) {\n    const style = document.createElement('style');\n    style.id = `KameleoonStyleSheet-${userData.id}`;\n    style.classList.add('KameleoonStyleSheet');\n    style.setAttribute('rel', 'stylesheet');\n    style.setAttribute('type', 'text/css');\n    style.setAttribute('media', 'screen');\n    style.innerHTML = `.kam-page-de-news.bp-theme{--theme-color-primary:#051b71;--theme-border:var(--theme-color-primary);--theme-background-color:var(--theme-color-primary);--theme-background-color-hover:#f5f5f5}.kam-page-de-news.ce-theme{--theme-color-primary:#D7000F;--theme-border:var(--theme-color-primary);--theme-background-color:var(--theme-color-primary);--theme-background-color-hover:#f5f5f5}.kam-page-de-news{width:100%;height:100%;position:absolute;top:0;left:0;background-color:rgba(0,0,0,.32);z-index:1124;overflow-y:scroll;overflow-x:hidden!important}.kam-page-de-news ul,.kam-page-de-news ol{margin:0 0 40px 0;padding:0 0 0 24px}.kam-page-de-news ul{list-style-type:disc}.kam-page-de-news ol{list-style-type:decimal}.kam-page-de-news ul li,.kam-page-de-news ol li{margin-bottom:8px}.kam-page-de-news b{font-weight:700}.kam-page-de-news i{font-style:italic}.kam-page-de-news .kam-popup{width:792px;min-height:480px;position:relative;margin:64px auto 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;border:1px solid grey;border-radius:8px;background-color:#fff;margin-bottom:64px}.kam-page-de-news .kam-popup__header{width:100%;margin:5px auto 0;border-bottom:1px solid #ccc}.kam-page-de-news .kam-popup__header .header__title{width:100%;height:48px;position:relative;padding:0 8px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#333;font-family:\"Ubuntu-bpce\",sans-serif;font-size:17px;letter-spacing:0;line-height:22px;text-align:center}.kam-page-de-news .kam-popup__header .header__cross{min-width:32px;position:absolute;right:0;top:8px}.kam-page-de-news .kam-popup__header .header__close{color:var(--theme-color-primary);border:none;background:none;padding:0;cursor:pointer}.kam-page-de-news .kam-popup__title{padding:24px 100px;margin:0;text-align:center;color:#333;font-family:\"Ubuntu-bpce\",sans-serif;font-size:32px;font-weight:300;letter-spacing:-.1px;line-height:40px}.kam-page-de-news .kam-popup__image-container{max-height:330px;padding:0 102px}.kam-page-de-news .kam-popup__image{width:100%}.kam-page-de-news .kam-popup__body{padding:24px 102px;position:relative;color:#333;font-family:\"Ubuntu-bpce\",sans-serif;font-size:16px;letter-spacing:0;line-height:22px;background-color:#fff;z-index:1}.kam-page-de-news .kam-popup__body_with-big-padding-bottom{padding-bottom:136px}.kam-page-de-news .kam_with-padding-bottom{padding-bottom:138px}.kam-page-de-news .kam-popup__text{text-align:justify}.kam-page-de-news .kam-popup__footer{width:100%;padding:24px 0;text-align:center;background-color:#fff;border-radius:0 0 8px 8px;z-index:1}.kam-page-de-news .kam-popup__button{width:588px;height:40px;padding:8px;margin:0 auto;border:1px solid;border-radius:4px;border-color:var(--theme-border);font-family:\"Ubuntu-bpce\",sans-serif;font-size:16px;letter-spacing:-.14px;line-height:22px;text-align:center;cursor:pointer}.kam-page-de-news .kam-popup__button_with-padding-bottom{margin-bottom:8px}.kam-page-de-news .kam-popup__button_primary{background-color:var(--theme-background-color);color:#fff}.kam-page-de-news .kam-popup__button_secondary{background-color:transparent;color:var(--theme-color-primary)}.kam-page-de-news .kam-popup__button_secondary:hover{background-color:#f5f5f5}.kam_hidden{display:none}.kam_sticky{position:-webkit-sticky!important;position:sticky!important;bottom:0}.kam_overflow-hidden{overflow:hidden!important}.kam_with-shadow{-webkit-box-shadow:0 0 5px 0 #ccc!important;box-shadow:0 0 5px 0 #ccc!important}@media (max-width:792px){.kam-page-de-news{margin-top:0;margin-bottom:0px!important;border-radius:0;border:0;overflow-y:scroll;z-index:1100}.kam-page-de-news .kam-popup{height:100%;width:100%!important;margin:0;border-radius:0}.kam-page-de-news .kam-popup .kam-popup__title{padding:20px 0;font-size:24px}.kam-page-de-news .kam-popup .kam-popup__image-container{padding:0 16px 20px}.kam-page-de-news .kam-popup .kam-popup__body{height:100%;padding:20px 16px}.kam-page-de-news .kam-popup .kam-popup__footer{padding:16px}.kam-page-de-news .kam-popup .kam-popup__button{width:100%}.kam-page-de-news .kam-popup .kam_with-padding-bottom{padding-bottom:124px}}.kam-sticky_IE .kam-popup__footer{width:790px!important;position:fixed!important}@media (max-width:792px){.kam-sticky_IE .kam-popup__footer{width:calc(100% - 20px)!important}}.kam-sticky_IE .kam-popup__body{padding-bottom:106px!important}@media (max-width:792px){.kam-sticky_IE .kam-popup__body{padding-bottom:88px!important}}.ql-align-center{text-align:center}.ql-align-right{text-align:right}.ql-align-justify{text-align:justify}`;\n    window.top.document.head.appendChild(style);\n  }\n\n  #log( message ) {\n    if(this.#DEBUG) return console.log(message);\n  }\n  \n  init() {\n    try {\n      this.#log(\"start...\");\n      const popin = this.#createPopin(this.userData);\n      this.#log(\"generate popin:\", popin);\n      this.#log(\"try to insert popin...\");\n      this.#insertStyle(this.userData);\n      this.#insertPopin(popin, this.userData);\n      this.#log(\"end.\");\n    } catch (err) {\n      throw new Error(err);\n    }\n  }\n}\n\n/** Script Entry Point */\nKameleoon.API.Core.runWhenConditionTrue(\n  () => window.top.sitecodeData,\n  () => {\n    try {\n      const news = new News(UserData);\n      news.init();\n    } catch (err) {\n      console.error(`[Kameleoon][perso: ${UserData.id}]: ` + err);\n    }\n  }\n);\n})();","afterDOMReady":false},"widgetTemplateInputData":{"widget_brand":"bp","type":"Autopromo","widget_type":"page_de_news","id":"43252","position_cyber":"dpw_homepage_page_de_news","clickCapping":"1","displayCapping":"","priority":"900","page_de_news_title_popin":"Réglementation DSP2","page_de_news_title":"","page_de_news_text":"%3Cp%20class%3D%22MsoNormal%22%3E%3Cstrong%3ES%C3%A9curit%C3%A9%20renforc%C3%A9e%20pour%20l'acc%C3%A8s%20%C3%A0%20vos%20comptes%3A%3C%2Fstrong%3E%3C%2Fp%3E%3Cp%20class%3D%22MsoNormal%22%3EQuels%20changements%20pour%20vous%20%3F%3C%2Fp%3E","page_de_news_bouton_1":"En savoir plus","page_de_news_url_cyber":"","page_de_news_url_externe":"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/dsp2-securite-renforcee-operations-bancaires-.aspx","page_de_news_bouton_2":"","page_de_news_capping":"1","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Clic revenir ancien espace","id":551010,"css":"","elementSets":[],"javaScriptCode":{"code":"/*var cookie = document.cookie ;\nvar presencecoookiesession = cookie.indexOf(\"AccesDPW\"); \n\n\tif (presencecoookiesession < 0) {\n  document.cookie = \"AccesDPW=true; domain=.banquepopulaire.fr; path=/\";;\n}\n*/\n\n\n\nKameleoon.API.Core.runWhenConditionTrue(function(){\nreturn document.querySelector(\"#panel-profil > dp-lateral-panel > div.layer > dpw-profil-home > div.scrollable-area > button\") != null},\n  \n\nfunction() {\nfunction sendTagClic(libelleClic, typeClic) {\n            var obj2 = {};\n            Object.assign(obj2, datalayer);\n            Object.assign(obj2, utag_data);\n            var linkTag = {\"clics.libelle\": libelleClic, \"clics.type\": typeClic, \"evenement.event\": \"event10\" };\n            Object.assign(obj2, linkTag);\n            utag.link(obj2);\t\n        }\n\n\nvar liendpw = document.querySelector(\"#panel-profil > dp-lateral-panel > div.layer > dpw-profil-home > div.scrollable-area > button\")\nliendpw.onclick = function() {\n  sendTagClic(\"dpw : revenir sur ancien espace\", \"navigation\");\n//  Kameleoon.Utils.createLocalData(\"Kam_Redir_DPW\",\"false\",\"365\", \"\", \"COOKIE\");\n};\n\n}, 200);\n\n/*var lienkam = document.getElementById(\"lienancienespace\");\nliendpw.onclick = function() {\n  sendTagClic(\"dpw : revenir sur ancien espace\", \"navigation\");\n  Kameleoon.Utils.createLocalData(\"Kam_Redir_DPW\",\"false\",\"365\", \"\", \"COOKIE\");\n};*/","afterDOMReady":false}},{"name":"Interstitiel IE","id":583899,"css":"/* START 1045671 */\n\n#kameleoonElement984920 {\n\theight: 461px !important;\n\twidth: 619px !important;\n\tz-index: 501 !important;\n\ttop: 200px !important;\n\tleft: 761px !important;\n\tright: auto !important;\n\tposition: absolute;\n}\n\n/* END 1045671 */\n\n/* START 1045672 */\n\n#kameleoonElement984920 {\n\theight: 461px !important;\n\twidth: 619px !important;\n\tz-index: 501 !important;\n\ttop: 200px !important;\n\tleft: 761px !important;\n\tright: auto !important;\n\tposition: absolute;\n}\n\n/* END 1045672 */\n\n/* START CUSTOM */\n\n#overlayPopinSP {\n  position: fixed; /* Sit on top of the page content */\n  display: block; /* Hidden by default */\n  width: 100%; /* Full width (cover the whole page) */\n  height: 100%; /* Full height (cover the whole page) */\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0,0,0,0.5); /* Black background with opacity */\n  z-index: 14000; /* Specify a stack order in case you're using a different order for other elements */\n  cursor: default; /* Add a pointer on hover */\n}\n\narea {\n        cursor: pointer;\n    }\n\n#kameleoonElement984920 {\n\twidth: 842px;\n\theight: 521px;\n\t\n\tposition: absolute;\n\ttop:0 !important;\n\tbottom: 0 !important;\n\tleft: 0 !important;\n\tright: 0 !important;\n  \t\n\tmargin-top: 12%;\n\tmargin-bottom: auto;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\t\n\t    z-index: 15000 !important;\n}","elementSets":[{"selector":"#kameleoonElement984920","options":{"replaceHtmlContent":"<img src=\"STATIC_IMAGE_PATH109373-7ea83291-0036-4df1-9ca5-86d3c920778f.png\" height=\"461px\" width=\"619px\" />","idSelector":true,"selector":"#kameleoonElement984920"},"currentQuery":null},{"selector":"#kameleoonElement984920","options":{"replaceHtmlContent":"<img src=\"STATIC_IMAGE_PATH109373-7ea83291-0036-4df1-9ca5-86d3c920778f.png\" height=\"461px\" width=\"619px\" />","idSelector":true,"selector":"#kameleoonElement984920"},"currentQuery":null}],"expositionFrequencySameVisit":1,"javaScriptCode":{"code":"var divOverlaySP = document.createElement(\"DIV\");\ndivOverlaySP.setAttribute(\"id\",\"overlayPopinSP\");\ndocument.body.appendChild(divOverlaySP);\n \n    function noScroll() {\n      window.scrollTo(0, 0);\n    }\n \n    function unloadScrollBars() {\n       $(\"html\").css(\"overflow\", \"hidden\");\n    }\n \n    function reloadScrollBars() {\n       // document.documentElement.style.overflow = 'auto';  // firefox, chrome\n       $(\"html\").css(\"overflow\", \"visible\");\n    }\n \n    // add listener to disable scroll\n    window.addEventListener('scroll', noScroll);\n    unloadScrollBars();\n \n//wait for utag / utag_data to be loaded\nKameleoon.API.Core.runWhenConditionTrue(function(){ return window.utag_data && document.querySelector(\"img#kameleoonElement984920\") },\nfunction(){        \n    \n    // On ajoute cookie session \n    document.cookie = \"AffPopinIE=true; domain=.banquepopulaire.fr; path=/\";\n    \n        // fn close popin\n        function closePopinSP(){\n            var imgSP = document.querySelector(\"img#kameleoonElement984920\");\n            var divOverlayPopinSP = document.getElementById(\"overlayPopinSP\");\n            //imgSP.remove();\n            //divOverlayPopinSP.remove();\n            imgSP.style.display = \"none\";\n            divOverlayPopinSP.style.display = \"none\";\n            divOverlayPopinSP.remove();\n        }\n        \n        // fn create btn\n            function addBtnSP(shape, coords, href) {\n                var element = document.createElement(\"AREA\");\n                element.setAttribute(\"class\", \"area\");\n                element.shape = shape;\n                element.coords = coords;\n                if (typeof(href) != \"undefined\") { element.href = href; }\n                if (typeof(href) != \"undefined\"){ if (href != \"#\") { element.target = \"_blank\"; }}                \n                element.addEventListener(\"click\", function (e) {\n                  window.removeEventListener('scroll', noScroll);\n                  reloadScrollBars();\n                  closePopinSP();                \n                }, false);\n                document.getElementsByName(\"mapSP\")[0].appendChild(element);\n            }\n        \n        //document.querySelector(\"body\").style=\"overflow-y: hidden;\";\n        //get img\n        var imgSP = document.querySelector(\"img#kameleoonElement984920\");\n        //add map attribute\n        imgSP.setAttribute(\"usemap\", \"#mapSP\");\n        //create map\n        var mapSP = document.createElement(\"map\");\n        mapSP.name = \"mapSP\";\n        //adding map to img\n        document.body.appendChild(mapSP);\n        \n        // creating 3 btn\n        addBtnSP(\"rect\", [\"68\", \"363\", \"212\", \"402\"], \"https://www.mozilla.org/fr/firefox/new/\");\n        addBtnSP(\"rect\", [\"237\", \"363\", \"381\", \"402\"], \"https://www.google.com/intl/fr_fr/chrome/\");\n        addBtnSP(\"rect\", [\"406\", \"363\", \"551\", \"402\"], \"https://www.microsoft.com/fr-fr/edge\");\n        addBtnSP(\"rect\", [\"200\", \"420\", \"420\", \"440\"], \"#\");\n}, 200);","afterDOMReady":true}},{"name":"Variation 1","id":590323,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_type:\"push_edito\",id:\"35302\",location:[\"push-edito_location_dpw\"],position_dpw:[\"dpw_comptes_1\"],image:\"https://arpfxvgcm0.kameleoon.eu/images/99444-c5af15d9-03cb-4ada-b61d-bc492b14f3fe.png\",title:\"Consultation code secret\",description:\"Consultez le code secret de votre carte bancaire depuis votre application\",cta:\"En savoir plus\",url_desktop:\"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/nouvelles-fonctionnalites-appli-pilotage-carte.aspx?xtcr=1&xtmc=pilotage_de_la_carte&vary=2-0-0\",legal:\"\",priority:\"399\",displayCapping:\"20\",clickCapping:\"\",campaign_type:\"P\",market:\"push-edito_particuliers\",category:\"banque\",product_code:\"\",domElementSelector:\"\",positionSelectorRelative:\"REPLACE\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:35302,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(35302)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#o(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const o=this.#a(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(o.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#a(e,t,n){const o={name:\"\",selector:\"\"};for(let a=0;a<t.length;a++){const i=e[t[a]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){o.name=t[a],o.selector=i;break}}return o}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:o,displayCapping:a,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:l,actualPosition:c}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${c}]|[${o}]|[${a}]|[${i}]|[${s}]|[${l}];`}(e),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,o=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,o))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#o(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"push_edito","id":"35302","location":["push-edito_location_dpw"],"position_dpw":["dpw_comptes_1"],"image":"STATIC_IMAGE_PATH99444-c5af15d9-03cb-4ada-b61d-bc492b14f3fe.png","title":"Consultation code secret","description":"Consultez le code secret de votre carte bancaire depuis votre application","cta":"En savoir plus","url_desktop":"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/nouvelles-fonctionnalites-appli-pilotage-carte.aspx?xtcr=1&xtmc=pilotage_de_la_carte&vary=2-0-0","legal":"","priority":"399","displayCapping":"20","clickCapping":"","campaign_type":"P","market":"push-edito_particuliers","category":"banque","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590328,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_type:\"push_edito\",id:\"41631\",location:[\"push-edito_location_dpw\"],position_dpw:[\"dpw_comptes_1\",\"dpw_assurances_1\",\"dpw_documents_1\"],image:\"https://arpfxvgcm0.kameleoon.eu/images/99709-1b64fc47-bdd4-41de-9748-60fcf11655e0.png\",title:\"Votre banque à distance, à votre service\",description:\"Découvrez toutes les opérations réalisables depuis votre mobile ou votre ordinateur\",cta:\"En savoir plus\",url_desktop:\"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/toutes-vos-operations-a-distance.aspx\",legal:\"\",priority:\"199\",displayCapping:\"3\",clickCapping:\"\",campaign_type:\"G\",market:\"push-edito_particuliers\",category:\"selfcare\",product_code:\"\",domElementSelector:\"\",positionSelectorRelative:\"REPLACE\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:41631,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(41631)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#o(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const o=this.#a(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(o.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#a(e,t,n){const o={name:\"\",selector:\"\"};for(let a=0;a<t.length;a++){const i=e[t[a]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){o.name=t[a],o.selector=i;break}}return o}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:o,displayCapping:a,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:p,actualPosition:l}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${l}]|[${o}]|[${a}]|[${i}]|[${s}]|[${p}];`}(e),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,o=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,o))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#o(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"push_edito","id":"41631","location":["push-edito_location_dpw"],"position_dpw":["dpw_comptes_1","dpw_assurances_1","dpw_documents_1"],"image":"STATIC_IMAGE_PATH99709-1b64fc47-bdd4-41de-9748-60fcf11655e0.png","title":"Votre banque à distance, à votre service","description":"Découvrez toutes les opérations réalisables depuis votre mobile ou votre ordinateur","cta":"En savoir plus","url_desktop":"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/toutes-vos-operations-a-distance.aspx","legal":"","priority":"199","displayCapping":"3","clickCapping":"","campaign_type":"G","market":"push-edito_particuliers","category":"selfcare","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590329,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"35297\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\",\"cyber_synthese\",\"cyber_infose\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"//4vyyj99q5t.bpce-hosting.kameleoon.eu/images/87935-6ca02a95-d553-4521-9320-74f06f5b6747.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/nouvelles-fonctionnalites-appli-pilotage-carte.aspx?xtcr=1&xtmc=pilotage_de_la_carte&vary=2-0-0\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"399\",\"displayCapping\":\"20\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"35297","location":"lameBP_location_cyber","position_cyber":["cyber_homepage","cyber_synthese","cyber_infose"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"//4vyyj99q5t.bpce-hosting.kameleoon.eu/images/87935-6ca02a95-d553-4521-9320-74f06f5b6747.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/nouvelles-fonctionnalites-appli-pilotage-carte.aspx?xtcr=1&xtmc=pilotage_de_la_carte&vary=2-0-0","ancien_url_desktop_tache":"","priority":"399","displayCapping":"20","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590332,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"40600\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"//arpfxvgcm0.bpce-hosting.kameleoon.eu/images/89872-97d86453-21eb-4e16-9088-7ae0e6f89ab3.png\",\"ancien_url_desktop\":\"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/epargne-retraite-banque-populaire.aspx\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"600\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_professionnels\",\"category\":\"epargne\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"40600","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"//arpfxvgcm0.bpce-hosting.kameleoon.eu/images/89872-97d86453-21eb-4e16-9088-7ae0e6f89ab3.png","ancien_url_desktop":"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/epargne-retraite-banque-populaire.aspx","ancien_url_desktop_tache":"","priority":"600","displayCapping":"","clickCapping":"","campaign_type":"P","market":"lameBP_professionnels","category":"epargne","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590334,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"35210\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"//4vyyj99q5t.bpce-hosting.kameleoon.eu/images/87887-c163b85f-14ef-4a87-a881-a5bf3fa4e3a9.png\",\"ancien_url_desktop\":\"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/epargne-retraite-banque-populaire.aspx\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"7\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"epargne\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"35210","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"//4vyyj99q5t.bpce-hosting.kameleoon.eu/images/87887-c163b85f-14ef-4a87-a881-a5bf3fa4e3a9.png","ancien_url_desktop":"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/epargne-retraite-banque-populaire.aspx","ancien_url_desktop_tache":"","priority":"799","displayCapping":"7","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"epargne","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590341,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"42284\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/101983-b6008dbc-6569-43d0-8c26-7409abd0fa07.jpg\",\"ancien_url_desktop\":\"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/financement-privilege.aspx\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"950\",\"displayCapping\":\"5\",\"clickCapping\":\"\",\"campaign_type\":\"S\",\"market\":\"lameBP_professionnels\",\"category\":\"credit\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"42284","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH101983-b6008dbc-6569-43d0-8c26-7409abd0fa07.jpg","ancien_url_desktop":"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/financement-privilege.aspx","ancien_url_desktop_tache":"","priority":"950","displayCapping":"5","clickCapping":"","campaign_type":"S","market":"lameBP_professionnels","category":"credit","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590343,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"41245\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\",\"cyber_infose\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/100371-bf576a07-f67d-44b6-9ce5-4e1fb367101e.png\",\"ancien_url_desktop\":\"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/covid19/toujours-a-vos-cotes-1.aspx?vary=0-0-0\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"299\",\"displayCapping\":\"10\",\"clickCapping\":\"\",\"campaign_type\":\"G\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"41245","location":"lameBP_location_cyber","position_cyber":["cyber_homepage","cyber_infose"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH100371-bf576a07-f67d-44b6-9ce5-4e1fb367101e.png","ancien_url_desktop":"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/covid19/toujours-a-vos-cotes-1.aspx?vary=0-0-0","ancien_url_desktop_tache":"","priority":"299","displayCapping":"10","clickCapping":"","campaign_type":"G","market":"lameBP_particuliers","category":"banque","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590344,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"41615\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\",\"cyber_telecommande\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/100134-0942976c-8f00-4fb0-82e5-751a1b6f9997.jpg\",\"ancien_url_desktop\":\"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/toutes-vos-operations-a-distance.aspx\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"299\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"G\",\"market\":\"lameBP_particuliers\",\"category\":\"selfcare\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"41615","location":"lameBP_location_cyber","position_cyber":["cyber_homepage","cyber_telecommande"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH100134-0942976c-8f00-4fb0-82e5-751a1b6f9997.jpg","ancien_url_desktop":"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/toutes-vos-operations-a-distance.aspx","ancien_url_desktop_tache":"","priority":"299","displayCapping":"","clickCapping":"","campaign_type":"G","market":"lameBP_particuliers","category":"selfcare","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590345,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"38593\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/100206-45a92b25-ef88-4501-b41e-acda59aaaad1.jpg\",\"ancien_url_desktop\":\"https://youtu.be/43Ki7hi_SVE\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"750\",\"displayCapping\":\"3\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"38593","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH100206-45a92b25-ef88-4501-b41e-acda59aaaad1.jpg","ancien_url_desktop":"https://youtu.be/43Ki7hi_SVE","ancien_url_desktop_tache":"","priority":"750","displayCapping":"3","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590346,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"41453\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_infose\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/100685-0ed23d4c-d620-4078-89d5-12a655a56792.jpg\",\"ancien_url_desktop\":\"/portailinternet/Editorial/Informations/Pages/covid19/securisez-votre-compte-les-bons-reflexes-a-adopter-1.aspx\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"200\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"S\",\"market\":\"lameBP_particuliers\",\"category\":\"selfcare\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"41453","location":"lameBP_location_cyber","position_cyber":["cyber_infose"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH100685-0ed23d4c-d620-4078-89d5-12a655a56792.jpg","ancien_url_desktop":"/portailinternet/Editorial/Informations/Pages/covid19/securisez-votre-compte-les-bons-reflexes-a-adopter-1.aspx","ancien_url_desktop_tache":"","priority":"200","displayCapping":"","clickCapping":"","campaign_type":"S","market":"lameBP_particuliers","category":"selfcare","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590348,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"41216\",\"idtest\":\"41216\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_synthese\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/100369-77186c61-da50-4fd0-9a3b-eb5001117051.jpg\",\"ancien_url_desktop\":\"https://youtu.be/43Ki7hi_SVE\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"299\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"G\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"41216","idtest":"41216","location":"lameBP_location_cyber","position_cyber":["cyber_synthese"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH100369-77186c61-da50-4fd0-9a3b-eb5001117051.jpg","ancien_url_desktop":"https://youtu.be/43Ki7hi_SVE","ancien_url_desktop_tache":"","priority":"299","displayCapping":"","clickCapping":"","campaign_type":"G","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590349,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"41885\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/101245-b3bd2dd4-c67f-48c9-8d12-f5c24c37b5ea.jpg\",\"ancien_url_desktop\":\"https://www.youtube.com/watch?v=n58n1M5iWwY&feature=youtu.be\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"399\",\"displayCapping\":\"7\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"41885","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH101245-b3bd2dd4-c67f-48c9-8d12-f5c24c37b5ea.jpg","ancien_url_desktop":"https://www.youtube.com/watch?v=n58n1M5iWwY&feature=youtu.be","ancien_url_desktop_tache":"","priority":"399","displayCapping":"7","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590352,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"39800\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/96765-966301f3-ae48-4ab4-a187-919b6df4e7e5.jpg\",\"ancien_url_desktop\":\"https://www.fidpro.banquepopulaire.fr\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"5\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_professionnels\",\"category\":\"bancarisation\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"39800","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH96765-966301f3-ae48-4ab4-a187-919b6df4e7e5.jpg","ancien_url_desktop":"https://www.fidpro.banquepopulaire.fr","ancien_url_desktop_tache":"","priority":"799","displayCapping":"5","clickCapping":"","campaign_type":"P","market":"lameBP_professionnels","category":"bancarisation","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590353,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"40094\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/97579-a00d6e55-00aa-440f-b5c8-95db2c7cf53f.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/services-banque-a-distance/mes-credits/informations-et-gestion-de-mon-credit-renouvelable-facelia.aspx?vary=2-0-0nouveau\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"7\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"credit\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"40094","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH97579-a00d6e55-00aa-440f-b5c8-95db2c7cf53f.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/services-banque-a-distance/mes-credits/informations-et-gestion-de-mon-credit-renouvelable-facelia.aspx?vary=2-0-0nouveau","ancien_url_desktop_tache":"","priority":"799","displayCapping":"7","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"credit","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590356,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"41037\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/100090-4917d3a5-f5a7-4532-a260-0740589bb9b1.jpg\",\"ancien_url_desktop\":\"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/payplug-solution-de-paiement-en-ligne.aspx\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"7\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_entreprises\",\"category\":\"bancarisation\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"41037","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH100090-4917d3a5-f5a7-4532-a260-0740589bb9b1.jpg","ancien_url_desktop":"https://www.rivesparis.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/payplug-solution-de-paiement-en-ligne.aspx","ancien_url_desktop_tache":"","priority":"799","displayCapping":"7","clickCapping":"","campaign_type":"P","market":"lameBP_entreprises","category":"bancarisation","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590359,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"41842\",\"idtest\":\"41842\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/101237-b1a02423-1aa6-417e-a0c3-8130f7a31661.png\",\"ancien_url_desktop\":\"https://www.youtube.com/watch?v=2kxpVF1HXS0\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"399\",\"displayCapping\":\"7\",\"clickCapping\":\"\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"41842","idtest":"41842","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH101237-b1a02423-1aa6-417e-a0c3-8130f7a31661.png","ancien_url_desktop":"https://www.youtube.com/watch?v=2kxpVF1HXS0","ancien_url_desktop_tache":"","priority":"399","displayCapping":"7","clickCapping":"","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590360,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_type:\"push_edito\",id:\"41894\",location:[\"push-edito_location_dpw\"],position_dpw:[\"dpw_comptes_1\"],image:\"https://arpfxvgcm0.kameleoon.eu/images/100690-bd96d38e-4aaa-47f0-bc61-39b26cb0b54f.png\",title:\"Carte bancaire\",description:\"Maîtrisez votre carte bancaire : verrouillez-la temporairement depuis votre smartphone\",cta:\"En savoir plus\",url_desktop:\"https://www.youtube.com/watch?v=Rdzk_viESXk&feature=youtu.be\",legal:\"\",priority:\"399\",displayCapping:\"7\",clickCapping:\"\",campaign_type:\"P\",market:\"push-edito_particuliers\",category:\"banque\",product_code:\"\",domElementSelector:\"\",positionSelectorRelative:\"REPLACE\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:41894,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(41894)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#o(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const o=this.#a(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(o.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#a(e,t,n){const o={name:\"\",selector:\"\"};for(let a=0;a<t.length;a++){const i=e[t[a]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){o.name=t[a],o.selector=i;break}}return o}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:o,displayCapping:a,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:l,actualPosition:c}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${c}]|[${o}]|[${a}]|[${i}]|[${s}]|[${l}];`}(e),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,o=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,o))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#o(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"push_edito","id":"41894","location":["push-edito_location_dpw"],"position_dpw":["dpw_comptes_1"],"image":"STATIC_IMAGE_PATH100690-bd96d38e-4aaa-47f0-bc61-39b26cb0b54f.png","title":"Carte bancaire","description":"Maîtrisez votre carte bancaire : verrouillez-la temporairement depuis votre smartphone","cta":"En savoir plus","url_desktop":"https://www.youtube.com/watch?v=Rdzk_viESXk&feature=youtu.be","legal":"","priority":"399","displayCapping":"7","clickCapping":"","campaign_type":"P","market":"push-edito_particuliers","category":"banque","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590361,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_type:\"push_edito\",id:\"41861\",location:[\"push-edito_location_dpw\"],position_dpw:[\"dpw_comptes_1\"],image:\"https://arpfxvgcm0.kameleoon.eu/images/100687-2087e93d-ff50-435e-9019-aae7e7aa5585.png\",title:\"Carte bancaire\",description:\"Consultez le code secret de votre carte bancaire depuis votre application\",cta:\"En savoir plus\",url_desktop:\"https://www.youtube.com/watch?v=n58n1M5iWwY&feature=youtu.be\",legal:\"\",priority:\"399\",displayCapping:\"7\",clickCapping:\"\",campaign_type:\"P\",market:\"push-edito_particuliers\",category:\"banque\",product_code:\"\",domElementSelector:\"\",positionSelectorRelative:\"REPLACE\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:41861,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(41861)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#o(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const o=this.#a(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(o.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#a(e,t,n){const o={name:\"\",selector:\"\"};for(let a=0;a<t.length;a++){const i=e[t[a]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){o.name=t[a],o.selector=i;break}}return o}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:o,displayCapping:a,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:c,actualPosition:l}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${l}]|[${o}]|[${a}]|[${i}]|[${s}]|[${c}];`}(e),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,o=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,o))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#o(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"push_edito","id":"41861","location":["push-edito_location_dpw"],"position_dpw":["dpw_comptes_1"],"image":"STATIC_IMAGE_PATH100687-2087e93d-ff50-435e-9019-aae7e7aa5585.png","title":"Carte bancaire","description":"Consultez le code secret de votre carte bancaire depuis votre application","cta":"En savoir plus","url_desktop":"https://www.youtube.com/watch?v=n58n1M5iWwY&feature=youtu.be","legal":"","priority":"399","displayCapping":"7","clickCapping":"","campaign_type":"P","market":"push-edito_particuliers","category":"banque","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590362,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_type:\"push_edito\",id:\"32328\",location:[\"push-edito_location_dpw\"],position_dpw:[\"dpw_comptes_1\"],image:\"//4vyyj99q5t.bpce-hosting.kameleoon.eu/images/91324-3aef508d-dd0b-4829-9df7-4865cf71c857.png\",title:\"Découvrir Sécur'Pass\",description:\"Simplifiez vos opérations bancaires\",cta:\"Gagnez du temps\",url_desktop:\"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/securpass.aspx?vary=2-0-0\",legal:\"\",priority:\"1\",displayCapping:\"\",clickCapping:\"\",campaign_type:\"G\",market:\"push-edito_particuliers\",category:null,product_code:\"\",domElementSelector:\"\",positionSelectorRelative:\"REPLACE\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:32328,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(32328)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#o(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const o=this.#a(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(o.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#a(e,t,n){const o={name:\"\",selector:\"\"};for(let a=0;a<t.length;a++){const i=e[t[a]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){o.name=t[a],o.selector=i;break}}return o}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:o,displayCapping:a,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:l,actualPosition:p}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${p}]|[${o}]|[${a}]|[${i}]|[${s}]|[${l}];`}(e),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,o=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,o))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#o(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"push_edito","id":"32328","location":["push-edito_location_dpw"],"position_dpw":["dpw_comptes_1"],"image":"//4vyyj99q5t.bpce-hosting.kameleoon.eu/images/91324-3aef508d-dd0b-4829-9df7-4865cf71c857.png","title":"Découvrir Sécur'Pass","description":"Simplifiez vos opérations bancaires","cta":"Gagnez du temps","url_desktop":"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/securpass.aspx?vary=2-0-0","legal":"","priority":"1","displayCapping":"","clickCapping":"","campaign_type":"G","market":"push-edito_particuliers","category":null,"product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590365,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_type:\"push_edito\",id:\"38552\",location:[\"push-edito_location_dpw\"],position_dpw:[\"dpw_comptes_1\"],image:\"https://arpfxvgcm0.kameleoon.eu/images/95182-33f6c853-b882-4c87-a505-531f4ab89141.png\",title:\"L'application mobile\",description:\"L'application mobile devient indispensable pour valider vos paiements par carte bancaire sur internet avec Sécur'Pass\",cta:\"En savoir plus\",url_desktop:\"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/services-banque-a-distance/connecter-espace-perso/telecharger-application-mobile.aspx?vary=2-0-243\",legal:\"\",priority:\"999\",displayCapping:\"5\",clickCapping:\"\",campaign_type:\"P\",market:\"push-edito_particuliers\",category:\"banque\",product_code:\"\",domElementSelector:\"\",positionSelectorRelative:\"REPLACE\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:38552,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(38552)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#a(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const a=this.#o(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(a.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#o(e,t,n){const a={name:\"\",selector:\"\"};for(let o=0;o<t.length;o++){const i=e[t[o]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){a.name=t[o],a.selector=i;break}}return a}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:a,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:p,actualPosition:l}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${l}]|[${a}]|[${o}]|[${i}]|[${s}]|[${p}];`}(e),a={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,a=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return a&&a===n})(e)&&(a[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,a),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,a=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,a))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#a(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"push_edito","id":"38552","location":["push-edito_location_dpw"],"position_dpw":["dpw_comptes_1"],"image":"STATIC_IMAGE_PATH95182-33f6c853-b882-4c87-a505-531f4ab89141.png","title":"L'application mobile","description":"L'application mobile devient indispensable pour valider vos paiements par carte bancaire sur internet avec Sécur'Pass","cta":"En savoir plus","url_desktop":"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/services-banque-a-distance/connecter-espace-perso/telecharger-application-mobile.aspx?vary=2-0-243","legal":"","priority":"999","displayCapping":"5","clickCapping":"","campaign_type":"P","market":"push-edito_particuliers","category":"banque","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590366,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_type:\"native_ad\",id:\"39665\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_placement_financier\"],native_ad_title:\"Soyez acteur d’un avenir plus responsable\",native_ad_description:\"Découvrez les solutions pour préparer votre retraite\",native_ad_cta:\"En savoir plus\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/portailinternet/Catalogue/Produits/Pages/plan-epargne-retraite-pro.aspx\",native_ad_url_deeplink:\"\",native_ad_legal:\"\",priority:\"799\",displayCapping:\"7\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"epargne\",product_code:\"\",domElementSelector:\"\",positionSelectorRelative:\"REPLACE\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction a(e,n,t){const o=e.parentNode;o&&(n.test(o.id)?o.classList.add(t):a(o,n,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=39665,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(39665)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const n=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,r;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=n,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,r=function(e){var a=e.replace(/\\*/g,\"\");return o[a]?o[a]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,r))}));const s=function(e){const a=(e,a)=>a&&e?a(e):e||\"\",n=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${a(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${a(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${a(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${a(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${a(e.native_ad_cta)}</span>\\n    </div>\\n    `;return n.classList.add(\"kameleoon-native-ad-container\"),n.innerHTML=t,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(a=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const a=e=>{const{id:a,clickCapping:n}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===a))?.[0]?.count.toString();return t&&t===n},n=e=>{const{persoID:a,category:n,priority:t,displayCapping:o,clickCapping:i,campaign_type:r}=e,{name:s,segmentName:d,actualPosition:c}=window.kameleoonAutopromoPerso[a];return`[${s}]|[${a}]|[${n}]|[${c}]|[${t}]|[${o}]|[${i}]|[${r}]|[${d}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=n(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};a(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const n=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(n,\"_blank\")})),n}(n);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,n,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!n.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+n.persoID,r=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,a,n){const t={};for(let o=0;o<a.length;o++)if(e[a[o]]&&document.querySelector(e[a[o]])&&!document.querySelector(e[a[o]]).className.match(n)){t.position=e[a[o]],t.name=a[o];break}return t}(t,n.position_dpw,o),s=document.querySelector(r.position),d=/kam-family/i,c=\"kameleoon-native-ad__visible\";s&&!document.querySelector(i)&&(s.appendChild(e),s.classList.add(i),a(s,d,c))}(s,n,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad","id":"39665","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_placement_financier"],"native_ad_title":"Soyez acteur d’un avenir plus responsable","native_ad_description":"Découvrez les solutions pour préparer votre retraite","native_ad_cta":"En savoir plus","native_ad_url_desktop":"https://www.banquepopulaire.fr/portailinternet/Catalogue/Produits/Pages/plan-epargne-retraite-pro.aspx","native_ad_url_deeplink":"","native_ad_legal":"","priority":"799","displayCapping":"7","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"epargne","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590369,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"vignette\",\"id\":\"45068\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/107838-d8ced4d9-cb41-46fd-b9f3-a09375544e04.png\",\"ancien_url_desktop\":\"https://www.ibps.rivesparis.banquepopulaire.fr/cyber/internet/ExternalStartTask.do?taskId=ordreBourseCTJ&numeroISIN=FR0000000000\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"999\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"autre\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"vignette","id":"45068","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH107838-d8ced4d9-cb41-46fd-b9f3-a09375544e04.png","ancien_url_desktop":"https://www.ibps.rivesparis.banquepopulaire.fr/cyber/internet/ExternalStartTask.do?taskId=ordreBourseCTJ&numeroISIN=FR0000000000","ancien_url_desktop_tache":"","priority":"999","displayCapping":"","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"autre","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":590375,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"44136\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/106010-96d16805-3afb-49f0-bbe4-c74f7a2ec085.jpg\",\"ancien_url_desktop\":\"https://www.directetproche-banquepopulaire.fr/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"5\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"autre\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"44136","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH106010-96d16805-3afb-49f0-bbe4-c74f7a2ec085.jpg","ancien_url_desktop":"https://www.directetproche-banquepopulaire.fr/","ancien_url_desktop_tache":"","priority":"799","displayCapping":"5","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"autre","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":607643,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"49023\",\"idtest\":\"49023\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/111884-434fe15d-85f3-48ae-80be-96cb4aa7be2c.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/banque-a-distance/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"4\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"49023","idtest":"49023","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH111884-434fe15d-85f3-48ae-80be-96cb4aa7be2c.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/banque-a-distance/","ancien_url_desktop_tache":"","priority":"799","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":607655,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"49033\",\"idtest\":\"49033\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/111887-2670ab31-1e61-4ee6-957e-5dcb03be6df3.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/comptes-cartes/facilipop/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"4\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"49033","idtest":"49033","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH111887-2670ab31-1e61-4ee6-957e-5dcb03be6df3.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/comptes-cartes/facilipop/","ancien_url_desktop_tache":"","priority":"799","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":607671,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"49043\",\"idtest\":\"49043\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/112465-b4a467f0-6a9e-4f7b-9ffa-aa3dbe0b78ac.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/fonction-publique/#anchor-devenir-societaire\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"4\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"49043","idtest":"49043","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH112465-b4a467f0-6a9e-4f7b-9ffa-aa3dbe0b78ac.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/fonction-publique/#anchor-devenir-societaire","ancien_url_desktop_tache":"","priority":"799","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":607760,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"49073\",\"idtest\":\"49073\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/111896-a190210b-09d5-4dfe-b442-417032a12802.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=RDV#noseo\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"4\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"49073","idtest":"49073","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH111896-a190210b-09d5-4dfe-b442-417032a12802.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=RDV#noseo","ancien_url_desktop_tache":"","priority":"799","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":607800,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"49102\",\"idtest\":\"49102\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/111917-437ae835-1d24-4ce5-9385-91ef774e557d.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/epargner/depot-solidarite-casden/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"4\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"49102","idtest":"49102","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH111917-437ae835-1d24-4ce5-9385-91ef774e557d.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/epargner/depot-solidarite-casden/","ancien_url_desktop_tache":"","priority":"799","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":607814,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"49114\",\"idtest\":\"49114\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/111920-88880dbc-5770-4733-8002-c0614ed3b8d8.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=RDV#noseo\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"4\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"49114","idtest":"49114","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH111920-88880dbc-5770-4733-8002-c0614ed3b8d8.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=RDV#noseo","ancien_url_desktop_tache":"","priority":"799","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":612160,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"49084\",\"idtest\":\"49084\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/111910-f2a95a39-f518-4f75-a561-e028686cf122.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/banque-a-distance/application-mobile-banque-populaire-2/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"4\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"49084","idtest":"49084","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH111910-f2a95a39-f518-4f75-a561-e028686cf122.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/banque-a-distance/application-mobile-banque-populaire-2/","ancien_url_desktop_tache":"","priority":"799","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":612163,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"49123\",\"idtest\":\"49123\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/112471-12023519-50f7-46ef-9aea-022834dc39e0.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/comptes-cartes/facilipop/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"799\",\"displayCapping\":\"4\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"49123","idtest":"49123","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH112471-12023519-50f7-46ef-9aea-022834dc39e0.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/comptes-cartes/facilipop/","ancien_url_desktop_tache":"","priority":"799","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":648405,"css":"","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"native_ad_app\",\"id\":\"native_ad_RHYH0EOLE6QM\",\"native_ad_location\":[\"native_ad_location_app_iOS\",\"native_ad_location_app_Android\"],\"native_ad_position_app\":[\"app_comptes_compte\"],\"native_ad_title\":\"Vous avez des projets, des besoins, des envies, ...?\",\"native_ad_description\":\"Votre conseiller a estimé le montant de prêt personnel qui pourrait vous être proposé au regard de votre situation financière.\",\"native_ad_cta\":\"Découvrir votre estimation\",\"native_ad_url_desktop\":\"\",\"native_ad_url_internal_BPCE\":\"true\",\"native_ad_url_deeplink\":\"ad.dpn.link.souscrire.conso.potentiel\",\"native_ad_legal\":\"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.\",\"priority\":\"100\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"ciblage_type\":\"native_ad_ciblage_crm\",\"segmentMobile\":\"TEST_DPA4\",\"native_ad_distribution\":\"P\",\"category\":\"credit\",\"product_code\":\"\",\"domElementSelector\":\"\",\"positionSelectorRelative\":\"REPLACE\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\nvar never = false;\nif (never) {\n    console.warn('The JS engine has been changed. Alarm!');\n}})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","id":"native_ad_RHYH0EOLE6QM","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"Vous avez des projets, des besoins, des envies, ...?","native_ad_description":"Votre conseiller a estimé le montant de prêt personnel qui pourrait vous être proposé au regard de votre situation financière.","native_ad_cta":"Découvrir votre estimation","native_ad_url_desktop":"","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"ad.dpn.link.souscrire.conso.potentiel","native_ad_legal":"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.","priority":"100","displayCapping":"","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"TEST_DPA4","native_ad_distribution":"P","category":"credit","product_code":"","domElementSelector":"","positionSelectorRelative":"REPLACE","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":663723,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw\",widget_type:\"push_edito\",id:\"54867\",widget_brand:\"bp\",location:[\"push-edito_location_dpw\"],position_dpw:[\"dpw_comptes_1\"],image:\"https://arpfxvgcm0.kameleoon.eu/images/114178-62895314-ab2a-4669-b43e-3cddd1e0ec16.png\",title:\"BIENVENUE DANS VOTRE UNIVERS VERYPOP !\",description:\"Accédez à un monde d'avantages toujours plus attractifs...\",cta:\"Accéder\",url_desktop:\"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=ROUT_ASSURANCES&idAppelant=VERYPOP&partenaire=horsGroupe\",legal:\"\",priority:\"999\",displayCapping:\"\",clickCapping:\"\",campaign_type:\"S\",market:\"push-edito_particuliers\",category:\"autre\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:54867,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(54867)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#o(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const o=this.#a(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(o.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#a(e,t,n){const o={name:\"\",selector:\"\"};for(let a=0;a<t.length;a++){const i=e[t[a]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){o.name=t[a],o.selector=i;break}}return o}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:o,displayCapping:a,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:p,actualPosition:c}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${c}]|[${o}]|[${a}]|[${i}]|[${s}]|[${p}];`}(e),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,o=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,o))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#o(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw","widget_type":"push_edito","id":"54867","widget_brand":"bp","location":["push-edito_location_dpw"],"position_dpw":["dpw_comptes_1"],"image":"STATIC_IMAGE_PATH114178-62895314-ab2a-4669-b43e-3cddd1e0ec16.png","title":"BIENVENUE DANS VOTRE UNIVERS VERYPOP !","description":"Accédez à un monde d'avantages toujours plus attractifs...","cta":"Accéder","url_desktop":"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=ROUT_ASSURANCES&idAppelant=VERYPOP&partenaire=horsGroupe","legal":"","priority":"999","displayCapping":"","clickCapping":"","campaign_type":"S","market":"push-edito_particuliers","category":"autre","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":664421,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"54926\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/105717-e130d262-606e-4427-aa10-6960e5d11652.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/professionnels/gerer-developper-activite/application-pro-banque-populaire/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"399\",\"displayCapping\":\"7\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_professionnels\",\"category\":\"autre\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"54926","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH105717-e130d262-606e-4427-aa10-6960e5d11652.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/professionnels/gerer-developper-activite/application-pro-banque-populaire/","ancien_url_desktop_tache":"","priority":"399","displayCapping":"7","clickCapping":"","campaign_type":"P","market":"lameBP_professionnels","category":"autre","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":667788,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"33165\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"//static.kameleoon.com/images/customers/4vyyj99q5t/0/uploads/82425-323bec5d-d049-4d1f-8489-cf21ea32561f.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/professionnels/conseils/gerer-ses-comptes-pro-au-quotidien/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"400\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"S\",\"market\":\"lameBP_entreprises\",\"category\":\"bancarisation\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"33165","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"//static.kameleoon.com/images/customers/4vyyj99q5t/0/uploads/82425-323bec5d-d049-4d1f-8489-cf21ea32561f.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/professionnels/conseils/gerer-ses-comptes-pro-au-quotidien/","ancien_url_desktop_tache":"","priority":"400","displayCapping":"","clickCapping":"","campaign_type":"S","market":"lameBP_entreprises","category":"bancarisation","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":669487,"css":"","elementSets":[],"javaScriptCode":{"code":"document.getElementById(\"kameleoonElement984920\").src=\"https://cny8knadj9.bpce-hosting.kameleoon.eu/images/119943-f4ffefcc-c5c7-45c9-954c-b8cb3242e431.png\";","afterDOMReady":false}},{"name":"Variation 1","id":672512,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"38953\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/104255-674c32a0-aba7-4779-92f5-778ad788ddac.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/potentiel?codebanque=10207\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"500\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"credit\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"38953","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH104255-674c32a0-aba7-4779-92f5-778ad788ddac.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/potentiel?codebanque=10207","ancien_url_desktop_tache":"","priority":"500","displayCapping":"","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":672513,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw\",widget_brand:\"bp\",widget_type:\"native_ad\",id:\"38973\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_compte\"],native_ad_title:\"Vous avez des projets, des besoins, des envies, ...?\",native_ad_description:\"Votre conseiller a estimé le montant de prêt personnel qui pourrait vous être proposé au regard de votre situation financière\",native_ad_cta:\"Découvrir votre estimation\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/potentiel?codebanque=10207\",native_ad_legal:\"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager\",priority:\"500\",displayCapping:\"\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"credit\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction n(e,t,a){const o=e.parentNode;o&&(t.test(o.id)?o.classList.add(a):n(o,t,a))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=38973,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(38973)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const t=e;\n/**\n * \n * @param {*} perso \n */\nvar a,o,i,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */a=t,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var n=e.replace(/\\*/g,\"\");return o[n]?o[n]:e},Object.keys(a).forEach((function(e){e.match(\"url\")&&(a[e]=a[e].replace(i,s))}));const r=function(e){const n=(e,n)=>n&&e?n(e):e||\"\",t=document.createElement(\"div\"),a=`\\n    <div class=\"kameleoon-native-ad ${n(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${n(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${n(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${n(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${n(e.native_ad_cta)}</span>\\n    </div>\\n    `;return t.classList.add(\"kameleoon-native-ad-container\"),t.innerHTML=a,Kameleoon.API.Utils.addEventListener(t.children[0],\"click\",(n=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const n=e=>{const{id:n,clickCapping:t}=e,a=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return a&&a===t},t=e=>{const{persoID:n,category:t,priority:a,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:d,actualPosition:c}=window.kameleoonAutopromoPerso[n];return`[${r}]|[${n}]|[${t}]|[${c}]|[${a}]|[${o}]|[${i}]|[${s}]|[${d}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const a={},o=t(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};n(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(a,window.datalayer,window.utag_data,i),window.utag.link(a)}))}(e);const t=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(t,\"_blank\")})),t}(t);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,t,a){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!t.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+t.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,n,t){const a={};for(let o=0;o<n.length;o++)if(e[n[o]]&&document.querySelector(e[n[o]])&&!document.querySelector(e[n[o]]).className.match(t)){a.position=e[n[o]],a.name=n[o];break}return a}(a,t.position_dpw,o),r=document.querySelector(s.position),d=/kam-family/i,c=\"kameleoon-native-ad__visible\";r&&!document.querySelector(i)&&(r.appendChild(e),r.classList.add(i),n(r,d,c))}(r,t,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw","widget_brand":"bp","widget_type":"native_ad","id":"38973","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_compte"],"native_ad_title":"Vous avez des projets, des besoins, des envies, ...?","native_ad_description":"Votre conseiller a estimé le montant de prêt personnel qui pourrait vous être proposé au regard de votre situation financière","native_ad_cta":"Découvrir votre estimation","native_ad_url_desktop":"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/potentiel?codebanque=10207","native_ad_legal":"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager","priority":"500","displayCapping":"","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":678767,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_type:\"native_ad\",id:\"57357\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_compte\"],native_ad_title:\"Ne validez pas d’opérations en ligne à la demande d’un tiers \",native_ad_description:\"Des fraudeurs peuvent se faire passer pour votre banque\",native_ad_cta:\"En savoir plus\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/votre-banque/securite/ \",native_ad_url_deeplink:\"\",native_ad_legal:\"\",priority:\"399\",displayCapping:\"2\",clickCapping:\"\",campaign_type:\"G\",market:\"native_ad_particuliers\",category:\"autre\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction a(e,n,t){const o=e.parentNode;o&&(n.test(o.id)?o.classList.add(t):a(o,n,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=57357,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(57357)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const n=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=n,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var a=e.replace(/\\*/g,\"\");return o[a]?o[a]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,s))}));const d=function(e){const a=(e,a)=>a&&e?a(e):e||\"\",n=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${a(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${a(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${a(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${a(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${a(e.native_ad_cta)}</span>\\n    </div>\\n    `;return n.classList.add(\"kameleoon-native-ad-container\"),n.innerHTML=t,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(a=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const a=e=>{const{id:a,clickCapping:n}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===a))?.[0]?.count.toString();return t&&t===n},n=e=>{const{persoID:a,category:n,priority:t,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:d,segmentName:r,actualPosition:c}=window.kameleoonAutopromoPerso[a];return`[${d}]|[${a}]|[${n}]|[${c}]|[${t}]|[${o}]|[${i}]|[${s}]|[${r}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=n(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};a(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const n=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(n,\"_blank\")})),n}(n);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,n,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!n.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+n.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,a,n){const t={};for(let o=0;o<a.length;o++)if(e[a[o]]&&document.querySelector(e[a[o]])&&!document.querySelector(e[a[o]]).className.match(n)){t.position=e[a[o]],t.name=a[o];break}return t}(t,n.position_dpw,o),d=document.querySelector(s.position),r=/kam-family/i,c=\"kameleoon-native-ad__visible\";d&&!document.querySelector(i)&&(d.appendChild(e),d.classList.add(i),a(d,r,c))}(d,n,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad","id":"57357","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_compte"],"native_ad_title":"Ne validez pas d’opérations en ligne à la demande d’un tiers ","native_ad_description":"Des fraudeurs peuvent se faire passer pour votre banque","native_ad_cta":"En savoir plus","native_ad_url_desktop":"https://www.banquepopulaire.fr/votre-banque/securite/ ","native_ad_url_deeplink":"","native_ad_legal":"","priority":"399","displayCapping":"2","clickCapping":"","campaign_type":"G","market":"native_ad_particuliers","category":"autre","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":679808,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_SISPXFFM1JXB","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"Votre conseiller a estimé le montant de prêt personnel qui pourrait vous être proposé au regard de votre situation financière. ","native_ad_description":"","native_ad_cta":"Découvrir votre estimation","native_ad_url_desktop":"","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"ad.dpn.link.souscrire.conso.potentiel","native_ad_legal":"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager. ","priority":"850","displayCapping":"","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_PILOTE_POTENTIELCONSO_CRM_2012","native_ad_distribution":"P","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":680573,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"41905\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/101251-c47618b0-068e-43a0-9e85-b84774c46a88.jpg\",\"ancien_url_desktop\":\"https://www.ibps.rivesparis.banquepopulaire.fr/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=souscriptionEnCours&act=CRESIMASS&prd=51D023\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"500\",\"displayCapping\":\"2\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"assurance\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"41905","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH101251-c47618b0-068e-43a0-9e85-b84774c46a88.jpg","ancien_url_desktop":"https://www.ibps.rivesparis.banquepopulaire.fr/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=souscriptionEnCours&act=CRESIMASS&prd=51D023","ancien_url_desktop_tache":"","priority":"500","displayCapping":"2","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"assurance","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":686381,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"57336\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/121329-4790fccd-c26e-4cce-bc3e-da02b9e33d24.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/votre-banque/securite/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"399\",\"displayCapping\":\"2\",\"clickCapping\":\"\",\"campaign_type\":\"G\",\"market\":\"lameBP_particuliers\",\"category\":\"autre\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"57336","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH121329-4790fccd-c26e-4cce-bc3e-da02b9e33d24.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/votre-banque/securite/","ancien_url_desktop_tache":"","priority":"399","displayCapping":"2","clickCapping":"","campaign_type":"G","market":"lameBP_particuliers","category":"autre","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":687689,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"58542\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/133304-50506810-e69b-4ecc-b0ba-1f9dfaf4f28b.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/assurer/assurance-auto/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"800\",\"displayCapping\":\"3\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"assurance\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"58542","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH133304-50506810-e69b-4ecc-b0ba-1f9dfaf4f28b.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/assurer/assurance-auto/","ancien_url_desktop_tache":"","priority":"800","displayCapping":"3","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"assurance","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":696763,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_CFAAQ83BYRI3","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"Gestion de vos comptes","native_ad_description":"Analysez votre budget d’un simple coup d’œil depuis votre application Banque Populaire.","native_ad_cta":"En savoir plus ","native_ad_url_desktop":"https://www.youtube.com/watch?v=un5-gTc20iQ&list=PLLw1a0PZDwGOT8_H3yAiz70hM8w_LpDiz&index=3","native_ad_url_internal_BPCE":"false","native_ad_url_deeplink":"","native_ad_legal":"","priority":"399","displayCapping":"5","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_MON_BUDGET_CRM_2106","native_ad_distribution":"P","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":696774,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"58948\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_synthese\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/122905-5af16091-dbe3-4c68-950a-5d58927f6209.jpg\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/professionnels/gerer-developper-activite/application-pro-banque-populaire/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"199\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"G\",\"market\":\"lameBP_professionnels\",\"category\":\"autre\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"58948","location":"lameBP_location_cyber","position_cyber":["cyber_synthese"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH122905-5af16091-dbe3-4c68-950a-5d58927f6209.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/professionnels/gerer-developper-activite/application-pro-banque-populaire/","ancien_url_desktop_tache":"","priority":"199","displayCapping":"","clickCapping":"","campaign_type":"G","market":"lameBP_professionnels","category":"autre","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":696776,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"58312\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_telecommande\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/122417-d8d0a1af-41aa-4cad-b18b-eb7f676b8eff.png\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/professionnels/financer-projets/flashfactures/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"199\",\"displayCapping\":\"0\",\"clickCapping\":\"\",\"campaign_type\":\"G\",\"market\":\"lameBP_professionnels\",\"category\":\"dev_activite\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"58312","location":"lameBP_location_cyber","position_cyber":["cyber_telecommande"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH122417-d8d0a1af-41aa-4cad-b18b-eb7f676b8eff.png","ancien_url_desktop":"https://www.banquepopulaire.fr/professionnels/financer-projets/flashfactures/","ancien_url_desktop_tache":"","priority":"199","displayCapping":"0","clickCapping":"","campaign_type":"G","market":"lameBP_professionnels","category":"dev_activite","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":701254,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_co\",\"id\":\"41904\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/101250-4e0e4e8d-eee7-4cf4-b266-e2681a7863ff.jpg\",\"ancien_url_desktop\":\"https://www.ibps.rivesparis.banquepopulaire.fr/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=souscriptionEnCours&amp;act=CRESIMASS&amp;prd=51D017 \",\"ancien_url_desktop_tache\":\"\",\"priority\":\"500\",\"displayCapping\":\"2\",\"clickCapping\":\"\",\"campaign_type\":\"P\",\"market\":\"lameBP_particuliers\",\"category\":\"assurance\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_co","id":"41904","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH101250-4e0e4e8d-eee7-4cf4-b266-e2681a7863ff.jpg","ancien_url_desktop":"https://www.ibps.rivesparis.banquepopulaire.fr/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=souscriptionEnCours&amp;act=CRESIMASS&amp;prd=51D017 ","ancien_url_desktop_tache":"","priority":"500","displayCapping":"2","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"assurance","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":712308,"css":"","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenElementPresent('#kam_lame_10[class*=\"kameleoon__\"]', function () {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn window.TW;\n\t\t},\n\t\tfunction () {\n\t\t\twindow.TW().computeAppPortalHeight();\n\t\t}\n\t);\n});","afterDOMReady":false}},{"name":"Variation 1","id":715238,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"63685\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/129742-d4224f2e-3e7d-4635-9fb1-7841655ea7a2.png\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/professionnels/gerer-developper-activite/secur-pass-pro/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"199\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"G\",\"market\":\"lameBP_professionnels\",\"category\":\"autre\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"63685","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH129742-d4224f2e-3e7d-4635-9fb1-7841655ea7a2.png","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/professionnels/gerer-developper-activite/secur-pass-pro/","ancien_url_desktop_tache":"","priority":"199","displayCapping":"","clickCapping":"","campaign_type":"G","market":"lameBP_professionnels","category":"autre","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":720926,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n  width: 100%;\n  max-width: 1920px;\n  height: auto;\n  margin: 10px 0;\n  background-size: cover;\n  background-repeat: no-repeat;\n  position: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP {\n    margin: 0;\n  }\n}\n\n.kameleoon-lameBP--ancien {\n  height: 350px;\n  cursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--ancien {\n    height: 272px;\n  }\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n  margin-left: 49px;\n  width: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  width: 100%;\n  padding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n    padding: 36px 16px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  width: 500px;\n  padding: 24px 40px;\n  background: #fff;\n  color: black;\n  font-family: 'Ubuntu', sans-serif;\n  line-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 90%;\n    width: 800px;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n    max-width: 100%;\n    padding: 24px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-ordinal-group: 0;\n  -ms-flex-order: -1;\n  order: -1;\n  width: 200px;\n  padding: 10px;\n  margin: auto;\n  border-radius: 20px;\n  background: #ee7337;\n  color: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: distribute;\n  justify-content: space-around;\n  margin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0 2px;\n  font-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 28px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n    font-size: 26px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n  font-size: 32px;\n  font-weight: bold;\n  color: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n    font-size: 28px;\n    line-height: 30px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  font-size: 18px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  color: #fff;\n  background: #04209f;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n  margin-top: 8px;\n  font-size: 10px;\n  color: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 16px;\n  background: #080c33;\n  color: #fff;\n  font-size: 16px;\n  line-height: 18px;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n  margin: 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n    font-size: 14px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 120px 0 120px 80px;\n  color: #fff;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n    margin-top: 40px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  font-size: 16px;\n  margin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  width: 50%;\n  padding: 80px 0 80px 80px;\n  color: #051b71;\n  font-family: 'Ubuntu', sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    width: 100%;\n    padding: 120px 24px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n  text-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  margin: 8px 0;\n  font-size: 40px;\n  font-weight: bold;\n  line-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n    font-size: 38px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n    font-size: 20px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  font-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n    font-size: 18px;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #062499;\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 22px;\n  cursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n  margin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n    margin-top: 40px;\n    width: 100%;\n  }\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n  color: #051b71;\n}\n\n.kameleoon-legal {\n  position: relative;\n  padding: 0 40px;\n  background: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n  width: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal {\n    padding: 0 24px;\n  }\n}\n\n.kameleoon-legal__text {\n  padding: 16px 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 16px;\n  font-family: 'Ubuntu', sans-serif;\n  color: #fff;\n}\np.kameleoon-legal__text strong {\n  font-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n  position: absolute;\n  bottom: 100%;\n  right: 50%;\n  left: 80px;\n  background: none;\n}\n\n@media screen and (max-width: 500px) {\n  .kameleoon-legal__text--transparent {\n    left: initial;\n    right: initial;\n  }\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  padding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n  padding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n  padding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n  position: relative;\n  left: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n  padding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n  width: 100%;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n  position: absolute;\n  top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n  font-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n  font-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n  margin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n  padding: 8px 24px;\n  font-size: 13px;\n}\n\nmain#main .hero-banner {\n  background-color: #fff;\n  overflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n  margin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25v;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 16px;\n    line-height: 16px;\n    display: block;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n    font-weight: bold;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n    margin-top: 16px;\n    width: 100%;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n    order: 5;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 4;\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n    padding: 0 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--moitieBP {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: #051b71;\n    color: white;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n  background-size: cover;\n  background-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n  height: 100%;\n  justify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n  height: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n  margin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n    padding-right: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 360px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.6666vw;\n    line-height: 1.6666vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 2.8125vw;\n    line-height: 2.8125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    margin-top: 16px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 40px;\n    padding-left: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 420px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.28125vw;\n    line-height: 3.28125vw;\n    margin: 8px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 32px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 40px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 40px;\n  }\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 472px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 60px;\n    padding-left: 60px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.25vw;\n    line-height: 1.25vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.33333vw;\n    line-height: 3.33333vw;\n    margin: 12px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 36px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 60px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 60px;\n  }\n}\n@media (min-width: 1920px) {\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    height: 620px;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n    padding-top: 80px;\n    padding-left: 80px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n    font-size: 1.122vw;\n    line-height: 1.122vw;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 3.265vw;\n    line-height: 3.265vw;\n    margin: 16px 0;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    margin-top: 40px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n    width: calc(50% - 80px);\n  }\n  section.hero-banner .kameleoon-legal.outside {\n    padding: 0 80px;\n  }\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-lameBP--image {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 20px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n    margin-top: 0;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: white;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner .kameleoon-lameBP--sans-encart {\n    color: white;\n    padding-top: 50%;\n    background-size: contain;\n    background-position: top;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n    padding: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n    position: relative;\n  }\n\n  section.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    height: 40px;\n    background-color: white;\n    color: #062499;\n  }\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n  position: absolute;\n  bottom: 0;\n  margin-top: 10px;\n  padding: 0;\n  background: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n  background: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n  color: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n  padding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n  margin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n  max-width: 792px;\n  max-height: 297px;\n  overflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n  padding: 0;\n  background-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n  max-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n  max-height: 85px;\n  overflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n  padding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n  color: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n  background-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n  color: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n  color: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 1.71875vw;\n  }\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 40px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner .kameleoon-container .kameleoon-legal {\n    padding: 0 60px;\n  }\n  section.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n    padding: 0;\n  }\n}\n\n@media (min-width: 1920px) {\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    font-size: 22px;\n    line-height: 25px;\n  }\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 64px;\n    line-height: 64px;\n  }\n\n  section.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n    padding-bottom: 16px;\n  }\n\n  .kameleoon-legal {\n    padding: 0 80px;\n  }\n\n  /* Lame Image special */\n  section.hero-banner a.kameleoon-lameBP > img {\n    width: 100%;\n    max-width: 1920px;\n    position: relative;\n    text-align: center;\n  }\n  section.hero-banner a.kameleoon-lameBP {\n    height: 620px;\n    overflow-y: hidden;\n  }\n  section.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n    height: auto;\n  }\n}\n@media (max-width: 959px) {\n  section.hero-banner .kameleoon-container .kameleoon-lameBP {\n    padding-top: 60%;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n    line-height: 22px;\n    font-size: 16px;\n    margin: 16px 0 0;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n    background-color: #051b71;\n  }\n  section.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n    font-size: 38px;\n    line-height: 38px;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n    padding: 0 0 0 0;\n  }\n  section.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n    margin-top: 16px;\n  }\n\n  section.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n    order: 5;\n    position: relative;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-lameBP {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n\n  section.hero-banner div.kameleoon-container {\n    position: relative;\n    padding-top: 37.5%;\n  }\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n  section.hero-banner div.kameleoon-container {\n    padding-top: 32.77778%;\n  }\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    width: auto;\n    max-width: 90%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 8px 24px;\n  }\n}\n\n@media screen and (min-width: 1280px) {\n  section.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n    padding: 16px 24px;\n  }\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n  color: #369ad4;\n  font-weight: inherit;\n}\n.kameleoon-legal strong {\n  color: inherit;\n  font-weight: inherit;\n  font-size: 16px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n  max-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n  width: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n  height: 40px;\n  width: 207px;\n  border: none;\n  outline: none;\n  border-radius: 5px;\n  background: #fff;\n  color: #062499;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 22px;\n  cursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-width: 1920px;\n  margin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n  max-height: 620px;\n  overflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n  cursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n  width: 100%;\n  height: 100%;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"66309\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\",\"cyber_infose\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/131628-0ddfc916-d642-4304-9e17-73adac58f7c2.jpg\",\"ancien_url_desktop\":\"https://www.youtube.com/watch?v=UoERh_aNJ-8&list=PLLw1a0PZDwGPjjgf76Mxc7q1KtpXdu4DG\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"199\",\"displayCapping\":\"\",\"clickCapping\":\"\",\"campaign_type\":\"G\",\"market\":\"lameBP_professionnels\",\"category\":\"autre\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"66309","location":"lameBP_location_cyber","position_cyber":["cyber_homepage","cyber_infose"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_image":"STATIC_IMAGE_PATH131628-0ddfc916-d642-4304-9e17-73adac58f7c2.jpg","ancien_url_desktop":"https://www.youtube.com/watch?v=UoERh_aNJ-8&list=PLLw1a0PZDwGPjjgf76Mxc7q1KtpXdu4DG","ancien_url_desktop_tache":"","priority":"199","displayCapping":"","clickCapping":"","campaign_type":"G","market":"lameBP_professionnels","category":"autre","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":722669,"css":"","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"native_ad_app\",\"id\":\"native_ad_5YSQQHDOKZD4\",\"native_ad_location\":[\"native_ad_location_app_iOS\",\"native_ad_location_app_Android\"],\"native_ad_position_app\":[\"app_comptes_compte\"],\"native_ad_title\":\"Futurs propriétaires, prenez de l’assurance ! \",\"native_ad_description\":\"Découvrez la nouvelle assurance habitation en ligne.  \",\"native_ad_cta\":\"Simulez\",\"native_ad_url_desktop\":\"\",\"native_ad_url_internal_BPCE\":\"true\",\"native_ad_url_deeplink\":\"ad.dpn.link.insurance.simulators.hub\",\"native_ad_legal\":\"\",\"priority\":\"850\",\"displayCapping\":\"5\",\"clickCapping\":\"\",\"ciblage_type\":\"native_ad_ciblage_crm\",\"segmentMobile\":\"PART_ASSUR_FUTUR_PROPRIETAIRE\",\"native_ad_distribution\":\"P\",\"category\":\"assurance\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\nvar never = false;\nif (never) {\n    console.warn('The JS engine has been changed. Alarm!');\n}})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","id":"native_ad_5YSQQHDOKZD4","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"Futurs propriétaires, prenez de l’assurance ! ","native_ad_description":"Découvrez la nouvelle assurance habitation en ligne.  ","native_ad_cta":"Simulez","native_ad_url_desktop":"","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"ad.dpn.link.insurance.simulators.hub","native_ad_legal":"","priority":"850","displayCapping":"5","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_ASSUR_FUTUR_PROPRIETAIRE","native_ad_distribution":"P","category":"assurance","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":722671,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_type:\"native_ad\",id:\"66990\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_compte\",\"dpw_assurances_logement\"],native_ad_title:\"Futurs propriétaires, prenez de l’assurance ! \",native_ad_description:\"Découvrez la nouvelle assurance habitation en ligne.  \",native_ad_cta:\"En savoir plus\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/rivesparis/assurer/assurance-habitation/\",native_ad_legal:\"\",priority:\"850\",displayCapping:\"5\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"assurance\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction a(e,n,t){const o=e.parentNode;o&&(n.test(o.id)?o.classList.add(t):a(o,n,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=66990,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(66990)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const n=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=n,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var a=e.replace(/\\*/g,\"\");return o[a]?o[a]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,s))}));const r=function(e){const a=(e,a)=>a&&e?a(e):e||\"\",n=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${a(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${a(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${a(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${a(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${a(e.native_ad_cta)}</span>\\n    </div>\\n    `;return n.classList.add(\"kameleoon-native-ad-container\"),n.innerHTML=t,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(a=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const a=e=>{const{id:a,clickCapping:n}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===a))?.[0]?.count.toString();return t&&t===n},n=e=>{const{persoID:a,category:n,priority:t,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:c,actualPosition:d}=window.kameleoonAutopromoPerso[a];return`[${r}]|[${a}]|[${n}]|[${d}]|[${t}]|[${o}]|[${i}]|[${s}]|[${c}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=n(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};a(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const n=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(n,\"_blank\")})),n}(n);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,n,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!n.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+n.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,a,n){const t={};for(let o=0;o<a.length;o++)if(e[a[o]]&&document.querySelector(e[a[o]])&&!document.querySelector(e[a[o]]).className.match(n)){t.position=e[a[o]],t.name=a[o];break}return t}(t,n.position_dpw,o),r=document.querySelector(s.position),c=/kam-family/i,d=\"kameleoon-native-ad__visible\";r&&!document.querySelector(i)&&(r.appendChild(e),r.classList.add(i),a(r,c,d))}(r,n,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad","id":"66990","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_compte","dpw_assurances_logement"],"native_ad_title":"Futurs propriétaires, prenez de l’assurance ! ","native_ad_description":"Découvrez la nouvelle assurance habitation en ligne.  ","native_ad_cta":"En savoir plus","native_ad_url_desktop":"https://www.banquepopulaire.fr/rivesparis/assurer/assurance-habitation/","native_ad_legal":"","priority":"850","displayCapping":"5","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"assurance","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":726387,"css":"/* START CUSTOM */\n\n#kameleoonElement-banniere-synthese-cyber {\r\n\tdisplay: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\tmargin-top:5px;\r\n\tcursor:pointer\r\n}\r\n\r\n\r\n#kameleoonElement-banniere-virement-cyber {\r\n\tdisplay: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\tmargin-top:5px;\r\n\tcursor:pointer\r\n}\r\n\r\n#kameleoonElement-banniere-comptes-cyber {\r\n\tdisplay: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\tmargin-top:5px;\r\n\tcursor:pointer\r\n}\r\n\r\n#kameleoonElement-banniere-carte-cyber {\r\n\tdisplay: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n\tmargin-top:5px;\r\n\tcursor:pointer\r\n}","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenConditionTrue(\r\n\tfunction () {\r\n\t\treturn typeof window.datalayer && window.datalayer.pages && window.datalayer.pages.pageName;\r\n\t},\r\n\tfunction () {\r\n\t\tvar pagename = window.datalayer.pages.pageName;\r\n\t\tKameleoon.API.Core.runWhenConditionTrue(\r\n\t\t\tfunction () {\r\n\t\t\t\treturn pagename !== window.datalayer.pages.pageName;\r\n\t\t\t},\r\n\t\t\tfunction () {\r\n\t\t\t\tKameleoon.API.Core.load();\r\n\t\t\t},\r\n\t\t\t500\r\n\t\t);\r\n\t},\r\n\t200\r\n);\r\n\r\nKameleoon.API.Core.runWhenConditionTrue(function(){\r\n  let dl = window.datalayer;\r\nif (typeof window.dpwLegacyScriptData !== \"undefined\"  && typeof dl !== \"undefined\" && dl.pages && dl.pages.applicationName  && window.dpwLegacyScriptData && window.dpwLegacyScriptData.eligibilitedp && window.dpwLegacyScriptData.eligibilitedp == true) {\r\n\tlet regexapplicationName = /cyber/i;\r\n  if (regexapplicationName.test(dl.pages.applicationName)) {\r\n\t\tlet regexPageName = /OppositionCB\\.ChoixCarte|faire opposition|AfficheListeBenef|beneficiaire|virement|accueil connecte /i;\r\n        \t/*\tlet regexPageName = /OppositionCB\\.ChoixCarte|faire opposition|AfficheListeBenef|beneficiaire|virement/i; */\r\n\t\tlet regexPageType = /comptes|Recherche ecritures/i;\r\n\t\tif (regexPageName.test(dl.pages.pageName) || regexPageType.test(dl.pages.pageType)) return true;\r\n\t\telse return false;\r\n\t} else return false;\r\n} else return undefined; /* not needed but more readable */},\r\n  \r\n                                        \r\n               function() {\r\nfunction sendTagClic(libelleClic, typeClic) {\r\n            var obj2 = {};\r\n            Object.assign(obj2, datalayer);\r\n            Object.assign(obj2, utag_data);\r\n            var linkTag = {\"clics.libelle\": libelleClic, \"clics.type\": typeClic, \"evenement.event\": \"event10\" };\r\n            Object.assign(obj2, linkTag);\r\n            utag.link(obj2);\t\r\n        }\r\n let dl = window.datalayer;\r\n\t\r\nvar CodeEtabDL = window.datalayer.clients.idEnttGrpe;\r\nif (CodeEtabDL == '002') var CodeEtab = '10207';\r\nif (CodeEtabDL == '008') var CodeEtab = '10807';\r\nif (CodeEtabDL == '009') var CodeEtab = '10907';\r\nif (CodeEtabDL == '035') var CodeEtab = '13507';\r\nif (CodeEtabDL == '038') var CodeEtab = '13807';\r\nif (CodeEtabDL == '046') var CodeEtab = '14607';\r\nif (CodeEtabDL == '047') var CodeEtab = '14707';\r\nif (CodeEtabDL == '066') var CodeEtab = '16607';\r\nif (CodeEtabDL == '068') var CodeEtab = '16807';\r\nif (CodeEtabDL == '078') var CodeEtab = '17807';\r\nif (CodeEtabDL == '087') var CodeEtab = '18707';\r\n\r\n\r\n\r\n//Pages Synthese Comptes\r\n  let regexapplicationName = /cyber/i;\r\n if (regexapplicationName.test(dl.pages.applicationName) && (window.datalayer.pages.pageName == \"accueil connecte \")) {\r\n      var lienimage = \"//arpfxvgcm0.bpce-hosting.kameleoon.eu/images/130856-2fd4ac61-da36-449d-9b42-bfc15611f519.jpg\"\r\n      var idbanniere = \"banniere-synthese-cyber\"\r\n      var lienredirection = \"https://www.banquepopulaire.fr/espace-client/compte?cdetab=\"+CodeEtab+\"&source=legacy\"\r\n      var nomclicadobe = \"banniere dpw : synthese\"\r\n      } \r\n\r\n\r\n\r\n//Pages Comptes\r\nif ((regexapplicationName.test(dl.pages.applicationName)) && ((window.datalayer.pages.pageType == \"comptes\") || window.datalayer.pages.pageType ==\"comptes : detail\" )) {\r\n      var lienimage = \"//qnf9kxkec9.bpce-hosting.kameleoon.eu/images/100896-2a599d11-0b09-457b-9a36-3e591b4ac0cf.gif\"\r\n      var idbanniere = \"banniere-comptes-cyber\"\r\n      var lienredirection = \"https://www.banquepopulaire.fr/espace-client/compte?cdetab=\"+CodeEtab+\"&source=legacy\"\r\n      var nomclicadobe = \"banniere dpw : comptes\"\r\n      } \r\n\r\n\r\n\r\n\r\n\r\n//Pages Virement\r\n  let regexPageNameVirement = /AfficheListeBenef|beneficiaire|virement/i;\r\n  \r\nif ((regexapplicationName.test(dl.pages.applicationName)) && regexPageNameVirement.test(dl.pages.pageName)) {\r\n      var lienimage = \"//qnf9kxkec9.bpce-hosting.kameleoon.eu/images/100895-61b46e23-b2eb-4c07-9199-b401bd5e5ed6.gif\"\r\n      var idbanniere = \"banniere-virement-cyber\"\r\n      var lienredirection = \"https://www.banquepopulaire.fr/espace-client/virement?cdetab=\"+CodeEtab+\"&source=legacy\"\r\n      var nomclicadobe = \"banniere dpw : virement\"\r\n      } \r\n\r\n\r\n//Pages Carte\r\n    let regexPageNameCarte = /OppositionCB\\.ChoixCarte|faire opposition/i;\r\nif ((regexapplicationName.test(dl.pages.applicationName)) && regexPageNameCarte.test(dl.pages.pageName)) {\r\n      var lienimage = \"//qnf9kxkec9.bpce-hosting.kameleoon.eu/images/100897-483459f0-8e69-4026-b971-96f6528868e4.gif\"\r\n      var idbanniere = \"banniere-carte-cyber\"\r\n      var lienredirection = \"https://www.banquepopulaire.fr/espace-client/moyens-paiement?cdetab=\"+CodeEtab+\"&source=legacy\"\r\n      var nomclicadobe = \"banniere dpw : carte\"\r\n      } \r\n\r\n\r\n\r\nconst banner_dpw = document.createElement('img')\r\nbanner_dpw.src  = lienimage\r\nbanner_dpw.id = \"kameleoonElement-\"+idbanniere\r\nbanner_dpw.onclick = function() {\r\n    window.location.href = lienredirection;\r\n  sendTagClic(nomclicadobe, \"navigation\");\r\n // Kameleoon.Utils.createLocalData(\"Kam_Redir_DPW\",\"true\",\"365\", \"\", \"COOKIE\");\r\n};\r\ndocument.querySelector('#header').appendChild(banner_dpw)\r\n\r\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":728151,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_GGB1S9L6WMYW","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"","native_ad_description":"Faites le plein de garanties avec l'Assurance Auto ! Votre simulation en quelques clics.","native_ad_cta":"Réaliser une simulation en ligne","native_ad_url_desktop":"","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"ad.dpn.link.insurance.simulators.hub","native_ad_legal":"","priority":"850","displayCapping":"3","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_EQPT_AUTO_SIMU_CREDIT_CRM_2202","native_ad_distribution":"P","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":732007,"css":"/* START CUSTOM */\n\n.kam-page-de-news {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.32);\n  z-index: 1124;\n  overflow-y: scroll;\n  overflow-x: hidden !important;\n}\n\n.kam-page-de-news .kam-popup {\n  width: 792px;\n  min-height: 480px;\n  position: relative;\n  margin: 64px auto 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-align: stretch;\n  -ms-flex-align: stretch;\n  align-items: stretch;\n  border: 1px solid grey;\n  border-radius: 8px;\n  background-color: #fff;\n  margin-bottom: 64px;\n}\n\n.kam-page-de-news .kam-popup__header {\n  width: 100%;\n  margin: 5px auto 0;\n  border-bottom: 1px solid #ccc;\n}\n\n.kam-page-de-news .kam-popup__header .header__title {\n  width: 100%;\n  height: 48px;\n  position: relative;\n  padding: 0 8px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  color: #333;\n  font-family: \"Ubuntu-bpce\", sans-serif;\n  font-size: 17px;\n  letter-spacing: 0;\n  line-height: 22px;\n  text-align: center;\n}\n\n.kam-page-de-news .kam-popup__header .header__cross {\n  min-width: 32px;\n  position: absolute;\n  right: 0;\n  top: 8px;\n}\n\n.kam-page-de-news .kam-popup__header .header__close {\n  color: #051b71;\n  border: none;\n  background: none;\n  padding: 0;\n  cursor: pointer;\n}\n\n.kam-page-de-news .kam-popup__title {\n  padding: 24px 100px;\n  margin: 0;\n  text-align: center;\n  color: #333;\n  font-family: \"Ubuntu-bpce\", sans-serif;\n  font-size: 32px;\n  font-weight: 300;\n  letter-spacing: -0.1px;\n  line-height: 40px;\n}\n\n.kam-page-de-news .kam-popup__image-container {\n  max-height: 330px;\n  padding: 0 102px;\n}\n\n.kam-page-de-news .kam-popup__image {\n  width: 100%;\n}\n\n.kam-page-de-news .kam-popup__body {\n  padding: 24px 102px;\n  position: relative;\n  color: #333;\n  font-family: \"Ubuntu-bpce\", sans-serif;\n  font-size: 16px;\n  letter-spacing: 0;\n  line-height: 22px;\n  background-color: #fff;\n  z-index: 1;\n}\n\n.kam-page-de-news .kam-popup__body_with-big-padding-bottom {\n  padding-bottom: 136px;\n}\n\n.kam-page-de-news .kam_with-padding-bottom {\n  padding-bottom: 138px;\n}\n\n.kam-page-de-news .kam-popup__text {\n  text-align: justify;\n}\n\n.kam-page-de-news .kam-popup__footer {\n  width: 100%;\n  padding: 24px 0;\n  text-align: center;\n  background-color: #fff;\n  border-radius: 0 0 8px 8px;\n  z-index: 1;\n}\n\n.kam-page-de-news .kam-popup__button {\n  width: 588px;\n  height: 40px;\n  padding: 8px;\n  margin: 0 auto;\n  border: 1px solid;\n  border-radius: 4px;\n  border-color: #051b71;\n  font-family: \"Ubuntu-bpce\", sans-serif;\n  font-size: 16px;\n  letter-spacing: -0.14px;\n  line-height: 22px;\n  text-align: center;\n  cursor: pointer;\n}\n\n.kam-page-de-news .kam-popup__button_with-padding-bottom {\n  margin-bottom: 8px;\n}\n\n.kam-page-de-news .kam-popup__button_primary {\n  background-color: #051b71;\n  color: #fff;\n}\n\n.kam-page-de-news .kam-popup__button_secondary {\n  background-color: transparent;\n  color: #051b71;\n}\n\n.kam_hidden {\n  display: none;\n}\n\n.kam_sticky {\n  position: -webkit-sticky !important;\n  position: sticky !important;\n  bottom: 0;\n}\n\n.kam_overflow-hidden {\n  overflow: hidden !important;\n}\n\n.kam_with-shadow {\n  -webkit-box-shadow: 0 0 5px 0 #ccc !important;\n  box-shadow: 0 0 5px 0 #ccc !important;\n}\n\n@media (max-width: 792px) {\n  .kam-page-de-news {\n    margin-top: 0px;\n    margin-bottom: 0px !important;\n    border-radius: 0px;\n    border: 0px;\n    overflow-y: scroll;\n    z-index: 1100;\n  }\n\n  .kam-page-de-news .kam-popup {\n    height: 100%;\n    width: 100% !important;\n    margin: 0;\n    border-radius: 0;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__title {\n    padding: 20px 0;\n    font-size: 24px;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__image-container {\n    padding: 0 16px 20px;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__body {\n    height: 100%;\n    padding: 20px 16px;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__footer {\n    padding: 16px;\n  }\n\n  .kam-page-de-news .kam-popup .kam-popup__button {\n    width: 100%;\n  }\n\n  .kam-page-de-news .kam-popup .kam_with-padding-bottom {\n    padding-bottom: 124px;\n  }\n}\n\n.kam-sticky_IE .kam-popup__footer {\n  width: 790px !important;\n  position: fixed !important;\n}\n\n@media (max-width: 792px) {\n  .kam-sticky_IE .kam-popup__footer {\n    width: calc(100% - 20px) !important;\n  }\n}\n\n.kam-sticky_IE .kam-popup__body {\n  padding-bottom: 106px !important;\n}\n\n@media (max-width: 792px) {\n  .kam-sticky_IE .kam-popup__body {\n    padding-bottom: 88px !important;\n  }\n}","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"page_de_news_DPW_id\":\"page_de_news_DPW_Q7KUNFPOPTZP\",\"widget_type\":\"page_de_news\",\"page_de_news_DPW_priority\":\"1000\",\"page_de_news_DPW_title_popin\":\"Titre de la popin\",\"page_de_news_DPW_title\":\"Titre de la news\",\"page_de_news_DPW_text\":\"<p>Page de news</p><ul><li>1</li><li>2</li><li>3</li></ul><p><br></p>\",\"page_de_news_DPW_bouton_1\":\"Ouvrir\",\"page_de_news_DPW_url_cyber\":\"https://www.google.fr\",\"page_de_news_DPW_url_externe\":\"\",\"page_de_news_DPW_bouton_2\":\"Fermer\",\"page_de_news_DPW_capping\":\"5\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\",\"page_de_news_DPW_image\":\"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/135587-9726d7e7-1943-43e2-9e7b-1c2ca8c8ed17.jpg\"};\nfunction AdobeCallShort(type, persosData, withCapping) {\n  Kameleoon.API.Core.runWhenConditionTrue(\n    function () {\n      return (\n        typeof utag !== \"undefined\" &&\n        typeof datalayer !== \"undefined\" &&\n        ((datalayer.client && datalayer.client.statut) ||\n          (datalayer.clients && datalayer.clients.statut) ||\n          datalayer[\"clients.statut\"])\n      );\n    },\n    function () {\n      switch (type) {\n        case \"display\":\n          sendDisplay(persosData, withCapping);\n          break;\n\n        case \"click\":\n          sendClickOnButton(persosData, withCapping);\n          break;\n\n        default:\n          break;\n      }\n    }\n  );\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n  function getSpecificValue(fieldType, key) {\n    var stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n    var pluralKey = \"\".concat(fieldType, \"s\");\n    return (\n      (datalayer[fieldType] && datalayer[fieldType][key]) ||\n      (datalayer[pluralKey] && datalayer[pluralKey][key]) ||\n      datalayer[stringKey] ||\n      \"\"\n    );\n  }\n\n  var adobeData = {};\n\n  for (var i = 0; i < datalayerKeys.length; i++) {\n    var fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n    var key = datalayerKeys[i].match(/\\.(.+)/)[1];\n    adobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n  }\n\n  var customKeys = Object.keys(extraKeys);\n\n  for (var _i = 0; _i < customKeys.length; _i++) {\n    var _key = customKeys[_i];\n    adobeData[_key] = extraKeys[_key];\n  }\n\n  return adobeData;\n}\n\nfunction sendDisplay(persosData, withCapping) {\n  var datalayerKeys = [\n    \"clients.idEnttGrpe\",\n    \"clients.id\",\n    \"clients.statut\",\n    \"clients.marche\",\n    \"pages.applicationType\",\n    \"pages.applicationName\",\n    \"pages.CodeEnttGrpe\",\n    \"pages.marche\",\n    \"pages.univers\",\n    \"pages.espace\",\n  ];\n  var extraKeys = {\n    \"pages.pageType\": \"page de news\",\n    \"pages.pageName\": persosData[0][\"pageName\"],\n  };\n\n  if (withCapping) {\n    extraKeys[\"vignette.capping\"] = \"page de news|\" + persosData[0][\"pageName\"];\n  }\n\n  var adobeData = getInfoFromDataLayer(datalayerKeys, extraKeys);\n  utag.view(adobeData);\n}\n\nfunction sendClickOnButton(persosData, withCapping) {\n  var datalayerKeys = [\n    \"clients.idEnttGrpe\",\n    \"clients.id\",\n    \"clients.statut\",\n    \"clients.marche\",\n    \"pages.applicationType\",\n    \"pages.applicationName\",\n    \"pages.CodeEnttGrpe\",\n    \"pages.marche\",\n    \"pages.univers\",\n    \"pages.espace\",\n  ];\n  var extraKeys = {\n    \"pages.pageType\": \"page de news\",\n    \"pages.pageName\": persosData[0][\"pageName\"],\n    \"clics.libelle\": persosData[0][\"libelle\"],\n    \"evenement.event\": \"event10\",\n    \"clics.type\": \"action\",\n  };\n\n  if (withCapping) {\n    extraKeys[\"vignette.capping\"] = \"page de news|\" + persosData[0][\"pageName\"];\n  }\n\n  var adobeData = getInfoFromDataLayer(datalayerKeys, extraKeys);\n  utag.link(adobeData);\n}\n\nvar storingPerso = \"Autopromo Page De News id for mapping\";\nvar persoId = UserData.page_de_news_DPW_id;\nvar urlRegexp = /espace-client/i;\n\nif (urlRegexp.test(location.href)) {\n  Kameleoon.API.Core.runWhenElementPresent(\"body\", function (bodyList) {\n    var documentBody = bodyList[0];\n\n    function getActivePerso(type) {\n      sessionStorage.setItem(storingPerso, persoId);\n      Kameleoon.API.Personalizations.getActive()\n        .reduce(function (acc, perso) {\n          if (\n            perso.associatedVariation &&\n            perso.associatedVariation.instantiatedTemplate &&\n            perso.associatedVariation.instantiatedTemplate.customFields &&\n            perso.associatedVariation.instantiatedTemplate.customFields[\n              \"\".concat(type, \"_id\")\n            ] &&\n            perso.associatedVariation.instantiatedTemplate.customFields[\n              \"\".concat(type, \"_id\")\n            ].match(\"\".concat(type, \"_\"))\n          ) {\n            var metaData =\n              perso.associatedVariation.instantiatedTemplate.customFields;\n            metaData.name = perso.name;\n            metaData.kameleoonId = perso.id;\n            return acc.concat(metaData);\n          }\n\n          return acc;\n        }, [])\n        .sort(function (a, b) {\n          return (\n            parseInt(b.page_de_news_DPW_priority) -\n            parseInt(a.page_de_news_DPW_priority)\n          );\n        })\n        .forEach(mapPerso);\n    }\n\n    if (\n      !sessionStorage.getItem(storingPerso) ||\n      sessionStorage.getItem(storingPerso).match(persoId)\n    ) {\n      getActivePerso(\"page_de_news_DPW\");\n    }\n\n    function mapPerso(perso) {\n      if (isCappedByDisplay(perso)) {\n        return;\n      }\n\n      if (isCappedByClick(perso)) {\n        return;\n      }\n\n      var popinClasses = {\n        closeButton: \"header__close\",\n        crossIcon: \"header-icon\",\n        path: \"icon__path\",\n        redirectButton: \"kam-popup__button_primary\",\n        secondCloseButton: \"kam-popup__button_secondary\",\n        modal: \"kam-page-de-news\",\n      };\n      var popinSelectors = {\n        popin: \".kam-page-de-news\",\n        buttons: \".kam-popup__footer\",\n        popinText: \".kam-popup__text\",\n        modalWindow: \".kam-popup\",\n        mainContentPopin: \".kam-popup__body\",\n        image: \".kam-popup__image\",\n      };\n      var styleClasses = {\n        hidden: \"kam_hidden\",\n        sticky: \"kam_sticky\",\n        noOverflow: \"kam_overflow-hidden\",\n        withPadding: \"kam_with-padding-bottom\",\n        withShadow: \"kam_with-shadow\",\n        ie: \"kam-sticky_IE\",\n      };\n      var widget = document.querySelector(popinSelectors.popin);\n\n      if (widget) {\n        return;\n      }\n\n      var dencodingError = {\n        É: \"&Eacute;\",\n        é: \"&eacute;\",\n        Â: \"&Acirc;\",\n        â: \"&acirc;\",\n        Ê: \"&Ecirc;\",\n        ê: \"&ecirc;\",\n        Î: \"&Icirc;\",\n        î: \"&icirc;\",\n        Ô: \"&Ocirc;\",\n        ô: \"&ocirc;\",\n        Û: \"&Ucirc;\",\n        û: \"&ucirc;\",\n        À: \"&Agrave;\",\n        à: \"&agrave;\",\n        È: \"&Egrave;\",\n        è: \"&egrave;\",\n        Ù: \"&Ugrave;\",\n        ù: \"&ugrave;\",\n        Ë: \"&Euml;\",\n        ë: \"&euml;\",\n        Ï: \"&Iuml;\",\n        ï: \"&iuml;\",\n        Ü: \"&Uuml;\",\n        ü: \"&uuml;\",\n        Ÿ: \"&Yuml;\",\n        ÿ: \"&yuml;\",\n        Ç: \"&Ccedil;\",\n        ç: \"&ccedil;\",\n        \"€\": \"&euro;\",\n        $: \"&dollar;\",\n      };\n      var stringFakeData = Object.keys(perso);\n      var symbolsRegExp =\n        /(É)|(é)|(Â)|(â)|(Ê)|(ê)|(Î)|(î)|(Ô)|(ô)|(Û)|(û)|(À)|(à)|(È)|(è)|(Ù)|(ù)|(Ë)|(ë)|(Ï)|(ï)|(Ü)|(ü)|(Ÿ)|(ÿ)|(Ç)|(ç)|(€)|(\\$)/g;\n\n      function replacer(match) {\n        return dencodingError[match];\n      }\n\n      stringFakeData.forEach(function (string) {\n        if (typeof perso[string] === \"string\") {\n          perso[string] = perso[string].replace(symbolsRegExp, replacer);\n        }\n      });\n\n      function redirect() {\n        if(!perso.page_de_news_DPW_bouton_1) return \"\";\n        var buttonWithoutLink =\n          '\\n                        <button data-click=\"true\" class=\"kam-popup__button kam-popup__button_primary kam-popup__button_with-padding-bottom\">\\n                            '.concat(\n            perso.page_de_news_DPW_bouton_1,\n            \"\\n                        </button>\"\n          );\n        var primaryLinkCyber =\n          '\\n                        <a rel=\"noreferrer noopener\" \\n                        target=\"_top\" \\n                        data-click=\"true\" \\n                        href=\"'\n            .concat(\n              perso.page_de_news_DPW_url_cyber,\n              '\">\\n                                <button data-click=\"true\" class=\"kam-popup__button kam-popup__button_primary kam-popup__button_with-padding-bottom\">\\n                                '\n            )\n            .concat(\n              perso.page_de_news_DPW_bouton_1,\n              \"\\n                            </button>\\n                            </a>\"\n            );\n        var primaryLinkExterne =\n          '\\n                        <a rel=\"noreferrer noopener\" \\n                        target=\"_blank\" \\n                        data-click=\"true\" \\n                        href=\"'\n            .concat(\n              perso.page_de_news_DPW_url_externe,\n              '\">\\n                                <button data-click=\"true\" class=\"kam-popup__button kam-popup__button_primary kam-popup__button_with-padding-bottom\">\\n                                    '\n            )\n            .concat(\n              perso.page_de_news_DPW_bouton_1,\n              \"\\n                                </button>\\n                        </a>\"\n            );\n        var secondaryLink =\n          '\\n                        <a data-click=\"true\">\\n                            <button data-click=\"true\" class=\"kam-popup__button kam-popup__button_secondary\">\\n                            '.concat(\n            perso.page_de_news_DPW_bouton_2,\n            \"\\n                            </button>\\n                        </a>\"\n          );\n\n        if (perso) {\n          if (perso.page_de_news_DPW_bouton_2 && perso.page_de_news_DPW_url_cyber) {\n            return primaryLinkCyber + secondaryLink;\n          } else if (\n            perso.page_de_news_DPW_bouton_2 &&\n            perso.page_de_news_DPW_url_externe\n          ) {\n            return primaryLinkExterne + secondaryLink;\n          } else if (\n            !perso.page_de_news_DPW_bouton_2 &&\n            perso.page_de_news_DPW_url_cyber\n          ) {\n            return primaryLinkCyber;\n          } else if (\n            !perso.page_de_news_DPW_bouton_2 &&\n            perso.page_de_news_DPW_url_externe\n          ) {\n            return primaryLinkExterne;\n          } else if (\n            (!perso.page_de_news_DPW_bouton_1 && !perso.page_de_news_DPW_url_cyber) ||\n            !perso.page_de_news_DPW_url_externe\n          ) {\n            if (perso.page_de_news_DPW_bouton_2) {\n              return buttonWithoutLink + secondaryLink;\n            } else {\n              return buttonWithoutLink;\n            }\n          }\n        }\n      }\n\n      var popin =\n        '\\n                <div class=\"kam-page-de-news\">\\n                    <div class=\"kam-popup\">\\n                        <div class=\"kam-popup__header\">\\n                            <div class=\"header__title\">\\n                                '\n          .concat(\n            !perso.page_de_news_DPW_title_popin\n              ? \"\"\n              : perso.page_de_news_DPW_title_popin,\n            '\\n                            </div>\\n                            <div data-click=\"true\" class=\"header__cross\"> \\n                                <button data-click=\"true\" type=\"button\" class=\"header__close\"> \\n                                    <svg data-click=\"true\" class=\"header-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 512 512\">\\n                                        <path class=\"icon__path\"data-click=\"true\" d=\"M351.65 151.49c4.7-4.672 12.297-4.65 16.97.05 4.673 4.7 4.65 12.297-.049 16.97l-91.497 90.968 91.497 90.97c4.621 4.594 4.72 12.017.279 16.732l-.23.238c-4.673 4.7-12.27 4.721-16.97.049l-91.595-91.068-91.594 91.068c-4.622 4.594-12.046 4.65-16.735.182l-.236-.231c-4.672-4.7-4.65-12.298.05-16.97l91.495-90.97-91.496-90.968c-4.621-4.595-4.72-12.018-.278-16.733l.23-.238c4.672-4.7 12.27-4.721 16.97-.049l91.594 91.067z\"fill=\"#333\" fill-rule=\"evenodd\"></path>\\n                                    </svg>\\n                                </button>\\n                            </div>\\n                        </div>\\n                        <h2 class=\"kam-popup__title\">'\n          )\n          .concat(perso.page_de_news_DPW_title, \"</h2>\\n                        \")\n          .concat(\n            perso.page_de_news_DPW_image\n              ? '<div class=\"kam-popup__image-container\">\\n                                <img class=\"kam-popup__image\" src='.concat(\n                  perso.page_de_news_DPW_image,\n                  \"></img>\\n                            </div>\"\n                )\n              : \"\",\n            '\\n                        <div class=\"kam-popup__body\">\\n                            <div class=\"kam-popup__text\">'\n          )\n          .concat(\n            perso.page_de_news_DPW_text,\n            '</div>\\n                        </div>\\n                        <div class=\"kam-popup__footer\">'\n          )\n          .concat(\n            redirect(),\n            \"</div>\\n                        </div>\\n                    </div>\\n                    \"\n          );\n      if (sessionStorage.getItem(\"KameleoonDev__pagedenewsDPWDisplayed\")) {\n        var thirtyMinPassed =\n          Date.now() -\n            Number(sessionStorage.getItem(\"KameleoonDev__lastDisplayTime\")) >=\n          1800000;\n      }\n      if (\n        !sessionStorage.getItem(\"KameleoonDev__lastDisplayTime\") ||\n        thirtyMinPassed\n      ) {\n        window.sessionStorage.setItem(\n          \"KameleoonDev__pagedenewsDPWDisplayed\",\n          Date.now()\n        );\n        Kameleoon.API.Core.runWhenConditionTrue(\n          function () {\n            return (\n              window.dpwData &&\n              typeof window.dpwData.intersticielOuvert !== \"undefined\" &&\n              (window.dpwData.intersticielOuvert === true ||\n                window.dpwData.intersticielOuvert === false)\n            );\n          },\n          function () {\n            if (\n              window.dpwData.intersticielOuvert === true\n            ) {\n              window.sessionStorage.setItem(\n                \"KameleoonDev__lastDisplayTime\",\n                Date.now()\n              );\n              return;\n            }\n            if (\n              !sessionStorage.getItem(\"KameleoonDev__lastDisplayTime\") ||\n              thirtyMinPassed\n            ) {\n              documentBody.insertAdjacentHTML(\"afterbegin\", popin);\n              documentBody.classList.add(styleClasses.noOverflow);\n              widget = document.querySelector(popinSelectors.popin);\n              sessionStorage.setItem(\n                \"KameleoonDev__lastDisplayTime\",\n                Date.now()\n              );\n\n              var popupImage = widget.querySelector(popinSelectors.image);\n              Kameleoon.API.Core.runWhenConditionTrue(\n                function () {\n                  if (\n                    (popupImage &&\n                      popupImage.getAttribute(\"src\") &&\n                      popupImage.offsetHeight > 1) ||\n                    !popupImage\n                  ) {\n                    return true;\n                  }\n                },\n                function () {\n                  var modal = widget.querySelector(popinSelectors.modalWindow);\n                  var windowHeight = window.innerHeight;\n                  var popupHeight = modal.offsetHeight;\n                  var footer = widget.querySelector(popinSelectors.buttons);\n\n                  if (popupHeight > windowHeight) {\n                    footer.classList.add(\n                      styleClasses.sticky,\n                      styleClasses.withShadow\n                    );\n                    popupHeight = modal.offsetHeight;\n\n                    if (\n                      Kameleoon.API.CurrentVisit.device.browser ===\n                      \"Internet Explorer\"\n                    ) {\n                      widget.classList.add(styleClasses.ie);\n                    }\n                  } else {\n                    popupHeight = modal.offsetHeight;\n                  }\n                }\n              );\n              Kameleoon.API.Data.setCustomData(\n                \"Autopromo Display Capping\",\n                perso.page_de_news_DPW_id\n              );\n              var persoData = composePersoObject(perso);\n\n              if (isCappedByDisplay(perso, persoData)) {\n                sessionStorage.setItem(\n                  \"KameleoonDev__pagedenewsDPWDisplayed\",\n                  true\n                );\n              } else {\n                AdobeCallShort(\"display\", [persoData]);\n              }\n\n              function checkClass(target, classNames) {\n                return classNames.some(function (className) {\n                  return target.classList.contains(className);\n                });\n              }\n\n              widget.addEventListener(\"click\", function (event) {\n                var cappingClasses = [\n                  popinClasses.redirectButton,\n                  popinClasses.secondCloseButton,\n                ];\n                var closingClasses = [\n                  popinClasses.closeButton,\n                  popinClasses.crossIcon,\n                  popinClasses.path,\n                  popinClasses.modal,\n                ];\n\n                if (checkClass(event.target, cappingClasses)) {\n                  widget.classList.add(styleClasses.hidden);\n                  documentBody.classList.remove(styleClasses.noOverflow);\n                  Kameleoon.API.Data.setCustomData(\n                    \"Autopromo Click Capping\",\n                    perso.page_de_news_DPW_id\n                  );\n                  var buttonName = event.target.textContent.trim();\n                  persoData[\"libelle\"] = buttonName;\n                  AdobeCallShort(\"click\", [persoData], true);\n                } else if (checkClass(event.target, closingClasses)) {\n                  widget.classList.add(styleClasses.hidden);\n                  documentBody.classList.remove(styleClasses.noOverflow);\n                }\n              });\n            } else {\n              return;\n            }\n          }\n        );\n      } else {\n        return;\n      }\n\n      /*if (!sessionStorage.getItem('KameleoonDev__pagedenewsDPWDisplayed')) {\n          var timeOfShowingPopin = Date.now();\n          var milSec = 60000;\n          var timePopin = timeOfShowingPopin / milSec;\n          var mins = 30;\n  \n          if (!sessionStorage.getItem('KameleoonDev__lastDisplayTime') && timePopin - Number(sessionStorage.getItem('KameleoonDev__lastDisplayTime')) >= mins) {\n            documentBody.insertAdjacentHTML('afterbegin', popin);\n            documentBody.classList.add(styleClasses.noOverflow);\n            widget = document.querySelector(popinSelectors.popin);\n            sessionStorage.setItem('KameleoonDev__lastDisplayTime', timePopin);\n          } else {\n            return;\n          }\n        } else {\n          return;\n        } \n        \n        var popupImage = widget.querySelector(popinSelectors.image);\n      Kameleoon.API.Core.runWhenConditionTrue(\n        function () {\n          if ((popupImage && popupImage.getAttribute(\"src\") && popupImage.offsetHeight > 1) || !popupImage) {\n            return true;\n          }\n        },\n        function () {\n          var modal = widget.querySelector(popinSelectors.modalWindow);\n          var windowHeight = window.innerHeight;\n          var popupHeight = modal.offsetHeight;\n          var footer = widget.querySelector(popinSelectors.buttons);\n\n          if (popupHeight > windowHeight) {\n            footer.classList.add(styleClasses.sticky, styleClasses.withShadow);\n            popupHeight = modal.offsetHeight;\n\n            if (Kameleoon.API.CurrentVisit.device.browser === \"Internet Explorer\") {\n              widget.classList.add(styleClasses.ie);\n            }\n          } else {\n            popupHeight = modal.offsetHeight;\n          }\n        }\n      );\n      Kameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.page_de_news_DPW_DPW_id);\n      var persoData = composePersoObject(perso);\n\n      if (isCappedByDisplay(perso, persoData)) {\n        sessionStorage.setItem(\"KameleoonDev__pagedenewsDPWDisplayed\", true);\n      } else {\n        AdobeCallShort(\"display\", [persoData]);\n      }\n\n      function checkClass(target, classNames) {\n        return classNames.some(function (className) {\n          return target.classList.contains(className);\n        });\n      }\n\n      widget.addEventListener(\"click\", function (event) {\n        var cappingClasses = [popinClasses.redirectButton, popinClasses.secondCloseButton];\n        var closingClasses = [popinClasses.closeButton, popinClasses.crossIcon, popinClasses.path, popinClasses.modal];\n\n        if (checkClass(event.target, cappingClasses)) {\n          widget.classList.add(styleClasses.hidden);\n          documentBody.classList.remove(styleClasses.noOverflow);\n          Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.page_de_news_DPW_DPW_id);\n          var buttonName = event.target.textContent.trim();\n          persoData[\"libelle\"] = buttonName;\n          AdobeCallShort(\"click\", [persoData], true);\n        } else if (checkClass(event.target, closingClasses)) {\n          widget.classList.add(styleClasses.hidden);\n          documentBody.classList.remove(styleClasses.noOverflow);\n        }\n      });*/\n    }\n  });\n}\n\nfunction isCappedByDisplay(perso, data) {\n  var overallDisplayCapping =\n    Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n  if (overallDisplayCapping) {\n    var currentPersoDisplayCapping = overallDisplayCapping.filter(function (\n      id\n    ) {\n      return id.value === perso.page_de_news_DPW_id;\n    })[0];\n\n    if (\n      currentPersoDisplayCapping &&\n      parseInt(perso.page_de_news_DPW_capping) <= currentPersoDisplayCapping.count\n    ) {\n      if (\n        data &&\n        parseInt(perso.page_de_news_DPW_capping) ===\n          currentPersoDisplayCapping.count\n      ) {\n        AdobeCallShort(\"display\", [data], true);\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isCappedByClick(perso) {\n  var overallClickCapping =\n    Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n  if (overallClickCapping) {\n    var currentPersoClickCapping = overallClickCapping.filter(function (id) {\n      return id.value === perso.page_de_news_DPW_id;\n    })[0];\n\n    if (currentPersoClickCapping) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction composePersoObject(perso) {\n  var obj = {\n    kameleoonId: perso.kameleoonId,\n    name: perso.name,\n    pageName: perso.page_de_news_DPW_title,\n  };\n  return obj;\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"page_de_news_DPW_id":"page_de_news_DPW_Q7KUNFPOPTZP","widget_type":"page_de_news","page_de_news_DPW_priority":"1000","page_de_news_DPW_title_popin":"Titre de la popin","page_de_news_DPW_title":"Titre de la news","page_de_news_DPW_text":"<p>Page de news</p><ul><li>1</li><li>2</li><li>3</li></ul><p><br></p>","page_de_news_DPW_bouton_1":"Ouvrir","page_de_news_DPW_url_cyber":"https://www.google.fr","page_de_news_DPW_url_externe":"","page_de_news_DPW_bouton_2":"Fermer","page_de_news_DPW_capping":"5","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE","page_de_news_DPW_image":"STATIC_IMAGE_PATH135587-9726d7e7-1943-43e2-9e7b-1c2ca8c8ed17.jpg"},"widgetTemplateName":null},{"name":"Variation 1","id":733103,"css":"/* START CUSTOM */\n\n#kameleoonElement-container .kam_banner_link{display:block;-webkit-box-shadow:none !important;box-shadow:none !important;outline:none !important}#kameleoonElement-container+div.container{display:none}#kameleoonElement-container .kameleoon-lame-refacto{position:relative;overflow:hidden;width:100%;font-family:Ubuntu, Arial, Helvetica, sans-serif}#kameleoonElement-container .kameleoon-lame-refacto.kam-bp-theme{--content-text-light: #ffffff;--content-text-dark: #080d34;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #051b71;--content-mobile-text-dark: #080d34;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #062499;--cta-text-dark: #062499;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #080d34;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-ce-theme{--content-text-light: #ffffff;--content-text-dark: #666666;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #3e454a;--content-mobile-text-dark: #666666;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #d7000f;--cta-text-dark: #d7000f;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bqsav-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #5f657c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #E30613;--cta-text-dark: #E30613;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #2e3642;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-cm-theme{--content-text-light: #ffffff;--content-text-dark: #080D3D;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0061a1;--content-mobile-text-dark: #080D3D;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #0061A1;--cta-text-dark: #0061A1;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #252c51;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-marze-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #136aba;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #293133;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bdp-theme{--content-text-light: #ffffff;--content-text-dark: ##333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #7c252c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #7c252c;--cta-text-dark: #7c252c;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #420C11;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-pal-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #62120f;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #62120F;--cta-text-dark: #62120F;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #000000;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-coop-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #00544d;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #C8102E;--cta-text-dark: #C8102E;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bcp-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #8f0e43;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #D1005D;--cta-text-dark: #D1005D;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4A4A4A;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-btp-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0b569b;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4a5a64;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto .banner-mobile-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-desktop-image{position:absolute;top:0;right:0;left:0;bottom:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{position:relative;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-right:210px;height:620px}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 480px + 140 * ((100vw - 1279px) / 640))}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 360px + 120 * ((100vw - 959px) / 320))}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{overflow:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:80px 80px 0;max-width:800px}@media (min-width: 1920px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{max-width:960px}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-upper{width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .secondary{color:var(--content-second-color)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle{font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{margin:0;font-size:2.2rem;line-height:2.5rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.6rem;line-height:2.2rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:calc((12 / 1280) * 100vw);line-height:calc((16 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:1.6rem;line-height:2.2rem}#kam-lame,#kam-souscrire-lame,#kam-assurance-lame{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.2rem;line-height:1.6rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{margin:0;padding:16px 0;font-size:6.4rem;line-height:6.4rem;font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:2.2rem;line-height:2.5rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((42 / 1280) * 100vw);line-height:calc((42 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((27 / 960) * 100vw);line-height:calc((27 / 960) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:1.6rem;line-height:2.2rem}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:3.8rem;line-height:3.8rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap{padding-top:40px}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{font-size:1.6rem;line-height:2.2rem;border:none;padding:17px 18px;font-weight:bold;border-radius:4px;min-width:156px;position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:background 0.25s ease;-o-transition:background 0.25s ease;transition:background 0.25s ease}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button::before{content:\"\";position:absolute;left:0;width:100%;top:0;height:100%;z-index:1;opacity:0;border-radius:4px;-webkit-transition:opacity 0.25s ease;-o-transition:opacity 0.25s ease;transition:opacity 0.25s ease;background:#000}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button span{z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{opacity:0.2}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;padding:16px 0;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{-webkit-box-sizing:border-box;box-sizing:border-box;font-size:1.3rem;line-height:1.8rem;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob strong{font-size:1.6rem;line-height:2.2rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text strong{font-size:16px;line-height:normal}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example{max-width:210px;height:100%;position:absolute;right:0;top:0;padding:16px;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_dark{background-color:var(--example-background-dark);color:var(--example-text-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_light{background-color:var(--example-background-light);color:var(--example-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example .example__text{max-height:100%;overflow-y:auto;margin:0;padding:0}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer{padding-left:80px;padding-right:80px}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_light{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_dark{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer-empty{background:transparent !important}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second{padding:16px 0;font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light{color:var(--content-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-light);background:var(--cta-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark{color:var(--content-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-dark);background:var(--cta-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover{background:#EEEEEE}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{content:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob strong{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail{max-width:1920px;margin:auto}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:72px}@media (min-width: 960px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:64px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:3.125vw 3.125vw 0;max-width:50vw}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .title{padding:8px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{min-width:172px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:3.125vw;padding-right:3.125vw}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:40px 40px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{padding:9px 18px}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-mobile-image{display:block;width:100%;max-height:560px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-desktop-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:0;height:auto;-ms-flex-wrap:wrap;flex-wrap:wrap}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example-mob{display:block;padding-top:24px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light{color:var(--content-mobile-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-wrapper{background:var(--content-mobile-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-footer{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark{color:var(--content-mobile-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-wrapper{background:var(--content-mobile-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-footer{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:16px 16px 0;max-width:none;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px;padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:16px;padding-right:16px}}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw{padding-bottom:0px;max-width:792px;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper{height:297px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper{padding-right:396px;height:297px;max-height:297px;overflow:hidden}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example{max-width:395px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper{padding:32px 32px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-second,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sub{font-size:13px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub{font-size:11px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sup{vertical-align:super}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title{padding:8px 0;font-size:22px;line-height:25px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sub{font-size:16px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap{padding-top:16px;font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap button{font-size:16px;line-height:22px;min-width:165px;padding:9px 18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down{padding:6px 0 16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:16px;line-height:21px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer{padding-left:32px;padding-right:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second strong{font-size:16px;line-height:21px}#kameleoonElement-container.has-link{cursor:pointer}[id^=\"kam_lame_\"] .kameleoon-lameBP img{width:715px}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 2469 */\n!function(){var e={type:\"Autopromo\",widget_type:\"lame_BP_connected\",id:\"71203\",location:\"lameCE_location_dpw\",position_dpw:[\"dpw_comptes\",\"dpw_assurances\",\"dpw_souscrire\"],lame_format:\"lame_texte_fonce\",styleTheme:\"bp\",lame_desktop_image:\"https://arpfxvgcm0.kameleoon.eu/images/136099-9b76fffe-17cf-4bb8-b380-256d0dccc7b2.jpg\",lame_pre_title:'Bienvenue <span class=\"secondary\">BP</span> ! <sup>Exposant</sup> test<sub>indice</sub>',lame_title:'Une nouvelle lame super pratique et <span class=\"secondary\">qui fonctionne!</span> <sup>exposant</sup> test<sub>indice</sub>',lame_description:'Cela nécessite quelques <sup>exposants</sup>, des <sub>indices</sub> et des <span class=\"secondary\">displays</span>',lame_color:\"#369AD4\",lame_mention_legale_1:\"ML1 texte plus <strong>gros</strong>\",lame_mention_legale_2:\"ML2 texte plus <strong>gros</strong>\",lame_exemple_representatif:\"Pour un Prêt Personnel de X000€ sur XX mois au taux débiteur annuel fixe de <strong>X,XX%</strong>, XX mensualités de <strong>XXX,XX€</strong>. Taux Annuel Effectif Global fixe de X,XX%. Frais de dossier de XX€. Coût de l’assurance YYYYYY facultative : X,XX€ par mois (*) qui s’ajoute à la mensualité et montant total dû au titre de l’assurance sur la durée totale du prêt : xxx,xx€. Taux annuel effectif de l’assurance : X,XX%. Montant total dû par l’emprunteur, hors assurance facultative : XXXX,XX€.<br><br><strong>Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager</strong>\",lame_color_select:null,lame_cta_name:\"En savoir plus\",lame_cta_url:\"**portail-wp**/emprunter/\",lame_cta_checkbox:[\"on\"],ancien_url_desktop:\"\",ancien_url_desktop_tache:\"\",priority:\"1000\",displayCapping:\"4\",clickCapping:\"\",campaign_type:\"P\",market:\"lameBP_particuliers\",category:\"banque\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:71203,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(71203)}};\n/* LAME BP V6 - New formats |x| DPW - connected */\nconst a=e,t=(a.widget_type,`kameleoon__${a.persoID}`),n=a.position_dpw?\"dpw\":\"cyber\",o=(e,t)=>{Kameleoon.API.Utils.addEventListener(e,\"mousedown\",(e=>{Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",t.persoID),\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const e={},n=((e=a)=>{const{persoID:t,category:n,priority:o,displayCapping:l,clickCapping:i,campaign_type:r}=e,{name:s,segmentName:c,actualPosition:m}=window.kameleoonAutopromoPerso[t];return`[${s}]|[${t}]|[${n}]|[${m}]|[${o}]|[${l}]|[${i}]|[${r}]|[${c}];`})(t),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};((e=a)=>{const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(t)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(e,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(e)}))}))};\n/** Banner layout */\nconst l={bcp:\"kam-bcp-theme\",bdp:\"kam-bdp-theme\",bp:\"kam-bp-theme\",pal:\"kam-pal-theme\",bqsav:\"kam-bqsav-theme\",btp:\"kam-btp-theme\",ce:\"kam-ce-theme\",cm:\"kam-cm-theme\",cmgo:\"kam-cmgo-theme\",cmmed:\"kam-cmmed-theme\",coop:\"kam-coop-theme\",marze:\"kam-marze-theme\",socfim:\"kam-socfim-theme\"};function i(e){const a=function(e){const a=e.styleTheme?l[e.styleTheme]:l.ce,t=document.createElement(\"div\");t.id=\"kameleoonElement-container\";let n=`kameleoon-lame-refacto ${a}`,o=!1;switch(e.location){case\"lameCE_location_dpw\":n+=\" kameleoon-lame-refacto_dpw\";break;case\"lameCE_location_nouveauPortail\":n+=\" kameleoon-lame-refacto_portail\",o=!0;break;default:console.log(\"[KAM] newVersion\")}let i=!1;switch(e.lame_format){case\"lame_texte_clair\":n+=\" kameleoon-lame-refacto_dark\";break;case\"lame_texte_fonce\":n+=\" kameleoon-lame-refacto_light\";break;case\"lame_image\":n+=\" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\",i=!0;break;default:console.log(\"[KAM] newFormat\")}const r=e.lame_mobile_image&&o?`\\n        <figure>\\n            <picture>\\n                <img src=\"${e.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\\n            </picture>\\n        </figure>`:\"\",s=e.lame_pre_title?`\\n        <h5 class=\"subtitle\">${e.lame_pre_title}</h5>`:\"\",c=e.lame_title?`\\n        <h1 class=\"title\">${e.lame_title}</h1>`:\"\",m=e.lame_description?`\\n        <p class=\"description\">${e.lame_description}</p>`:\"\",p=\"lameCE_location_nouveauPortail\"===e.location&&e.lame_exemple_representatif?`\\n        <div class=\"example-mob\">${e.lame_exemple_representatif}</div>`:\"\",d=e.lame_exemple_representatif?`\\n        <div \\n        class=\"example ${\"dark\"===e.lame_color_select?\"example_dark\":\"example_light\"}\">\\n            <p class=\"example__text\">\\n                ${e.lame_exemple_representatif}\\n            </p>\\n        </div>`:\"\",_=e.lame_mention_legale_1?`\\n        <div class=\"main-text__wrapper-down\">\\n            <div class=\"agreement-first\">\\n                ${e.lame_mention_legale_1}\\n            </div>\\n        </div>`:\"\";let u=\"\";e.lame_mention_legale_2?u=`\\n        <div class=\"banner-footer ${\"dark\"===e.lame_color_select?\"banner-footer_light\":\"banner-footer_dark\"}\">\\n            <div class=\"agreement-second\">\\n                ${e.lame_mention_legale_2}\\n            </div>\\n        </div>`:o&&(n+=\" kameleoon-lame-refacto_portail_no-footer\");let g=\"\";g=e.lame_cta_name?`\\n        <div class=\"cta-wrap\">\\n            <button><span>${e.lame_cta_name}</span></button>\\n        </div>`:\"\";const f=!o&&i?\"\":`\\n    <div class=\"main-text\"> \\n        <div class=\"main-text__wrapper\">\\n            <div class=\"main-text__wrapper-upper\">\\n                ${s}\\n                ${c}\\n                ${m}\\n                ${p}\\n                ${g}\\n            </div>\\n            ${_}\\n        </div>\\n    </div>`;e.lame_color&&(t.style=`--content-second-color: ${e.lame_color};`);const k=`\\n        <div class=\"${n}\">\\n            ${r}\\n            <div class=\"banner-wrapper\">\\n                <figure>\\n                    <picture>\\n                        <img src=\"${e.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \\n                    </picture>\\n                </figure>\\n                ${f}\\n\\t\\t\\t\\t${d}\\n            </div>\\n            ${u}\\n        </div>`;return((a,t)=>{const n=()=>{e.lame_cta_checkbox?window.open(e.lame_cta_url,\"_blank\"):window.location.href=e.lame_cta_url};if(t){const e=()=>window.innerWidth>=960;let t=e();window.addEventListener(\"resize\",(()=>{t!==e()&&(t=e())})),a.addEventListener(\"click\",(()=>{t&&n()}))}else a.addEventListener(\"click\",n)})(t,!!(e.lame_cta_name&&o&&i&&e.lame_cta_url)),t.innerHTML=k,e.lame_cta_url&&t.classList.add(\"has-link\"),t}(e);Kameleoon.API.Core.runWhenElementPresent('div[id*=\"lame\"], .home-slider',(([n])=>{n.classList.add(t),n.insertAdjacentElement(\"afterbegin\",a),o(a,e)}))}\n/** Init part */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{\n/** Replace regional urls */\nvar e,l,r,s;\n/** Banner injection */\nswitch(e=a,l=JSON.parse(window.top.sitecodeData),r=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var a=e.replace(/\\*/g,\"\");return l[a]?l[a]:e},Object.keys(e).forEach((function(a){a.match(\"url\")&&(e[a]=e[a].replace(r,s))})),n){case\"cyber\":!function(e){if(e.position_cyber){var a=t+e.persoID;Kameleoon.API.Core.runWhenElementPresent('[id^=\"kam_lame_\"]',(([n])=>{if(!document.querySelector(t)){//not sure its still needed, but it's cyber... who knows\nn.classList.add(a);var l=document.createElement(\"a\");l.classList.add(\"kameleoon-lameBP\"),l.innerHTML='<img src=\"'.concat(e.ancien_image,'\" alt=\"\">'),e&&e.ancien_url_desktop_tache?(l.href=e.ancien_url_desktop_tache?\"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(e.ancien_url_desktop_tache):\"#\",l.target=\"_top\"):(l.href=e&&e.ancien_url_desktop?e.ancien_url_desktop:\"#\",l.target=\"_blank\",l.rel=\"noopener noreferrer\"),o(l,e),n.appendChild(l)}}))}}(a);break;case\"dpw\":i(a);break;default:console.log(\"[Kameleoon] Not cyber nor DPW:\",n)}}),100)}();\n/* END WIDGET 2469 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"71203","location":"lameCE_location_dpw","position_dpw":["dpw_comptes","dpw_assurances","dpw_souscrire"],"lame_format":"lame_texte_fonce","styleTheme":"bp","lame_desktop_image":"STATIC_IMAGE_PATH136099-9b76fffe-17cf-4bb8-b380-256d0dccc7b2.jpg","lame_pre_title":"Bienvenue <span class=\"secondary\">BP</span> ! <sup>Exposant</sup> test<sub>indice</sub>","lame_title":"Une nouvelle lame super pratique et <span class=\"secondary\">qui fonctionne!</span> <sup>exposant</sup> test<sub>indice</sub>","lame_description":"Cela nécessite quelques <sup>exposants</sup>, des <sub>indices</sub> et des <span class=\"secondary\">displays</span>","lame_color":"#369AD4","lame_mention_legale_1":"ML1 texte plus <strong>gros</strong>","lame_mention_legale_2":"ML2 texte plus <strong>gros</strong>","lame_exemple_representatif":"Pour un Prêt Personnel de X000€ sur XX mois au taux débiteur annuel fixe de <strong>X,XX%</strong>, XX mensualités de <strong>XXX,XX€</strong>. Taux Annuel Effectif Global fixe de X,XX%. Frais de dossier de XX€. Coût de l’assurance YYYYYY facultative : X,XX€ par mois (*) qui s’ajoute à la mensualité et montant total dû au titre de l’assurance sur la durée totale du prêt : xxx,xx€. Taux annuel effectif de l’assurance : X,XX%. Montant total dû par l’emprunteur, hors assurance facultative : XXXX,XX€.<br><br><strong>Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager</strong>","lame_color_select":null,"lame_cta_name":"En savoir plus","lame_cta_url":"**portail-wp**/emprunter/","lame_cta_checkbox":["on"],"ancien_url_desktop":"","ancien_url_desktop_tache":"","priority":"1000","displayCapping":"4","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":736300,"css":"","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"native_ad_app\",\"id\":\"native_ad_96Y5DPP3999W\",\"native_ad_location\":[\"native_ad_location_app_iOS\",\"native_ad_location_app_Android\"],\"native_ad_position_app\":[\"app_comptes_compte\"],\"native_ad_title\":\"Veillez sur vos comptes sans rien laisser passer\",\"native_ad_description\":\"Activez des alertes sur votre application Banque Populaire\",\"native_ad_cta\":\"En savoir plus\",\"native_ad_url_desktop\":\"https://www.banquepopulaire.fr/banque-a-distance/activer-alertes/\",\"native_ad_url_deeplink\":\"https://www.banquepopulaire.fr/banque-a-distance/activer-alertes/\",\"native_ad_legal\":\"\",\"priority\":\"399\",\"displayCapping\":\"7\",\"clickCapping\":\"\",\"ciblage_type\":\"native_ad_ciblage_crm\",\"segmentMobile\":\"PART_SELFCARE_ALERTE_CRM_2202\",\"native_ad_distribution\":\"P\",\"category\":\"selfcare\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\nvar never = false;\nif (never) {\n    console.warn('The JS engine has been changed. Alarm!');\n}})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","id":"native_ad_96Y5DPP3999W","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"Veillez sur vos comptes sans rien laisser passer","native_ad_description":"Activez des alertes sur votre application Banque Populaire","native_ad_cta":"En savoir plus","native_ad_url_desktop":"https://www.banquepopulaire.fr/banque-a-distance/activer-alertes/","native_ad_url_deeplink":"https://www.banquepopulaire.fr/banque-a-distance/activer-alertes/","native_ad_legal":"","priority":"399","displayCapping":"7","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_SELFCARE_ALERTE_CRM_2202","native_ad_distribution":"P","category":"selfcare","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":739560,"css":"/* START CUSTOM */\n\n#overlayPopinSP {\r\n    position: fixed; /* Sit on top of the page content */\r\n    display: block; /* Hidden by default */\r\n    width: 100%; /* Full width (cover the whole page) */\r\n    height: 100%; /* Full height (cover the whole page) */\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-color: rgba(0,0,0,0.5); /* Black background with opacity */\r\n    z-index: 1200; /* Specify a stack order in case you're using a different order for other elements */\r\n    cursor: default; /* Add a pointer on hover */\r\n  }\r\n  \r\n  area {\r\n          cursor: pointer;\r\n      }\r\n  \r\n  #KamimginterstitielNavAncienEspace {\r\n \twidth: 563px;\r\n\theight: 284px;\r\n      \r\n      position: absolute;\r\n      top:0 !important;\r\n      bottom: 0 !important;\r\n      left: 0 !important;\r\n      right: 0 !important;\r\n        \r\n      margin-top: 12%;\r\n      margin-bottom: auto;\r\n      margin-left: auto;\r\n      margin-right: auto;\r\n      \r\n          z-index: 1500 !important;\r\n  }","elementSets":[],"javaScriptCode":{"code":"let regexBPCESegmentSondes = /ExclusionSondesBPCEIT/i;\r\n\r\nKameleoon.API.Core.runWhenConditionTrue(function(){ return document.querySelector(\"body\") && (regexBPCESegmentSondes.test(Kameleoon.API.CurrentVisit.customData[\"BPCESegments\"]) == false || typeof Kameleoon.API.CurrentVisit.customData[\"BPCESegments\"] ==\"undefined\") },\r\nfunction(){       \r\n\r\n\r\nvar divOverlaySP = document.createElement(\"DIV\");\r\ndivOverlaySP.setAttribute(\"id\",\"overlayPopinSP\");\r\ndocument.body.appendChild(divOverlaySP);\r\n\r\nvar img = document.createElement(\"img\");\r\nimg.src = \"https://arpfxvgcm0.bpce-hosting.kameleoon.eu/images/138404-7667dd82-a94f-47bf-b439-8e1aeb10c4a3.jpg\";\r\nimg.id = \"KamimginterstitielNavAncienEspace\";\r\ndocument.querySelector(\"body\").appendChild(img);\r\n \r\n    function noScroll() {\r\n      window.scrollTo(0, 0);\r\n    }\r\n \r\n    function unloadScrollBars() {\r\n       $(\"html\").css(\"overflow\", \"hidden\");\r\n    }\r\n \r\n    function reloadScrollBars() {\r\n       // document.documentElement.style.overflow = 'auto';  // firefox, chrome\r\n       $(\"html\").css(\"overflow\", \"visible\");\r\n    }\r\n \r\n    // add listener to disable scroll\r\n    window.addEventListener('scroll', noScroll);\r\n    unloadScrollBars();\r\n \r\n//wait for utag / utag_data to be loaded\r\nKameleoon.API.Core.runWhenConditionTrue(function(){ return window.utag_data && document.querySelector(\"img#KamimginterstitielNavAncienEspace\") },\r\nfunction(){        \r\n    \r\n    \t//fn sendTagPage\r\n        function sendTagPage(pageName) {\r\n            var obj1 = {};\r\n            Object.assign(obj1, datalayer);\r\n            Object.assign(obj1, utag_data);\r\n            var viewTag = { \"pages.pageName\": pageName, \"page.pageName\": pageName };\r\n            Object.assign(obj1, viewTag);\r\n            utag.view(obj1);\r\n        }\r\n\t\r\n\t\r\n\t\r\n        // fn close popin\r\n        function closePopinSP(){\r\n            var imgSP = document.querySelector(\"img#KamimginterstitielNavAncienEspace\");\r\n            var divOverlayPopinSP = document.getElementById(\"overlayPopinSP\");\r\n            //imgSP.remove();\r\n            //divOverlayPopinSP.remove();\r\n            imgSP.style.display = \"none\";\r\n            divOverlayPopinSP.style.display = \"none\";\r\n            divOverlayPopinSP.remove();\r\n        }\r\n        \r\n        // fn create btn\r\n            function addBtnSP(shape, coords, href) {\r\n                var element = document.createElement(\"AREA\");\r\n                element.setAttribute(\"class\", \"area\");\r\n                element.shape = shape;\r\n                element.coords = coords;\r\n                if (typeof(href) != \"undefined\") { element.href = href; }\r\n                if (typeof(href) != \"undefined\"){ if (href != \"#\") { element.target = \"_blank\"; }}                \r\n                element.addEventListener(\"click\", function (e) {\r\n                  window.removeEventListener('scroll', noScroll);\r\n                  reloadScrollBars();\r\n                  closePopinSP();                \r\n                }, false);\r\n                document.getElementsByName(\"mapSP\")[0].appendChild(element);\r\n            }\r\n        \r\n\t\tsendTagPage(\"popin kam navigation ancien espace\"); \r\n\t\r\n        //document.querySelector(\"body\").style=\"overflow-y: hidden;\";\r\n        //get img\r\n        var imgSP = document.querySelector(\"img#KamimginterstitielNavAncienEspace\");\r\n        //add map attribute\r\n        imgSP.setAttribute(\"usemap\", \"#mapSP\");\r\n        //create map\r\n        var mapSP = document.createElement(\"map\");\r\n        mapSP.name = \"mapSP\";\r\n        //adding map to img\r\n        document.body.appendChild(mapSP);\r\n        \r\n        // creating 3 btn\r\n\t    addBtnSP(\"rect\", [\"35\", \"216\", \"329\", \"256\"], \"#\"); \r\n        addBtnSP(\"rect\", [\"535\", \"11\", \"552\", \"27\"], \"#\");  \r\n\r\n}, 200);\r\n\r\n\r\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":740234,"css":"/* START CUSTOM */\n\n#kameleoonElement-container .kam_banner_link{display:block;-webkit-box-shadow:none !important;box-shadow:none !important;outline:none !important}#kameleoonElement-container+div.container{display:none}#kameleoonElement-container .kameleoon-lame-refacto{position:relative;overflow:hidden;width:100%;font-family:Ubuntu, Arial, Helvetica, sans-serif}#kameleoonElement-container .kameleoon-lame-refacto.kam-bp-theme{--content-text-light: #ffffff;--content-text-dark: #080d34;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #051b71;--content-mobile-text-dark: #080d34;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #062499;--cta-text-dark: #062499;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #080d34;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-ce-theme{--content-text-light: #ffffff;--content-text-dark: #666666;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #3e454a;--content-mobile-text-dark: #666666;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #d7000f;--cta-text-dark: #d7000f;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bqsav-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #5f657c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #E30613;--cta-text-dark: #E30613;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #2e3642;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-cm-theme{--content-text-light: #ffffff;--content-text-dark: #080D3D;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0061a1;--content-mobile-text-dark: #080D3D;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #0061A1;--cta-text-dark: #0061A1;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #252c51;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-marze-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #136aba;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #293133;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bdp-theme{--content-text-light: #ffffff;--content-text-dark: ##333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #7c252c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #7c252c;--cta-text-dark: #7c252c;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #420C11;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-pal-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #62120f;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #62120F;--cta-text-dark: #62120F;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #000000;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-coop-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #00544d;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #C8102E;--cta-text-dark: #C8102E;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bcp-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #8f0e43;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #D1005D;--cta-text-dark: #D1005D;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4A4A4A;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-btp-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0b569b;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4a5a64;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto .banner-mobile-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-desktop-image{position:absolute;top:0;right:0;left:0;bottom:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{position:relative;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-right:210px;height:620px}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 480px + 140 * ((100vw - 1279px) / 640))}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 360px + 120 * ((100vw - 959px) / 320))}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{overflow:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:80px 80px 0;max-width:800px}@media (min-width: 1920px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{max-width:960px}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-upper{width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .secondary{color:var(--content-second-color)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle{font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{margin:0;font-size:2.2rem;line-height:2.5rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.6rem;line-height:2.2rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:calc((12 / 1280) * 100vw);line-height:calc((16 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:1.6rem;line-height:2.2rem}#kam-lame,#kam-souscrire-lame,#kam-assurance-lame{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.2rem;line-height:1.6rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{margin:0;padding:16px 0;font-size:6.4rem;line-height:6.4rem;font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:2.2rem;line-height:2.5rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((42 / 1280) * 100vw);line-height:calc((42 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((27 / 960) * 100vw);line-height:calc((27 / 960) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:1.6rem;line-height:2.2rem}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:3.8rem;line-height:3.8rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap{padding-top:40px}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{font-size:1.6rem;line-height:2.2rem;border:none;padding:17px 18px;font-weight:bold;border-radius:4px;min-width:156px;position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:background 0.25s ease;-o-transition:background 0.25s ease;transition:background 0.25s ease}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button::before{content:\"\";position:absolute;left:0;width:100%;top:0;height:100%;z-index:1;opacity:0;border-radius:4px;-webkit-transition:opacity 0.25s ease;-o-transition:opacity 0.25s ease;transition:opacity 0.25s ease;background:#000}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button span{z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{opacity:0.2}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;padding:16px 0;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{-webkit-box-sizing:border-box;box-sizing:border-box;font-size:1.3rem;line-height:1.8rem;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob strong{font-size:1.6rem;line-height:2.2rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text strong{font-size:16px;line-height:normal}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example{max-width:210px;height:100%;position:absolute;right:0;top:0;padding:16px;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_dark{background-color:var(--example-background-dark);color:var(--example-text-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_light{background-color:var(--example-background-light);color:var(--example-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example .example__text{max-height:100%;overflow-y:auto;margin:0;padding:0}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer{padding-left:80px;padding-right:80px}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_light{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_dark{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer-empty{background:transparent !important}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second{padding:16px 0;font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light{color:var(--content-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-light);background:var(--cta-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark{color:var(--content-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-dark);background:var(--cta-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover{background:#EEEEEE}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{content:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob strong{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail{max-width:1920px;margin:auto}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:72px}@media (min-width: 960px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:64px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:3.125vw 3.125vw 0;max-width:50vw}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .title{padding:8px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{min-width:172px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:3.125vw;padding-right:3.125vw}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:40px 40px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{padding:9px 18px}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-mobile-image{display:block;width:100%;max-height:560px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-desktop-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:0;height:auto;-ms-flex-wrap:wrap;flex-wrap:wrap}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example-mob{display:block;padding-top:24px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light{color:var(--content-mobile-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-wrapper{background:var(--content-mobile-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-footer{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark{color:var(--content-mobile-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-wrapper{background:var(--content-mobile-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-footer{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:16px 16px 0;max-width:none;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px;padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:16px;padding-right:16px}}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw{padding-bottom:0px;max-width:792px;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper{height:297px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper{padding-right:396px;height:297px;max-height:297px;overflow:hidden}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example{max-width:395px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper{padding:32px 32px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-second,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sub{font-size:13px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub{font-size:11px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sup{vertical-align:super}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title{padding:8px 0;font-size:22px;line-height:25px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sub{font-size:16px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap{padding-top:16px;font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap button{font-size:16px;line-height:22px;min-width:165px;padding:9px 18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down{padding:6px 0 16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:16px;line-height:21px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer{padding-left:32px;padding-right:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second strong{font-size:16px;line-height:21px}#kameleoonElement-container.has-link{cursor:pointer}[id^=\"kam_lame_\"] .kameleoon-lameBP img{width:715px}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 2469 */\n!function(){var e={type:\"Autopromo\",widget_type:\"lame_BP_connected\",id:\"74376\",location:\"lameCE_location_cyber\",position_cyber:[\"cyber_homepage\"],encart_ancien:\"lameBP_ancien\",styleTheme:\"bp\",lame_pre_title:\"\",lame_title:\"\",lame_description:\"\",lame_color:\"#369AD4\",lame_mention_legale_1:\"\",lame_mention_legale_2:\"\",lame_exemple_representatif:\"\",lame_color_select:null,lame_cta_name:\"\",lame_cta_url:\"\",ancien_image:\"https://arpfxvgcm0.kameleoon.eu/images/138654-6070e209-a1b1-425c-965b-6647452c1ac1.jpg\",ancien_url_desktop:\"https://www.banquepopulaire.fr/rivesparis/professionnels/financer-projets/prets-verts/ \",ancien_url_desktop_tache:\"\",priority:\"800\",displayCapping:\"2\",clickCapping:\"\",campaign_type:\"P\",market:\"lameBP_professionnels\",category:\"credit\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:74376,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(74376)}};\n/* LAME BP V6 - New formats |x| DPW - connected */\nconst a=e,n=(a.widget_type,`kameleoon__${a.persoID}`),t=a.position_dpw?\"dpw\":\"cyber\",o=(e,n)=>{Kameleoon.API.Utils.addEventListener(e,\"mousedown\",(e=>{Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",n.persoID),\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const e={},t=((e=a)=>{const{persoID:n,category:t,priority:o,displayCapping:l,clickCapping:i,campaign_type:r}=e,{name:c,segmentName:m,actualPosition:s}=window.kameleoonAutopromoPerso[n];return`[${c}]|[${n}]|[${t}]|[${s}]|[${o}]|[${l}]|[${i}]|[${r}]|[${m}];`})(n),o={\"vignette.liste\":t,\"vignette.nom\":t,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};((e=a)=>{const{id:n,clickCapping:t}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return o&&o===t})(n)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(e,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(e)}))}))};\n/** Banner layout */\nconst l={bcp:\"kam-bcp-theme\",bdp:\"kam-bdp-theme\",bp:\"kam-bp-theme\",pal:\"kam-pal-theme\",bqsav:\"kam-bqsav-theme\",btp:\"kam-btp-theme\",ce:\"kam-ce-theme\",cm:\"kam-cm-theme\",cmgo:\"kam-cmgo-theme\",cmmed:\"kam-cmmed-theme\",coop:\"kam-coop-theme\",marze:\"kam-marze-theme\",socfim:\"kam-socfim-theme\"};function i(e){const a=function(e){const a=e.styleTheme?l[e.styleTheme]:l.ce,n=document.createElement(\"div\");n.id=\"kameleoonElement-container\";let t=`kameleoon-lame-refacto ${a}`,o=!1;switch(e.location){case\"lameCE_location_dpw\":t+=\" kameleoon-lame-refacto_dpw\";break;case\"lameCE_location_nouveauPortail\":t+=\" kameleoon-lame-refacto_portail\",o=!0;break;default:console.log(\"[KAM] newVersion\")}let i=!1;switch(e.lame_format){case\"lame_texte_clair\":t+=\" kameleoon-lame-refacto_dark\";break;case\"lame_texte_fonce\":t+=\" kameleoon-lame-refacto_light\";break;case\"lame_image\":t+=\" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\",i=!0;break;default:console.log(\"[KAM] newFormat\")}const r=e.lame_mobile_image&&o?`\\n        <figure>\\n            <picture>\\n                <img src=\"${e.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\\n            </picture>\\n        </figure>`:\"\",c=e.lame_pre_title?`\\n        <h5 class=\"subtitle\">${e.lame_pre_title}</h5>`:\"\",m=e.lame_title?`\\n        <h1 class=\"title\">${e.lame_title}</h1>`:\"\",s=e.lame_description?`\\n        <p class=\"description\">${e.lame_description}</p>`:\"\",_=\"lameCE_location_nouveauPortail\"===e.location&&e.lame_exemple_representatif?`\\n        <div class=\"example-mob\">${e.lame_exemple_representatif}</div>`:\"\",p=e.lame_exemple_representatif?`\\n        <div \\n        class=\"example ${\"dark\"===e.lame_color_select?\"example_dark\":\"example_light\"}\">\\n            <p class=\"example__text\">\\n                ${e.lame_exemple_representatif}\\n            </p>\\n        </div>`:\"\",d=e.lame_mention_legale_1?`\\n        <div class=\"main-text__wrapper-down\">\\n            <div class=\"agreement-first\">\\n                ${e.lame_mention_legale_1}\\n            </div>\\n        </div>`:\"\";let u=\"\";e.lame_mention_legale_2?u=`\\n        <div class=\"banner-footer ${\"dark\"===e.lame_color_select?\"banner-footer_light\":\"banner-footer_dark\"}\">\\n            <div class=\"agreement-second\">\\n                ${e.lame_mention_legale_2}\\n            </div>\\n        </div>`:o&&(t+=\" kameleoon-lame-refacto_portail_no-footer\");let g=\"\";g=e.lame_cta_name?`\\n        <div class=\"cta-wrap\">\\n            <button><span>${e.lame_cta_name}</span></button>\\n        </div>`:\"\";const k=!o&&i?\"\":`\\n    <div class=\"main-text\"> \\n        <div class=\"main-text__wrapper\">\\n            <div class=\"main-text__wrapper-upper\">\\n                ${c}\\n                ${m}\\n                ${s}\\n                ${_}\\n                ${g}\\n            </div>\\n            ${d}\\n        </div>\\n    </div>`;e.lame_color&&(n.style=`--content-second-color: ${e.lame_color};`);const v=`\\n        <div class=\"${t}\">\\n            ${r}\\n            <div class=\"banner-wrapper\">\\n                <figure>\\n                    <picture>\\n                        <img src=\"${e.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \\n                    </picture>\\n                </figure>\\n                ${k}\\n\\t\\t\\t\\t${p}\\n            </div>\\n            ${u}\\n        </div>`;return((a,n)=>{const t=()=>{e.lame_cta_checkbox?window.open(e.lame_cta_url,\"_blank\"):window.location.href=e.lame_cta_url};if(n){const e=()=>window.innerWidth>=960;let n=e();window.addEventListener(\"resize\",(()=>{n!==e()&&(n=e())})),a.addEventListener(\"click\",(()=>{n&&t()}))}else a.addEventListener(\"click\",t)})(n,!!(e.lame_cta_name&&o&&i&&e.lame_cta_url)),n.innerHTML=v,e.lame_cta_url&&n.classList.add(\"has-link\"),n}(e);Kameleoon.API.Core.runWhenElementPresent('div[id*=\"lame\"], .home-slider',(([t])=>{t.classList.add(n),t.insertAdjacentElement(\"afterbegin\",a),o(a,e)}))}\n/** Init part */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{\n/** Replace regional urls */\nvar e,l,r,c;\n/** Banner injection */\nswitch(e=a,l=JSON.parse(window.top.sitecodeData),r=/\\*\\*[\\w-]+\\*\\*/g,c=function(e){var a=e.replace(/\\*/g,\"\");return l[a]?l[a]:e},Object.keys(e).forEach((function(a){a.match(\"url\")&&(e[a]=e[a].replace(r,c))})),t){case\"cyber\":!function(e){if(e.position_cyber){var a=n+e.persoID;Kameleoon.API.Core.runWhenElementPresent('[id^=\"kam_lame_\"]',(([t])=>{if(!document.querySelector(n)){//not sure its still needed, but it's cyber... who knows\nt.classList.add(a);var l=document.createElement(\"a\");l.classList.add(\"kameleoon-lameBP\"),l.innerHTML='<img src=\"'.concat(e.ancien_image,'\" alt=\"\">'),e&&e.ancien_url_desktop_tache?(l.href=e.ancien_url_desktop_tache?\"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(e.ancien_url_desktop_tache):\"#\",l.target=\"_top\"):(l.href=e&&e.ancien_url_desktop?e.ancien_url_desktop:\"#\",l.target=\"_blank\",l.rel=\"noopener noreferrer\"),o(l,e),t.appendChild(l)}}))}}(a);break;case\"dpw\":i(a);break;default:console.log(\"[Kameleoon] Not cyber nor DPW:\",t)}}),100)}();\n/* END WIDGET 2469 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"74376","location":"lameCE_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_ancien","styleTheme":"bp","lame_pre_title":"","lame_title":"","lame_description":"","lame_color":"#369AD4","lame_mention_legale_1":"","lame_mention_legale_2":"","lame_exemple_representatif":"","lame_color_select":null,"lame_cta_name":"","lame_cta_url":"","ancien_image":"STATIC_IMAGE_PATH138654-6070e209-a1b1-425c-965b-6647452c1ac1.jpg","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/professionnels/financer-projets/prets-verts/ ","ancien_url_desktop_tache":"","priority":"800","displayCapping":"2","clickCapping":"","campaign_type":"P","market":"lameBP_professionnels","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":743194,"css":"/* START CUSTOM */\n\n#kameleoonElement-container .kam_banner_link{display:block;-webkit-box-shadow:none !important;box-shadow:none !important;outline:none !important}#kameleoonElement-container+div.container{display:none}#kameleoonElement-container .kameleoon-lame-refacto{position:relative;overflow:hidden;width:100%;font-family:Ubuntu, Arial, Helvetica, sans-serif}#kameleoonElement-container .kameleoon-lame-refacto.kam-bp-theme{--content-text-light: #ffffff;--content-text-dark: #080d34;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #051b71;--content-mobile-text-dark: #080d34;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #062499;--cta-text-dark: #062499;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #080d34;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-ce-theme{--content-text-light: #ffffff;--content-text-dark: #666666;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #3e454a;--content-mobile-text-dark: #666666;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #d7000f;--cta-text-dark: #d7000f;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bqsav-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #5f657c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #E30613;--cta-text-dark: #E30613;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #2e3642;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-cm-theme{--content-text-light: #ffffff;--content-text-dark: #080D3D;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0061a1;--content-mobile-text-dark: #080D3D;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #0061A1;--cta-text-dark: #0061A1;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #252c51;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-marze-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #136aba;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #293133;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bdp-theme{--content-text-light: #ffffff;--content-text-dark: ##333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #7c252c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #7c252c;--cta-text-dark: #7c252c;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #420C11;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-pal-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #62120f;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #62120F;--cta-text-dark: #62120F;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #000000;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-coop-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #00544d;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #C8102E;--cta-text-dark: #C8102E;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bcp-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #8f0e43;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #D1005D;--cta-text-dark: #D1005D;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4A4A4A;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-btp-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0b569b;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4a5a64;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto .banner-mobile-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-desktop-image{position:absolute;top:0;right:0;left:0;bottom:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{position:relative;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-right:210px;height:620px}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 480px + 140 * ((100vw - 1279px) / 640))}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 360px + 120 * ((100vw - 959px) / 320))}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{overflow:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:80px 80px 0;max-width:800px}@media (min-width: 1920px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{max-width:960px}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-upper{width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .secondary{color:var(--content-second-color)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle{font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{margin:0;font-size:2.2rem;line-height:2.5rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.6rem;line-height:2.2rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:calc((12 / 1280) * 100vw);line-height:calc((16 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:1.6rem;line-height:2.2rem}#kam-lame,#kam-souscrire-lame,#kam-assurance-lame{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.2rem;line-height:1.6rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{margin:0;padding:16px 0;font-size:6.4rem;line-height:6.4rem;font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:2.2rem;line-height:2.5rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((42 / 1280) * 100vw);line-height:calc((42 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((27 / 960) * 100vw);line-height:calc((27 / 960) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:1.6rem;line-height:2.2rem}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:3.8rem;line-height:3.8rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap{padding-top:40px}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{font-size:1.6rem;line-height:2.2rem;border:none;padding:17px 18px;font-weight:bold;border-radius:4px;min-width:156px;position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:background 0.25s ease;-o-transition:background 0.25s ease;transition:background 0.25s ease}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button::before{content:\"\";position:absolute;left:0;width:100%;top:0;height:100%;z-index:1;opacity:0;border-radius:4px;-webkit-transition:opacity 0.25s ease;-o-transition:opacity 0.25s ease;transition:opacity 0.25s ease;background:#000}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button span{z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{opacity:0.2}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;padding:16px 0;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{-webkit-box-sizing:border-box;box-sizing:border-box;font-size:1.3rem;line-height:1.8rem;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob strong{font-size:1.6rem;line-height:2.2rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text strong{font-size:16px;line-height:normal}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example{max-width:210px;height:100%;position:absolute;right:0;top:0;padding:16px;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_dark{background-color:var(--example-background-dark);color:var(--example-text-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_light{background-color:var(--example-background-light);color:var(--example-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example .example__text{max-height:100%;overflow-y:auto;margin:0;padding:0}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer{padding-left:80px;padding-right:80px}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_light{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_dark{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer-empty{background:transparent !important}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second{padding:16px 0;font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light{color:var(--content-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-light);background:var(--cta-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark{color:var(--content-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-dark);background:var(--cta-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover{background:#EEEEEE}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{content:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob strong{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail{max-width:1920px;margin:auto}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:72px}@media (min-width: 960px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:64px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:3.125vw 3.125vw 0;max-width:50vw}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .title{padding:8px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{min-width:172px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:3.125vw;padding-right:3.125vw}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:40px 40px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{padding:9px 18px}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-mobile-image{display:block;width:100%;max-height:560px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-desktop-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:0;height:auto;-ms-flex-wrap:wrap;flex-wrap:wrap}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example-mob{display:block;padding-top:24px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light{color:var(--content-mobile-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-wrapper{background:var(--content-mobile-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-footer{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark{color:var(--content-mobile-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-wrapper{background:var(--content-mobile-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-footer{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:16px 16px 0;max-width:none;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px;padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:16px;padding-right:16px}}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw{padding-bottom:0px;max-width:792px;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper{height:297px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper{padding-right:396px;height:297px;max-height:297px;overflow:hidden}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example{max-width:395px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper{padding:32px 32px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-second,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sub{font-size:13px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub{font-size:11px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sup{vertical-align:super}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title{padding:8px 0;font-size:22px;line-height:25px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sub{font-size:16px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap{padding-top:16px;font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap button{font-size:16px;line-height:22px;min-width:165px;padding:9px 18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down{padding:6px 0 16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:16px;line-height:21px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer{padding-left:32px;padding-right:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second strong{font-size:16px;line-height:21px}#kameleoonElement-container.has-link{cursor:pointer}[id^=\"kam_lame_\"] .kameleoon-lameBP img{width:715px}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 2469 */\n!function(){var e={type:\"Autopromo\",widget_type:\"lame_BP_connected\",id:\"76078\",location:\"lameCE_location_cyber\",position_cyber:[\"cyber_homepage\"],encart_ancien:\"lameBP_ancien\",styleTheme:\"bp\",lame_pre_title:\"\",lame_title:\"\",lame_description:\"\",lame_color:\"#369AD4\",lame_mention_legale_1:\"\",lame_mention_legale_2:\"\",lame_exemple_representatif:\"\",lame_color_select:null,lame_cta_name:\"\",lame_cta_url:\"\",ancien_image:\"https://arpfxvgcm0.kameleoon.eu/images/139748-7d10bc24-8dc9-4698-9b0b-f419ab9c4392.JPG\",ancien_url_desktop:\"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/besoin/travaux?codebanque=10207&typecode=travaux\",ancien_url_desktop_tache:\"\",priority:\"980\",displayCapping:\"3\",clickCapping:\"\",campaign_type:\"P\",market:\"lameBP_particuliers\",category:\"credit\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:76078,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(76078)}};\n/* LAME BP V6 - New formats |x| DPW - connected */\nconst a=e,t=(a.widget_type,`kameleoon__${a.persoID}`),n=a.position_dpw?\"dpw\":\"cyber\",o=(e,t)=>{Kameleoon.API.Utils.addEventListener(e,\"mousedown\",(e=>{Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",t.persoID),\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const e={},n=((e=a)=>{const{persoID:t,category:n,priority:o,displayCapping:l,clickCapping:i,campaign_type:r}=e,{name:c,segmentName:m,actualPosition:s}=window.kameleoonAutopromoPerso[t];return`[${c}]|[${t}]|[${n}]|[${s}]|[${o}]|[${l}]|[${i}]|[${r}]|[${m}];`})(t),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};((e=a)=>{const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(t)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(e,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(e)}))}))};\n/** Banner layout */\nconst l={bcp:\"kam-bcp-theme\",bdp:\"kam-bdp-theme\",bp:\"kam-bp-theme\",pal:\"kam-pal-theme\",bqsav:\"kam-bqsav-theme\",btp:\"kam-btp-theme\",ce:\"kam-ce-theme\",cm:\"kam-cm-theme\",cmgo:\"kam-cmgo-theme\",cmmed:\"kam-cmmed-theme\",coop:\"kam-coop-theme\",marze:\"kam-marze-theme\",socfim:\"kam-socfim-theme\"};function i(e){const a=function(e){const a=e.styleTheme?l[e.styleTheme]:l.ce,t=document.createElement(\"div\");t.id=\"kameleoonElement-container\";let n=`kameleoon-lame-refacto ${a}`,o=!1;switch(e.location){case\"lameCE_location_dpw\":n+=\" kameleoon-lame-refacto_dpw\";break;case\"lameCE_location_nouveauPortail\":n+=\" kameleoon-lame-refacto_portail\",o=!0;break;default:console.log(\"[KAM] newVersion\")}let i=!1;switch(e.lame_format){case\"lame_texte_clair\":n+=\" kameleoon-lame-refacto_dark\";break;case\"lame_texte_fonce\":n+=\" kameleoon-lame-refacto_light\";break;case\"lame_image\":n+=\" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\",i=!0;break;default:console.log(\"[KAM] newFormat\")}const r=e.lame_mobile_image&&o?`\\n        <figure>\\n            <picture>\\n                <img src=\"${e.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\\n            </picture>\\n        </figure>`:\"\",c=e.lame_pre_title?`\\n        <h5 class=\"subtitle\">${e.lame_pre_title}</h5>`:\"\",m=e.lame_title?`\\n        <h1 class=\"title\">${e.lame_title}</h1>`:\"\",s=e.lame_description?`\\n        <p class=\"description\">${e.lame_description}</p>`:\"\",_=\"lameCE_location_nouveauPortail\"===e.location&&e.lame_exemple_representatif?`\\n        <div class=\"example-mob\">${e.lame_exemple_representatif}</div>`:\"\",p=e.lame_exemple_representatif?`\\n        <div \\n        class=\"example ${\"dark\"===e.lame_color_select?\"example_dark\":\"example_light\"}\">\\n            <p class=\"example__text\">\\n                ${e.lame_exemple_representatif}\\n            </p>\\n        </div>`:\"\",d=e.lame_mention_legale_1?`\\n        <div class=\"main-text__wrapper-down\">\\n            <div class=\"agreement-first\">\\n                ${e.lame_mention_legale_1}\\n            </div>\\n        </div>`:\"\";let u=\"\";e.lame_mention_legale_2?u=`\\n        <div class=\"banner-footer ${\"dark\"===e.lame_color_select?\"banner-footer_light\":\"banner-footer_dark\"}\">\\n            <div class=\"agreement-second\">\\n                ${e.lame_mention_legale_2}\\n            </div>\\n        </div>`:o&&(n+=\" kameleoon-lame-refacto_portail_no-footer\");let g=\"\";g=e.lame_cta_name?`\\n        <div class=\"cta-wrap\">\\n            <button><span>${e.lame_cta_name}</span></button>\\n        </div>`:\"\";const k=!o&&i?\"\":`\\n    <div class=\"main-text\"> \\n        <div class=\"main-text__wrapper\">\\n            <div class=\"main-text__wrapper-upper\">\\n                ${c}\\n                ${m}\\n                ${s}\\n                ${_}\\n                ${g}\\n            </div>\\n            ${d}\\n        </div>\\n    </div>`;e.lame_color&&(t.style=`--content-second-color: ${e.lame_color};`);const b=`\\n        <div class=\"${n}\">\\n            ${r}\\n            <div class=\"banner-wrapper\">\\n                <figure>\\n                    <picture>\\n                        <img src=\"${e.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \\n                    </picture>\\n                </figure>\\n                ${k}\\n\\t\\t\\t\\t${p}\\n            </div>\\n            ${u}\\n        </div>`;return((a,t)=>{const n=()=>{e.lame_cta_checkbox?window.open(e.lame_cta_url,\"_blank\"):window.location.href=e.lame_cta_url};if(t){const e=()=>window.innerWidth>=960;let t=e();window.addEventListener(\"resize\",(()=>{t!==e()&&(t=e())})),a.addEventListener(\"click\",(()=>{t&&n()}))}else a.addEventListener(\"click\",n)})(t,!!(e.lame_cta_name&&o&&i&&e.lame_cta_url)),t.innerHTML=b,e.lame_cta_url&&t.classList.add(\"has-link\"),t}(e);Kameleoon.API.Core.runWhenElementPresent('div[id*=\"lame\"], .home-slider',(([n])=>{n.classList.add(t),n.insertAdjacentElement(\"afterbegin\",a),o(a,e)}))}\n/** Init part */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{\n/** Replace regional urls */\nvar e,l,r,c;\n/** Banner injection */\nswitch(e=a,l=JSON.parse(window.top.sitecodeData),r=/\\*\\*[\\w-]+\\*\\*/g,c=function(e){var a=e.replace(/\\*/g,\"\");return l[a]?l[a]:e},Object.keys(e).forEach((function(a){a.match(\"url\")&&(e[a]=e[a].replace(r,c))})),n){case\"cyber\":!function(e){if(e.position_cyber){var a=t+e.persoID;Kameleoon.API.Core.runWhenElementPresent('[id^=\"kam_lame_\"]',(([n])=>{if(!document.querySelector(t)){//not sure its still needed, but it's cyber... who knows\nn.classList.add(a);var l=document.createElement(\"a\");l.classList.add(\"kameleoon-lameBP\"),l.innerHTML='<img src=\"'.concat(e.ancien_image,'\" alt=\"\">'),e&&e.ancien_url_desktop_tache?(l.href=e.ancien_url_desktop_tache?\"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(e.ancien_url_desktop_tache):\"#\",l.target=\"_top\"):(l.href=e&&e.ancien_url_desktop?e.ancien_url_desktop:\"#\",l.target=\"_blank\",l.rel=\"noopener noreferrer\"),o(l,e),n.appendChild(l)}}))}}(a);break;case\"dpw\":i(a);break;default:console.log(\"[Kameleoon] Not cyber nor DPW:\",n)}}),100)}();\n/* END WIDGET 2469 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"76078","location":"lameCE_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_ancien","styleTheme":"bp","lame_pre_title":"","lame_title":"","lame_description":"","lame_color":"#369AD4","lame_mention_legale_1":"","lame_mention_legale_2":"","lame_exemple_representatif":"","lame_color_select":null,"lame_cta_name":"","lame_cta_url":"","ancien_image":"STATIC_IMAGE_PATH139748-7d10bc24-8dc9-4698-9b0b-f419ab9c4392.JPG","ancien_url_desktop":"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/besoin/travaux?codebanque=10207&typecode=travaux","ancien_url_desktop_tache":"","priority":"980","displayCapping":"3","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":743210,"css":"","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"native_ad_app\",\"id\":\"native_ad_941PCMP6VTUW\",\"native_ad_location\":[\"native_ad_location_app_iOS\",\"native_ad_location_app_Android\"],\"native_ad_position_app\":[\"app_comptes_compte\",\"app_comptes_credit\"],\"native_ad_title\":\"Besoin de financer des travaux pour réaliser des économies d'énergie ? \",\"native_ad_description\":\"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.\",\"native_ad_cta\":\"Faire une simulation\",\"native_ad_url_desktop\":\"\",\"native_ad_url_deeplink\":\"ad.dpn.link.credit.simulators.hub&typecode=travaux\",\"native_ad_legal\":\"\",\"priority\":\"980\",\"displayCapping\":\"3\",\"clickCapping\":\"\",\"ciblage_type\":\"native_ad_ciblage_crm\",\"segmentMobile\":\"PART_PP_TRANSITION_ECO_TRAVAUX_CRM_2204\",\"native_ad_distribution\":\"P\",\"category\":\"credit\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\"};\nvar never = false;\nif (never) {\n    console.warn('The JS engine has been changed. Alarm!');\n}})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","id":"native_ad_941PCMP6VTUW","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte","app_comptes_credit"],"native_ad_title":"Besoin de financer des travaux pour réaliser des économies d'énergie ? ","native_ad_description":"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.","native_ad_cta":"Faire une simulation","native_ad_url_desktop":"","native_ad_url_deeplink":"ad.dpn.link.credit.simulators.hub&typecode=travaux","native_ad_legal":"","priority":"980","displayCapping":"3","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_PP_TRANSITION_ECO_TRAVAUX_CRM_2204","native_ad_distribution":"P","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":743238,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_type:\"native_ad\",id:\"76119\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_compte\",\"dpw_comptes_credit\"],native_ad_title:\"Besoin de financer des travaux pour réaliser des économies d'énergie ? \",native_ad_description:\"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.\",native_ad_cta:\"Faire une simulation\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/montant?codebanque=10207&typecode=travauxGreen\",native_ad_legal:\"\",priority:\"980\",displayCapping:\"3\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"credit\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction n(e,a,t){const o=e.parentNode;o&&(a.test(o.id)?o.classList.add(t):n(o,a,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=76119,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(76119)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const a=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=a,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var n=e.replace(/\\*/g,\"\");return o[n]?o[n]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,s))}));const d=function(e){const n=(e,n)=>n&&e?n(e):e||\"\",a=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${n(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${n(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${n(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${n(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${n(e.native_ad_cta)}</span>\\n    </div>\\n    `;return a.classList.add(\"kameleoon-native-ad-container\"),a.innerHTML=t,Kameleoon.API.Utils.addEventListener(a.children[0],\"click\",(n=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const n=e=>{const{id:n,clickCapping:a}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return t&&t===a},a=e=>{const{persoID:n,category:a,priority:t,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:d,segmentName:r,actualPosition:c}=window.kameleoonAutopromoPerso[n];return`[${d}]|[${n}]|[${a}]|[${c}]|[${t}]|[${o}]|[${i}]|[${s}]|[${r}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=a(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};n(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const a=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(a,\"_blank\")})),a}(a);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,a,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!a.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+a.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,n,a){const t={};for(let o=0;o<n.length;o++)if(e[n[o]]&&document.querySelector(e[n[o]])&&!document.querySelector(e[n[o]]).className.match(a)){t.position=e[n[o]],t.name=n[o];break}return t}(t,a.position_dpw,o),d=document.querySelector(s.position),r=/kam-family/i,c=\"kameleoon-native-ad__visible\";d&&!document.querySelector(i)&&(d.appendChild(e),d.classList.add(i),n(d,r,c))}(d,a,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad","id":"76119","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_compte","dpw_comptes_credit"],"native_ad_title":"Besoin de financer des travaux pour réaliser des économies d'énergie ? ","native_ad_description":"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.","native_ad_cta":"Faire une simulation","native_ad_url_desktop":"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/montant?codebanque=10207&typecode=travauxGreen","native_ad_legal":"","priority":"980","displayCapping":"3","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":744264,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_4KRBMM1ASN06","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"Paylib entre amis","native_ad_description":"Plus besoin de RIB ou d'IBAN, votre \nnuméro de téléphone mobile suffit avec \nle service Paylib entre amis","native_ad_cta":"Découvrir","native_ad_url_desktop":"","native_ad_url_deeplink":"ad.dpn.link.transfer.paylib","native_ad_legal":"","priority":"850","displayCapping":"3","clickCapping":"","ciblage_type":"native_ad_ciblage_marche","segmentMobile":"marche_01","native_ad_distribution":"P","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":752004,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_type:\"push_edito\",id:\"80701\",title:\"\",description:\"\",cta:\"\",url_desktop:\"\",legal:\"\",priority:\"\",displayCapping:\"\",clickCapping:\"\",category:\"banque\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:80705,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(80705)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#o(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const o=this.#a(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(o.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#a(e,t,n){const o={name:\"\",selector:\"\"};for(let a=0;a<t.length;a++){const i=e[t[a]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){o.name=t[a],o.selector=i;break}}return o}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:o,displayCapping:a,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:l,actualPosition:c}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${c}]|[${o}]|[${a}]|[${i}]|[${s}]|[${l}];`}(e),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,o=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,o))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#o(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"push_edito","id":"80701","title":"","description":"","cta":"","url_desktop":"","legal":"","priority":"","displayCapping":"","clickCapping":"","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":752047,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_type:\"native_ad\",id:\"80738\",native_ad_title:\"\",native_ad_description:\"\",native_ad_cta:\"\",native_ad_url_desktop:\"\",native_ad_legal:\"\",priority:\"\",displayCapping:\"\",clickCapping:\"\",category:\"banque\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction n(e,a,t){const o=e.parentNode;o&&(a.test(o.id)?o.classList.add(t):n(o,a,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=80744,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(80744)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const a=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=a,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var n=e.replace(/\\*/g,\"\");return o[n]?o[n]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,s))}));const d=function(e){const n=(e,n)=>n&&e?n(e):e||\"\",a=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${n(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${n(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${n(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${n(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${n(e.native_ad_cta)}</span>\\n    </div>\\n    `;return a.classList.add(\"kameleoon-native-ad-container\"),a.innerHTML=t,Kameleoon.API.Utils.addEventListener(a.children[0],\"click\",(n=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const n=e=>{const{id:n,clickCapping:a}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return t&&t===a},a=e=>{const{persoID:n,category:a,priority:t,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:d,segmentName:c,actualPosition:r}=window.kameleoonAutopromoPerso[n];return`[${d}]|[${n}]|[${a}]|[${r}]|[${t}]|[${o}]|[${i}]|[${s}]|[${c}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=a(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};n(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const a=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(a,\"_blank\")})),a}(a);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,a,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!a.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+a.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,n,a){const t={};for(let o=0;o<n.length;o++)if(e[n[o]]&&document.querySelector(e[n[o]])&&!document.querySelector(e[n[o]]).className.match(a)){t.position=e[n[o]],t.name=n[o];break}return t}(t,a.position_dpw,o),d=document.querySelector(s.position),c=/kam-family/i,r=\"kameleoon-native-ad__visible\";d&&!document.querySelector(i)&&(d.appendChild(e),d.classList.add(i),n(d,c,r))}(d,a,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad","id":"80738","native_ad_title":"","native_ad_description":"","native_ad_cta":"","native_ad_url_desktop":"","native_ad_legal":"","priority":"","displayCapping":"","clickCapping":"","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":752155,"css":"/* START CUSTOM */\n\n#kam-souscrire-lame[class^=\"kameleoon__\"] ~ .souscrire-offers-categories-section {\r\n    margin-top:  0px !important;\r\n}","elementSets":[]},{"name":"Variation 1","id":767136,"css":"/* START CUSTOM */\n\n:root {\r\n  \t--primary : #051b71;\r\n\t--secondary : #369ad4;\r\n}\r\n\r\n.bpce-infobox-title {\r\n    font-weight: 700 ;\r\n    font-size: 1rem ;\r\n    line-height: 1.375rem ;\r\n    margin: 0 0 0 8px ;\r\n}\r\n\r\n\r\n.bpce-infobox-kam {\r\n    padding: 16px ;\r\n    border-radius: 4px ;\r\n\tborder : 0px;\r\n    margin-top:8px;\r\n    margin-bottom: 24px ;\r\n    margin-left:8px;\r\n    margin-right:8px;\r\n\tcolor:#333;\r\n\tborder: 1px solid ;\r\n    border-color: var(--secondary) ;\r\n\ttext-align:left;\r\n}\r\n\r\n.bpce-infobox-header {\r\n    display: flex ;\r\n    align-items: center ;\r\n    margin-bottom: 8px ;\r\n}\r\n\r\n.bpce-infobox-icon {\r\n    width: 24px ;\r\n    height: 24px ;\r\n    fill:  var(--secondary) ;\r\n    flex: 0 0 auto ;\r\n}\r\n\r\n\r\n.bpce-infobox-action a:-webkit-any-link {\r\n    color: var(--primary);\r\n    display: inline-block ;\r\n    margin-top: 8px ;\r\n\ttext-decoration: none;\r\n\tfont-family: Ubuntu;\r\n    \r\n}\r\n\r\n.bpce-infobox-action {\r\n    width: 170px !important;\r\n    margin-left:calc(50% - 85px);\r\n    align-items: center !important;\r\n    border: none ;\r\n    background: none ;\r\n    padding: 0 ;\r\n    cursor: pointer ;\r\n\talign-items: center;\r\n\twidth:100%;\r\n    font-weight: 400 ;\r\n    font-size: 0.8125rem ;\r\n    line-height: 1.125rem ;\r\n}\r\n\r\n\r\n    .bpce-infobox-action a:hover {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    \r\n    .divpretitre {\r\n\tcolor:#666;\r\n\tmargin-bottom: 16px ;\r\n\tfont-size:0.8125em;\r\n}\r\n    \r\np span {\r\n\tfont-weight: bold;\r\n}","elementSets":[],"javaScriptCode":{"code":"let regexBPCESegmentSondes = /ExclusionSondesBPCEIT/i;\r\n\r\n\r\nKameleoon.API.Core.runWhenConditionTrue(function(){ return document.querySelector(\"body\") && (regexBPCESegmentSondes.test(Kameleoon.API.CurrentVisit.customData[\"BPCESegments\"]) == false || typeof Kameleoon.API.CurrentVisit.customData[\"BPCESegments\"] ==\"undefined\") },\r\nfunction addInfo(){       \r\n\r\n\r\n\r\nvar titrebloc = \"Vous souhaitez ajouter un bénéficiaire immédiatement ?\";\r\n\r\nvar messagebloc = \"Ajoutez votre bénéficiaire immédiatement depuis notre <span>application mobile, sous réserve d'être span>équipé de Sécur'Pass.\";\r\n\r\nvar messageblochtml = \"<div>Ajoutez votre bénéficiaire immédiatement depuis notre <span>application mobile</span>, sous réserve d'être <span>équipé de Sécur'Pass</span>.</div>\";\r\n\r\n\r\nvar lientextebloc = \"En savoir plus sur Sécur'Pass\";\r\n\r\nvar pretitre = \"Depuis notre site internet, l'utilisation de cet IBAN sera soumis à un délai d'attente\";\r\n\r\n/*\r\nvar BP = window.location.href.indexOf(\"www.banquepopulaire.fr/espace-client\");\r\nvar BQSAV = window.location.href.indexOf(\"icgauth.banquepopulaire.fr/banque-de-savoie-se-connecter\");\r\nvar CMGO = window.location.href.indexOf(\"icgauth.banquepopulaire.fr/credit-maritime-grand-ouest-se-connecter\");\r\nvar CMMED = window.location.href.indexOf(\"icgauth.banquepopulaire.fr/credit-maritime-mediterranee-se-connecter\");\r\nvar Marze = window.location.href.indexOf(\"icgauth.banquepopulaire.fr/marze-se-connecter\");\r\nvar Dupuy = window.location.href.indexOf(\"icgauth.banquepopulaire.fr/dupuy-de-parseval-se-connecter\");\r\nvar Palatine = window.location.href.indexOf(\"icgauth.epalatine.fr/se-connecter\");\r\n\r\n\t\t\t\r\nif (BP > 0) var urlbloc = \"https://www.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/les-reflexes-de-securite.aspx?EditorialVaryLevel=2&EditorialVaryHashPath=1135999091&vary=0-0-243\";\r\nif (BQSAV > 0) var urlbloc = \"https://www.banque-de-savoie.fr/portailinternet/Editorial/Informations/Pages/covid19/securisez-votre-compte-les-bons-reflexes-a-adopter-1.aspx?xtcr=3&xtmc=fraude&vary=0-0-0\";\r\nif (CMGO > 0) var urlbloc = \"https://www.cmgo.creditmaritime.fr/portailinternet/Editorial/Informations/Pages/covid19/securisez-votre-compte-les-bons-reflexes-a-adopter-1.aspx?xtcr=3&xtmc=fraude&vary=0-0-395\";\r\nif (CMMED > 0) var urlbloc = \"https://www.cmmed.banquepopulaire.fr/portailinternet/Editorial/Informations/Pages/Securisez-votre-compte-.aspx?xtcr=1&xtmc=fraude&vary=0-0-0\";\r\n\r\n*/\r\n\r\n\r\nvar urlbloc = \"https://www.banquepopulaire.fr/conseils/securpass\";\r\n\r\n\r\n// fill='#369ad4'\r\nvar codesvg =  \"<svg width='34' height='34' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#369ad4'fill-rule='nonzero'/></svg>\"\r\n\r\n/*\r\n// fill='#2E3642'\r\nif (BQSAV > 0) var codesvg =  \"<svg width='24' height='24' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#2E3642'fill-rule='nonzero'/></svg>\";\r\n\r\n// #0091CC\r\nif (CMMED > 0 || CMGO > 0) var codesvg =  \"<svg width='24' height='24' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#0091CC'fill-rule='nonzero'/></svg>\";\r\n\r\n//fill='#136ABA'\r\nif (Marze > 0) var codesvg =  \"<svg width='24' height='24' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#136ABA'fill-rule='nonzero'/></svg>\";\r\n\r\n// fill='#7C252C'\r\nif (Dupuy > 0) var codesvg =  \"<svg width='24' height='24' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#7C252C'fill-rule='nonzero'/></svg>\";\r\n\r\n\r\nif (Palatine >0) var codesvg =  \"<svg width='24' height='24' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill-rule='nonzero'/></svg>\"\r\n*/\r\n\r\n\r\nKameleoon.API.Core.runWhenConditionTrue(function(){\r\n    return (\r\n\t\tdocument.querySelector(\"#vir-modal-menu-iban > div.bpce-modal-animate-container > div.bpce-modal-middle-row-wrapper > div.bpce-modal-content-wrapper > vir-modal-container > vir-menu-iban-modal\") )\r\n }, function(){\r\n\r\n\r\n\r\nif (document.getElementsByClassName(\"steps\").length == 0)\r\n{\r\n\r\nhref = location.href;\r\n\r\n/* On déclare notre nouveau bloc et on lui ajoute la class correspondante */\r\nvar steps = document.createElement(\"div\");\r\nsteps.setAttribute(\"id\", \"kameleoonElement-auth-bp\");\r\nsteps.setAttribute(\"class\", \"steps bpce-modal-body\");\r\nvar newbloc = document.createElement(\"div\");\r\nnewbloc.setAttribute(\"class\", \"bpce-infobox-kam\"); // bpce-infobox-warning\");\r\n/* on Ajoute notre nouveau bloc dans le bloc parent */\r\n/*parentDiv.appendChild(newbloc);*/\r\nsteps.appendChild(newbloc);\r\n\r\n\r\n/* on ajout le pre titre */\r\n\r\nvar divpretitre = document.createElement(\"div\");\r\ndivpretitre.setAttribute(\"class\", \"divpretitre\");\r\ndivpretitre.textContent=pretitre;\r\nsteps.insertBefore(divpretitre, newbloc);\r\n\r\n\r\n\tvar parentDiv = document.querySelector(\"#vir-modal-menu-iban > div.bpce-modal-animate-container > div.bpce-modal-middle-row-wrapper > div.bpce-modal-content-wrapper > vir-modal-container > vir-menu-iban-modal\")\r\n\tvar enfantdiv = document.querySelector(\"#scan-iban-beneficiary-modal\")\r\n\r\n\t  parentDiv.insertBefore(steps, enfantdiv);\r\n\r\n\r\n\r\n\t\r\n/* On créé et on ajoute le header du bloc */\r\nvar headerbloc = document.createElement(\"div\");\r\nheaderbloc.setAttribute(\"class\", \"bpce-infobox-header\");\r\nnewbloc.appendChild(headerbloc);\r\n\r\nheaderbloc.innerHTML = codesvg;\r\n\r\n\r\n/* On créé le titre de l'info box */\r\nvar headertitle = document.createElement(\"p\");\r\nheadertitle.setAttribute(\"class\", \"bpce-infobox-title\");\r\nheadertitle.textContent = titrebloc;\r\nheaderbloc.appendChild(headertitle);\r\n\r\n\r\n/* On créé l'info box content */\r\nvar contentbloc = document.createElement(\"div\");\r\ncontentbloc.setAttribute(\"class\", \"bpce-infobox-content\");\r\n//contentbloc.textContent = messagebloc;\r\n\r\nvar ligne1 = document.createElement(\"p\");\r\n//var texte1 = document.createTextNode(messagebloc);\r\n//ligne1.appendChild(texte1)\r\n\r\nligne1.innerHTML = messageblochtml\r\n\r\ncontentbloc.appendChild(ligne1)\r\n\t\r\nnewbloc.appendChild(contentbloc);\r\n\r\n\r\n\r\n// On créé le lien vers un nouvel onglet \r\nvar boutonbloc = document.createElement(\"button\");\r\n\r\nboutonbloc.setAttribute(\"class\", \"bpce-infobox-action\");\r\nboutonbloc.setAttribute(\"type\", \"button\");\r\nvar lienbloc = document.createElement(\"a\");\r\nlienbloc.setAttribute(\"href\", urlbloc);\r\nlienbloc.setAttribute(\"target\", \"_blank\");\r\nlienbloc.textContent = lientextebloc;\r\n\t\r\n    /*\r\nif (BQSAV > 0) lienbloc.style.color = \"#E30613\";\r\nif (CMMED > 0 || CMGO > 0) lienbloc.style.color = \"#0061A1\";\r\n*/\r\n\r\nnewbloc.appendChild(boutonbloc);\r\nboutonbloc.appendChild(lienbloc);\r\n\r\n\t\r\nvar beneficiaryButton = Kameleoon.API.Utils.querySelectorAll(\"#new-beneficiary\")[0];\r\n\r\n Kameleoon.API.Utils.addEventListener(beneficiaryButton, \"mousedown\", function(event) {\r\naddInfo();\r\nKameleoon.API.Core.enableSinglePageSupport()\r\n}); \r\n\t\r\n};\r\n\t\r\n }, 200);\r\n \r\n \r\n \r\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":767550,"css":"/* START CUSTOM */\n\n#kameleoonElement-container .kam_banner_link{display:block;-webkit-box-shadow:none !important;box-shadow:none !important;outline:none !important}#kameleoonElement-container+div.container{display:none}#kameleoonElement-container .kameleoon-lame-refacto{position:relative;overflow:hidden;width:100%;font-family:Ubuntu, Arial, Helvetica, sans-serif}#kameleoonElement-container .kameleoon-lame-refacto.kam-bp-theme{--content-text-light: #ffffff;--content-text-dark: #080d34;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #051b71;--content-mobile-text-dark: #080d34;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #062499;--cta-text-dark: #062499;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #080d34;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-ce-theme{--content-text-light: #ffffff;--content-text-dark: #666666;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #3e454a;--content-mobile-text-dark: #666666;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #d7000f;--cta-text-dark: #d7000f;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bqsav-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #5f657c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #E30613;--cta-text-dark: #E30613;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #2e3642;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-cm-theme{--content-text-light: #ffffff;--content-text-dark: #080D3D;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0061a1;--content-mobile-text-dark: #080D3D;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #0061A1;--cta-text-dark: #0061A1;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #252c51;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-marze-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #136aba;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #293133;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bdp-theme{--content-text-light: #ffffff;--content-text-dark: ##333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #7c252c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #7c252c;--cta-text-dark: #7c252c;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #420C11;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-pal-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #62120f;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #62120F;--cta-text-dark: #62120F;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #000000;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-coop-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #00544d;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #C8102E;--cta-text-dark: #C8102E;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bcp-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #8f0e43;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #D1005D;--cta-text-dark: #D1005D;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4A4A4A;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-btp-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0b569b;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4a5a64;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto .banner-mobile-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-desktop-image{position:absolute;top:0;right:0;left:0;bottom:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{position:relative;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-right:210px;height:620px}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 480px + 140 * ((100vw - 1279px) / 640))}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 360px + 120 * ((100vw - 959px) / 320))}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{overflow:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:80px 80px 0;max-width:800px}@media (min-width: 1920px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{max-width:960px}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-upper{width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .secondary{color:var(--content-second-color)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle{font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{margin:0;font-size:2.2rem;line-height:2.5rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.6rem;line-height:2.2rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:calc((12 / 1280) * 100vw);line-height:calc((16 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:1.6rem;line-height:2.2rem}#kam-lame,#kam-souscrire-lame,#kam-assurance-lame{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.2rem;line-height:1.6rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{margin:0;padding:16px 0;font-size:6.4rem;line-height:6.4rem;font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:2.2rem;line-height:2.5rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((42 / 1280) * 100vw);line-height:calc((42 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((27 / 960) * 100vw);line-height:calc((27 / 960) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:1.6rem;line-height:2.2rem}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:3.8rem;line-height:3.8rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap{padding-top:40px}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{font-size:1.6rem;line-height:2.2rem;border:none;padding:17px 18px;font-weight:bold;border-radius:4px;min-width:156px;position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:background 0.25s ease;-o-transition:background 0.25s ease;transition:background 0.25s ease}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button::before{content:\"\";position:absolute;left:0;width:100%;top:0;height:100%;z-index:1;opacity:0;border-radius:4px;-webkit-transition:opacity 0.25s ease;-o-transition:opacity 0.25s ease;transition:opacity 0.25s ease;background:#000}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button span{z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{opacity:0.2}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;padding:16px 0;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{-webkit-box-sizing:border-box;box-sizing:border-box;font-size:1.3rem;line-height:1.8rem;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob strong{font-size:1.6rem;line-height:2.2rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text strong{font-size:16px;line-height:normal}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example{max-width:210px;height:100%;position:absolute;right:0;top:0;padding:16px;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_dark{background-color:var(--example-background-dark);color:var(--example-text-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_light{background-color:var(--example-background-light);color:var(--example-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example .example__text{max-height:100%;overflow-y:auto;margin:0;padding:0}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer{padding-left:80px;padding-right:80px}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_light{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_dark{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer-empty{background:transparent !important}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second{padding:16px 0;font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light{color:var(--content-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-light);background:var(--cta-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark{color:var(--content-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-dark);background:var(--cta-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover{background:#EEEEEE}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{content:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob strong{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail{max-width:1920px;margin:auto}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:72px}@media (min-width: 960px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:64px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:3.125vw 3.125vw 0;max-width:50vw}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .title{padding:8px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{min-width:172px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:3.125vw;padding-right:3.125vw}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:40px 40px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{padding:9px 18px}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-mobile-image{display:block;width:100%;max-height:560px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-desktop-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:0;height:auto;-ms-flex-wrap:wrap;flex-wrap:wrap}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example-mob{display:block;padding-top:24px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light{color:var(--content-mobile-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-wrapper{background:var(--content-mobile-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-footer{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark{color:var(--content-mobile-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-wrapper{background:var(--content-mobile-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-footer{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:16px 16px 0;max-width:none;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px;padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:16px;padding-right:16px}}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw{padding-bottom:0px;max-width:792px;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper{height:297px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper{padding-right:396px;height:297px;max-height:297px;overflow:hidden}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example{max-width:395px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper{padding:32px 32px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-second,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sub{font-size:13px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub{font-size:11px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sup{vertical-align:super}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title{padding:8px 0;font-size:22px;line-height:25px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sub{font-size:16px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap{padding-top:16px;font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap button{font-size:16px;line-height:22px;min-width:165px;padding:9px 18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down{padding:6px 0 16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:16px;line-height:21px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer{padding-left:32px;padding-right:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second strong{font-size:16px;line-height:21px}#kameleoonElement-container.has-link{cursor:pointer}[id^=\"kam_lame_\"] .kameleoon-lameBP img{width:715px}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 2469 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw cyber\",widget_brand:\"bp\",styleTheme:\"bp\",widget_type:\"lame_BP_connected\",id:\"86897\",location:\"lameCE_location_cyber\",position_cyber:[\"cyber_homepage\"],encart_ancien:\"lameBP_ancien\",lame_pre_title:\"\",lame_title:\"\",lame_description:\"\",lame_color:\"#369AD4\",lame_mention_legale_1:\"\",lame_mention_legale_2:\"\",lame_exemple_representatif:\"\",lame_color_select:null,lame_cta_name:\"\",lame_cta_url:\"\",ancien_image:\"https://arpfxvgcm0.kameleoon.eu/images/148746-e19a8e8c-80a5-426e-93d9-094815afab68.png\",ancien_url_desktop:\"**portail-wp**/professionnels/assurer-activite-et-proches/prevoyance-pro/\",ancien_url_desktop_tache:\"\",priority:\"950\",displayCapping:\"3\",clickCapping:\"\",campaign_type:\"P\",category:\"assurance\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:86897,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(86897)}};\n/* LAME BP V6 - New formats |x| DPW - connected */\nconst a=e,n=(a.widget_type,`kameleoon__${a.persoID}`),t=a.position_dpw?\"dpw\":\"cyber\",o=(e,n)=>{Kameleoon.API.Utils.addEventListener(e,\"mousedown\",(e=>{Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",n.persoID),\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const e={},t=((e=a)=>{const{persoID:n,category:t,priority:o,displayCapping:l,clickCapping:i,campaign_type:r}=e,{name:c,segmentName:m,actualPosition:s}=window.kameleoonAutopromoPerso[n];return`[${c}]|[${n}]|[${t}]|[${s}]|[${o}]|[${l}]|[${i}]|[${r}]|[${m}];`})(n),o={\"vignette.liste\":t,\"vignette.nom\":t,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};((e=a)=>{const{id:n,clickCapping:t}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return o&&o===t})(n)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(e,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(e)}))}))};\n/** Banner layout */\nconst l={bcp:\"kam-bcp-theme\",bdp:\"kam-bdp-theme\",bp:\"kam-bp-theme\",pal:\"kam-pal-theme\",bqsav:\"kam-bqsav-theme\",btp:\"kam-btp-theme\",ce:\"kam-ce-theme\",cm:\"kam-cm-theme\",cmgo:\"kam-cmgo-theme\",cmmed:\"kam-cmmed-theme\",coop:\"kam-coop-theme\",marze:\"kam-marze-theme\",socfim:\"kam-socfim-theme\"};function i(e){const a=function(e){const a=e.styleTheme?l[e.styleTheme]:l.ce,n=document.createElement(\"div\");n.id=\"kameleoonElement-container\";let t=`kameleoon-lame-refacto ${a}`,o=!1;switch(e.location){case\"lameCE_location_dpw\":t+=\" kameleoon-lame-refacto_dpw\";break;case\"lameCE_location_nouveauPortail\":t+=\" kameleoon-lame-refacto_portail\",o=!0;break;default:console.log(\"[KAM] newVersion\")}let i=!1;switch(e.lame_format){case\"lame_texte_clair\":t+=\" kameleoon-lame-refacto_dark\";break;case\"lame_texte_fonce\":t+=\" kameleoon-lame-refacto_light\";break;case\"lame_image\":t+=\" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\",i=!0;break;default:console.log(\"[KAM] newFormat\")}const r=e.lame_mobile_image&&o?`\\n        <figure>\\n            <picture>\\n                <img src=\"${e.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\\n            </picture>\\n        </figure>`:\"\",c=e.lame_pre_title?`\\n        <h5 class=\"subtitle\">${e.lame_pre_title}</h5>`:\"\",m=e.lame_title?`\\n        <h1 class=\"title\">${e.lame_title}</h1>`:\"\",s=e.lame_description?`\\n        <p class=\"description\">${e.lame_description}</p>`:\"\",_=\"lameCE_location_nouveauPortail\"===e.location&&e.lame_exemple_representatif?`\\n        <div class=\"example-mob\">${e.lame_exemple_representatif}</div>`:\"\",p=e.lame_exemple_representatif?`\\n        <div \\n        class=\"example ${\"dark\"===e.lame_color_select?\"example_dark\":\"example_light\"}\">\\n            <p class=\"example__text\">\\n                ${e.lame_exemple_representatif}\\n            </p>\\n        </div>`:\"\",d=e.lame_mention_legale_1?`\\n        <div class=\"main-text__wrapper-down\">\\n            <div class=\"agreement-first\">\\n                ${e.lame_mention_legale_1}\\n            </div>\\n        </div>`:\"\";let u=\"\";e.lame_mention_legale_2?u=`\\n        <div class=\"banner-footer ${\"dark\"===e.lame_color_select?\"banner-footer_light\":\"banner-footer_dark\"}\">\\n            <div class=\"agreement-second\">\\n                ${e.lame_mention_legale_2}\\n            </div>\\n        </div>`:o&&(t+=\" kameleoon-lame-refacto_portail_no-footer\");let g=\"\";g=e.lame_cta_name?`\\n        <div class=\"cta-wrap\">\\n            <button><span>${e.lame_cta_name}</span></button>\\n        </div>`:\"\";const k=!o&&i?\"\":`\\n    <div class=\"main-text\"> \\n        <div class=\"main-text__wrapper\">\\n            <div class=\"main-text__wrapper-upper\">\\n                ${c}\\n                ${m}\\n                ${s}\\n                ${_}\\n                ${g}\\n            </div>\\n            ${d}\\n        </div>\\n    </div>`;e.lame_color&&(n.style=`--content-second-color: ${e.lame_color};`);const v=`\\n        <div class=\"${t}\">\\n            ${r}\\n            <div class=\"banner-wrapper\">\\n                <figure>\\n                    <picture>\\n                        <img src=\"${e.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \\n                    </picture>\\n                </figure>\\n                ${k}\\n\\t\\t\\t\\t${p}\\n            </div>\\n            ${u}\\n        </div>`;return((a,n)=>{const t=()=>{e.lame_cta_checkbox?window.open(e.lame_cta_url,\"_blank\"):window.location.href=e.lame_cta_url};if(n){const e=()=>window.innerWidth>=960;let n=e();window.addEventListener(\"resize\",(()=>{n!==e()&&(n=e())})),a.addEventListener(\"click\",(()=>{n&&t()}))}else a.addEventListener(\"click\",t)})(n,!!(e.lame_cta_name&&o&&i&&e.lame_cta_url)),n.innerHTML=v,e.lame_cta_url&&n.classList.add(\"has-link\"),n}(e);Kameleoon.API.Core.runWhenElementPresent('div[id*=\"lame\"], .home-slider',(([t])=>{t.classList.add(n),t.insertAdjacentElement(\"afterbegin\",a),o(a,e)}))}\n/** Init part */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{\n/** Replace regional urls */\nvar e,l,r,c;\n/** Banner injection */\nswitch(e=a,l=JSON.parse(window.top.sitecodeData),r=/\\*\\*[\\w-]+\\*\\*/g,c=function(e){var a=e.replace(/\\*/g,\"\");return l[a]?l[a]:e},Object.keys(e).forEach((function(a){a.match(\"url\")&&(e[a]=e[a].replace(r,c))})),t){case\"cyber\":!function(e){if(e.position_cyber){var a=n+e.persoID;Kameleoon.API.Core.runWhenElementPresent('[id^=\"kam_lame_\"]',(([t])=>{if(!document.querySelector(n)){//not sure its still needed, but it's cyber... who knows\nt.classList.add(a);var l=document.createElement(\"a\");l.classList.add(\"kameleoon-lameBP\"),l.innerHTML='<img src=\"'.concat(e.ancien_image,'\" alt=\"\">'),e&&e.ancien_url_desktop_tache?(l.href=e.ancien_url_desktop_tache?\"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(e.ancien_url_desktop_tache):\"#\",l.target=\"_top\"):(l.href=e&&e.ancien_url_desktop?e.ancien_url_desktop:\"#\",l.target=\"_blank\",l.rel=\"noopener noreferrer\"),o(l,e),t.appendChild(l)}}))}}(a);break;case\"dpw\":i(a);break;default:console.log(\"[Kameleoon] Not cyber nor DPW:\",t)}}),100)}();\n/* END WIDGET 2469 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw cyber","widget_brand":"bp","styleTheme":"bp","widget_type":"lame_BP_connected","id":"86897","location":"lameCE_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_ancien","lame_pre_title":"","lame_title":"","lame_description":"","lame_color":"#369AD4","lame_mention_legale_1":"","lame_mention_legale_2":"","lame_exemple_representatif":"","lame_color_select":null,"lame_cta_name":"","lame_cta_url":"","ancien_image":"STATIC_IMAGE_PATH148746-e19a8e8c-80a5-426e-93d9-094815afab68.png","ancien_url_desktop":"**portail-wp**/professionnels/assurer-activite-et-proches/prevoyance-pro/","ancien_url_desktop_tache":"","priority":"950","displayCapping":"3","clickCapping":"","campaign_type":"P","category":"assurance","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":781071,"css":"/* START CUSTOM */\n\n/* CSS */\r\n\r\n\r\n:root {\r\n  \t--primary : #051b71;\r\n\t--secondary : #369ad4;\r\n}\r\n\r\n\r\n/* Bp \r\n\t--primary : #051b71;\t--secondary : #369ad4; */\r\n\r\n/* BQSAV \r\n\t--primary : #E30613;\t--secondary : #2E3642; */\r\n\r\n/* CM \r\n\t--primary : #0061A1;\t--secondary : #0091CC; */\r\n\t\r\n/* Marze \r\n\t--primary : #136ABA;\t--secondary : #293133; */\r\n\t\r\n/* Dupuy \r\n\t--primary : #7C252C;\t--secondary : #f9b237; */\r\n\t\r\n/* Palatine \r\n\t--primary : #62120F;\t--secondary : #000000; */\r\n\t\r\n\r\n\r\n.bpce-infobox-title {\r\n    font-weight: 700 ;\r\n    font-size: 1rem ;\r\n    line-height: 1.375rem ;\r\n    margin: 8px 0 0 8px ;\r\n\tpadding-left: 8px;\r\n\r\n\t    font-weight: normal;\r\n    font-size: 15px;\r\n    font-family: \"Ubuntu-Bold\", Helvetica, Arial, sans-serif;\r\n}\r\n\r\n\r\n.bpce-infobox-kam {\r\n    padding: 16px ;\r\n    border-radius: 4px ;\r\n\tborder : 0px;\r\n    margin-top:8px;\r\n    margin-bottom: 24px ;\r\n\tcolor:#333;\r\n\tborder: 1px solid ;\r\n    border-color: var(--secondary) ;\r\n\ttext-align:left;\r\n}\r\n\r\n.bpce-infobox-header {\r\n    display: flex ;\r\n    align-items: center ;\r\n    margin-bottom: 8px ;\r\n}\r\n\r\n.bpce-infobox-icon {\r\n    width: 24px ;\r\n    height: 24px ;\r\n    fill:  var(--secondary) ;\r\n    flex: 0 0 auto ;\r\n}\r\n\r\n\r\n.bpce-infobox-action a:-webkit-any-link {\r\n    color: var(--primary);\r\n    display: inline-block ;\r\n    margin-top: 8px ;\r\n\ttext-decoration: none;\r\n\tfont-family: Ubuntu;\r\n\twidth:100%;\r\n    \r\n}\r\n\r\n.bpce-infobox-action {\r\n /*   width: 170px !important;\r\n    margin-left:calc(50% - 85px);\r\n    align-items: center !important;\r\n    border: none ;\r\n    background: none ;\r\n    padding: 0 ;\r\n    cursor: pointer ;\r\n\talign-items: center;\r\n\twidth:100%;\r\n    font-weight: 400 ;\r\n    font-size: 0.8125rem ;\r\n    line-height: 1.125rem ;*/\r\n\r\n\twidth:100%;\r\n\tborder: none ;\r\n    background: none ;\r\n\r\nfont-family: 'Ubuntu';\r\nfont-style: normal;\r\nfont-weight: 400;\r\nfont-size: 13px;\r\nline-height: 18px;\r\n/* identical to box height, or 138% */\r\n\r\ndisplay: flex;\r\nalign-items: center;\r\ntext-align: center;\r\n\r\n/* brand/light/banque_populaire/primary */\r\n\r\ncolor: #051B71;\r\n\r\n\r\n/* Inside auto layout */\r\n\r\nflex: none;\r\norder: 0;\r\nflex-grow: 0;\r\n    \r\n}\r\n\r\n\r\n    .bpce-infobox-action a:hover {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    \r\n    .divpretitre {\r\n\tcolor:#666;\r\n\tmargin-bottom: 16px ;\r\n\tfont-size:0.8125em;\r\n}\r\n    \r\np span {\r\n\tfont-weight: normal;\r\n    font-size: 15px!important;\r\n    font-family: \"Ubuntu-Bold\", Helvetica, Arial, sans-serif;\r\n}\r\n\r\n\r\n\r\n.Contentmessage {\r\n\t\r\n/* desktop/body-md */\r\n\r\nfont-family: 'Ubuntu';\r\nfont-style: normal;\r\nfont-weight: 400;\r\nfont-size: 16px;\r\nline-height: 22px;\r\n/* or 138% */\r\n\r\ndisplay: flex;\r\nalign-items: baseline;\r\n\r\n/* common-light/text-major */\r\n\r\ncolor: #333333;\r\n\r\n\r\n/* Inside auto layout */\r\n\r\nflex: none;\r\norder: 1;\r\nalign-self: stretch;\r\nflex-grow: 0;\r\nflex-wrap: wrap;}","elementSets":[],"javaScriptCode":{"code":"/* Bloc création bénéficiaire Cyber */\r\n\r\n/*Ciblage cyber/internet/StartTask.do?taskInfoOID=creerBenef*/\r\n\r\n\r\n\r\n/* JS */\r\n\r\n\r\nlet regexBPCESegmentSondes = /ExclusionSondesBPCEIT/i;\r\n\r\n\r\nKameleoon.API.Core.runWhenConditionTrue(function(){ return document.querySelector(\"body\") && (regexBPCESegmentSondes.test(Kameleoon.API.CurrentVisit.customData[\"BPCESegments\"]) == false || typeof Kameleoon.API.CurrentVisit.customData[\"BPCESegments\"] ==\"undefined\") },\r\nfunction addInfo(){       \r\n\r\n\r\n\r\nvar titrebloc = \"Vous souhaitez ajouter un bénéficiaire sans délai d'attente ?\";\r\n\r\nvar messagebloc = \"Ajoutez votre bénéficiaire immédiatement depuis notre <span>application mobile, sous réserve d'être span>équipé de Sécur'Pass.\";\r\n\r\nvar messageblochtml = \"<div class='Contentmessage'>Ajoutez votre bénéficiaire immédiatement depuis notre <span>application mobile</span>, sous réserve d'être <span>équipé de Sécur'Pass</span>.</div>\";\r\n\r\n\r\nvar lientextebloc = \"En savoir plus sur Sécur'Pass\";\r\n\r\n\r\n\r\n//var BP = window.location.href.indexOf(\"banquepopulaire.fr\");\r\nvar BQSAV = window.location.href.indexOf(\"ibps.banquedesavoie.banquepopulaire.fr\");\r\nvar CMGO = window.location.href.indexOf(\"ibps.cmgo.creditmaritime.groupe.banquepopulaire.fr\");\r\nvar CMMED = window.location.href.indexOf(\"ibps.cmmed.banquepopulaire.fr\");\r\nvar Marze = window.location.href.indexOf(\"ibps.marze.banquepopulaire.fr\");\r\nvar Dupuy = window.location.href.indexOf(\"ibps.bdp.banquepopulaire.fr\");\r\n\r\nvar Palatine = window.location.href.indexOf(\"ibps.epalatine.fr\");\r\n\t\t\t\r\nvar urlbloc = \"https://www.banquepopulaire.fr/conseils/securpass\";\r\n\r\n//if (BP > 0) var urlbloc = \"https://www.banquepopulaire.fr/conseils/securpass\";\r\nif (BQSAV > 0) var urlbloc = \"https://www.banque-de-savoie.fr/comptes-cartes/protection-des-operations-bancaires-securpass/\";\r\nif (CMGO > 0) var urlbloc = \"https://www.banquepopulaire.fr/cmgo/comptes-cartes/protection-des-operations-bancaires-securpass/\";\r\nif (CMMED > 0) var urlbloc = \"https://www.banquepopulaire.fr/cmmed/comptes-cartes/protection-des-operations-bancaires-securpass/\";\r\nif (Dupuy > 0) var urlbloc = \"https://www.banquepopulaire.fr/bdp/comptes-cartes/protection-des-operations-bancaires-securpass/\";\r\nif (Marze > 0) var urlbloc = \"https://www.banquepopulaire.fr/marze/comptes-cartes/protection-des-operations-bancaires-securpass/\";\r\nif (Palatine > 0) var urlbloc = \"https://www.palatine.fr/clients-prives/gerer-comptes/securpass/\";\r\n\r\n\r\n\r\n\r\n// fill='#369ad4'\r\nvar codesvg =  \"<svg width='21' height='21' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#369ad4'fill-rule='nonzero'/></svg>\"\r\n\r\n\r\n// fill='#2E3642'\r\nif (BQSAV > 0) var codesvg =  \"<svg width='21' height='21' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#2E3642'fill-rule='nonzero'/></svg>\";\r\n\r\n// #0091CC\r\nif (CMMED > 0 || CMGO > 0) var codesvg =  \"<svg width='21' height='21' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#0091CC'fill-rule='nonzero'/></svg>\";\r\n\r\n//fill='#136ABA'\r\nif (Marze > 0) var codesvg =  \"<svg width='21' height='21' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#136ABA'fill-rule='nonzero'/></svg>\";\r\n\r\n// fill='#7C252C'\r\nif (Dupuy > 0) var codesvg =  \"<svg width='21' height='21' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#7C252C'fill-rule='nonzero'/></svg>\";\r\n\r\n// fill='#000000'\r\nif (Palatine >0) var codesvg =  \"<svg width='21' height='21' viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><path d='M256 31c123.52 0 224 100.48 224 224S379.52 479 256 479 32 378.52 32 255 132.48 31 256 31zm0 32C150.128 63 64 149.128 64 255s86.128 192 192 192 192-86.128 192-192S361.872 63 256 63zm0 128.312c8.848 0 16 7.152 16 16v160c0 8.848-7.152 16-16 16-8.848 0-16-7.152-16-16v-160c0-8.848 7.152-16 16-16zM256 127c8.832 0 16 7.168 16 16s-7.168 16-16 16-16-7.168-16-16 7.168-16 16-16z' fill='#000000'fill-rule='nonzero'/></svg>\";\r\n\r\n\r\n\r\nKameleoon.API.Core.runWhenConditionTrue(function(){\r\n    return (\r\n\t\tdocument.querySelector(\"#blc5\") )\r\n }, function(){\r\n\r\n\r\n\r\nif (document.getElementsByClassName(\"steps\").length == 0)\r\n{\r\n\r\nhref = location.href;\r\n\r\n/* On déclare notre nouveau bloc et on lui ajoute la class correspondante */\r\nvar steps = document.createElement(\"div\");\r\nsteps.setAttribute(\"id\", \"kameleoonElement-auth-bp\");\r\nsteps.setAttribute(\"class\", \"steps bpce-modal-body\");\r\nvar newbloc = document.createElement(\"div\");\r\nnewbloc.setAttribute(\"class\", \"bpce-infobox-kam\"); // bpce-infobox-warning\");\r\n/* on Ajoute notre nouveau bloc dans le bloc parent */\r\n/*parentDiv.appendChild(newbloc);*/\r\nsteps.appendChild(newbloc);\r\n\r\n\r\n\r\n\r\n\tvar parentDiv = document.querySelector(\"#blc5\")\r\n\tvar enfantdiv = document.querySelector(\"#blc5 > div.bdy.mib\")\r\n\r\n\t  parentDiv.insertBefore(steps, enfantdiv);\r\n\r\n\r\n\r\n\t\r\n/* On créé et on ajoute le header du bloc */\r\nvar headerbloc = document.createElement(\"div\");\r\nheaderbloc.setAttribute(\"class\", \"bpce-infobox-header\");\r\nnewbloc.appendChild(headerbloc);\r\n\r\nheaderbloc.innerHTML = codesvg;\r\n\r\n\r\n/* On créé le titre de l'info box */\r\nvar headertitle = document.createElement(\"p\");\r\nheadertitle.setAttribute(\"class\", \"bpce-infobox-title\");\r\nheadertitle.textContent = titrebloc;\r\nheaderbloc.appendChild(headertitle);\r\n\r\n\r\n/* On créé l'info box content */\r\nvar contentbloc = document.createElement(\"div\");\r\ncontentbloc.setAttribute(\"class\", \"bpce-infobox-content\");\r\n//contentbloc.textContent = messagebloc;\r\n\r\nvar ligne1 = document.createElement(\"p\");\r\n//var texte1 = document.createTextNode(messagebloc);\r\n//ligne1.appendChild(texte1)\r\n\r\nligne1.innerHTML = messageblochtml\r\n\r\ncontentbloc.appendChild(ligne1)\r\n\t\r\nnewbloc.appendChild(contentbloc);\r\n\r\n\r\n\r\n// On créé le lien vers un nouvel onglet \r\nvar boutonbloc = document.createElement(\"button\");\r\n\r\nboutonbloc.setAttribute(\"class\", \"bpce-infobox-action\");\r\nboutonbloc.setAttribute(\"type\", \"button\");\r\nvar lienbloc = document.createElement(\"a\");\r\nlienbloc.setAttribute(\"href\", urlbloc);\r\nlienbloc.setAttribute(\"target\", \"_blank\");\r\nlienbloc.textContent = lientextebloc;\r\n\t\r\n   /* \r\nif (BQSAV > 0) lienbloc.style.color = \"#2E3642\";\r\nif (CMMED > 0 || CMGO > 0) lienbloc.style.color = \"#0091CC\";\r\nif (Marze > 0) lienbloc.style.color = \"#136ABA\";\r\nif (Dupuy > 0) lienbloc.style.color = \"#f9b237\";\r\nif (Palatine >0) lienbloc.style.color = \"#000000\";\r\n*/\r\n\r\nnewbloc.appendChild(boutonbloc);\r\nboutonbloc.appendChild(lienbloc);\r\n\r\n\r\n};\r\n\t\r\n }, 200);\r\n \r\n \r\n \r\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":784345,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_type:\"native_ad\",id:\"92662\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_assurances_logement\",\"dpw_assurances_famille\",\"dpw_assurances_voiture\"],native_ad_title:\"test nicolas autopromo assurance\",native_ad_description:\"test nicolas autopromo assurance\",native_ad_cta:\"test\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/espace-client/assurance:\",native_ad_legal:\"\",priority:\"100\",displayCapping:\"\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"assurance\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction a(e,n,t){const o=e.parentNode;o&&(n.test(o.id)?o.classList.add(t):a(o,n,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=92662,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(92662)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const n=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=n,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var a=e.replace(/\\*/g,\"\");return o[a]?o[a]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,s))}));const c=function(e){const a=(e,a)=>a&&e?a(e):e||\"\",n=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${a(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${a(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${a(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${a(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${a(e.native_ad_cta)}</span>\\n    </div>\\n    `;return n.classList.add(\"kameleoon-native-ad-container\"),n.innerHTML=t,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(a=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const a=e=>{const{id:a,clickCapping:n}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===a))?.[0]?.count.toString();return t&&t===n},n=e=>{const{persoID:a,category:n,priority:t,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:c,segmentName:d,actualPosition:r}=window.kameleoonAutopromoPerso[a];return`[${c}]|[${a}]|[${n}]|[${r}]|[${t}]|[${o}]|[${i}]|[${s}]|[${d}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=n(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};a(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const n=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(n,\"_blank\")})),n}(n);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,n,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!n.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+n.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,a,n){const t={};for(let o=0;o<a.length;o++)if(e[a[o]]&&document.querySelector(e[a[o]])&&!document.querySelector(e[a[o]]).className.match(n)){t.position=e[a[o]],t.name=a[o];break}return t}(t,n.position_dpw,o),c=document.querySelector(s.position),d=/kam-family/i,r=\"kameleoon-native-ad__visible\";c&&!document.querySelector(i)&&(c.appendChild(e),c.classList.add(i),a(c,d,r))}(c,n,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad","id":"92662","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_assurances_logement","dpw_assurances_famille","dpw_assurances_voiture"],"native_ad_title":"test nicolas autopromo assurance","native_ad_description":"test nicolas autopromo assurance","native_ad_cta":"test","native_ad_url_desktop":"https://www.banquepopulaire.fr/espace-client/assurance:","native_ad_legal":"","priority":"100","displayCapping":"","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"assurance","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":784356,"css":"/* START CUSTOM */\n\n:root{--push-edito-font: 'ubuntu';--push-edito-theme-color-primary: #000000}.kameleoon-push-edito.bcp-theme{--push-edito-theme-color-primary: #D1005D}.kameleoon-push-edito.bdp-theme{--push-edito-theme-color-primary: #7C252C}.kameleoon-push-edito.bp-theme{--push-edito-theme-color-primary: #062499}.kameleoon-push-edito.pal-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqpa-theme{--push-edito-theme-color-primary: #62120F}.kameleoon-push-edito.bqsav-theme{--push-edito-theme-color-primary: #E30613}.kameleoon-push-edito.btp-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.ce-theme{--push-edito-theme-color-primary: #D7000F}.kameleoon-push-edito.cmgo-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.cmmed-theme{--push-edito-theme-color-primary: #0061A1}.kameleoon-push-edito.coop-theme{--push-edito-theme-color-primary: #C8102E}.kameleoon-push-edito.marze-theme{--push-edito-theme-color-primary: #136ABA}.kameleoon-push-edito.socfim-theme{--push-edito-theme-color-primary: #000000}div#kam-ped-1,div#kam-ped-2{padding-left:24px}.kameleoon-push-edito{width:358px;height:auto;padding:16px;margin-bottom:20px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;background-color:#F9F9FB;text-align:left;cursor:pointer}.kameleoon-push-edito:hover{background-color:#F5F5F5}.kameleoon-push-edito:active{background-color:#CCCCCC}.kameleoon-push-edito__img{width:56px;height:56px}.kameleoon-push-edito__title{font-family:var(--push-edito-font);margin-top:8px;font-size:16px;font-weight:bold;color:#3A3A3A}.kameleoon-push-edito__description{font-family:var(--push-edito-font);font-weight:400;margin-top:8px;font-size:16px;color:#3A3A3A}.kameleoon-push-edito__legal{font-family:var(--push-edito-font);color:#666666;font-weight:400;margin-top:8px;font-size:16px}.kameleoon-push-edito__cta{font-family:var(--push-edito-font);margin-top:8px;font-size:13px;color:var(--push-edito-theme-color-primary)}.kameleoon-push-edito sup{vertical-align:super}.kameleoon-push-edito sub{font-size:13px}.kameleoon-push-edito__legal strong{font-size:18px}.kameleoon-push-edito__description strong{font-weight:700}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 767 */\n!function(){var e={type:\"Autopromo\",widget_type:\"push_edito\",id:\"92663\",location:[\"push-edito_location_dpw\"],position_dpw:[\"dpw_documents_1\"],image:\"https://arpfxvgcm0.kameleoon.eu/images/155259-0181a00b-4427-4f59-80d4-d4fe9f434a81.png\",title:\"test push edito NIcolas\",description:\"test push edito Nicolas\",cta:\"test\",url_desktop:\"https://www.banquepopulaire.fr/espace-client/documents\",legal:\"\",priority:\"100\",displayCapping:\"\",clickCapping:\"\",campaign_type:\"P\",market:\"push-edito_particuliers\",category:\"banque\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:92663,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(92663)}};\n/** push-edito BP - V6 */\nclass t{constructor(e){this.userData=e,this.availablePositions={dpw_comptes_1:\"#kam-ped-1\",dpw_comptes_2:\"#kam-ped-2\",dpw_assurances_1:\"#kam-assurance-ped-1\",dpw_assurances_2:\"#kam-assurance-ped-2\",dpw_souscrire_1:\"#kam-souscrire-ped-1\",dpw_documents_1:\"#kam-documents-ped-1\",dpw_souscrire_pro_1:\"#kam-souscrire-ped-1-pro\"},this.bannerPrefixId=\"kameleoon__\"}\n/**\n   * Returns the push-edito banner\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#e(e){const t=(e,t)=>t&&e?t(e):e||\"\",n=document.createElement(\"div\");return n.classList.add(\"kameleoon-push-edito-container\"),n.innerHTML=`\\n      <div class=\"kameleoon-push-edito ${t(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n        <img class=\"kameleoon-push-edito__img\" src=\"${t(e.image)}\">\\n        <span class=\"kameleoon-push-edito__title\">${t(e.title)}</span>\\n        <span class=\"kameleoon-push-edito__description\">${t(e.description)}</span>\\n        <span class=\"kameleoon-push-edito__legal\">${t(e.legal)}</span>\\n        <span class=\"kameleoon-push-edito__cta\">${t(e.cta)}</span>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(t=>{this.#t(e),this.#n(e),window.open(e.url_desktop||\"#\",\"_blank\")})),n}\n/**\n\t * Insert the banner in the DOM\n\t * @param {HTMLElement} banner\n\t * @param {object} userData\n\t * @param {object} availablePositions\n\t */#o(e,t,n){if(document.querySelectorAll(\".kameleoon-push-edito\").length>=2)throw new Error(\"the maximum number of displayed banners has been reached (2/2)\");if(!document.querySelectorAll(\"div[id*=-ped-]\"))throw new Error(\"there is no space available on the page for a push-edito banner\");const o=this.#a(n,t.position_dpw,this.bannerPrefixId);Kameleoon.API.Core.runWhenElementPresent(o.selector,(([n])=>{this.#i(),n.classList.add(this.bannerPrefixId+t.persoID),n.appendChild(e)}))}\n/**\n\t * Hides default push-edito banner (is it legacy?)\n\t */#i(){Kameleoon.API.Core.runWhenElementPresent(\"#kam-ped-default\",(([e])=>{e.style.display=\"none\"}))}\n/**\n\t * Returns the next available position (name and CSS selector) for the current banner\n\t * @param {object} availablePositions\n\t * @param {array} positionsSelectedByUser\n\t * @param {string} bannerId\n\t * @returns {object}\n\t */#a(e,t,n){const o={name:\"\",selector:\"\"};for(let a=0;a<t.length;a++){const i=e[t[a]];if(i&&document.querySelector(i)&&!document.querySelector(i)?.className?.match(n)){o.name=t[a],o.selector=i;break}}return o}\n/**\n\t * Sends analytics to Adobe\n\t * @param {object} userData\n\t */#n(e){Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const t={},n=function(e){const{persoID:t,category:n,priority:o,displayCapping:a,clickCapping:i,campaign_type:s}=e,{name:r,segmentName:p,actualPosition:l}=window.kameleoonAutopromoPerso[t];return`[${r}]|[${t}]|[${n}]|[${l}]|[${o}]|[${a}]|[${i}]|[${s}]|[${p}];`}(e),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};(function(e){const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(t)}))}\n/**\n   * \n   * @param {*} perso \n   */#s(e){const t=JSON.parse(window.top.sitecodeData),n=/\\*\\*[\\w-]+\\*\\*/g,o=function(e){const n=e.replace(/\\*/g,\"\");return t[n]?t[n]:e};Object.keys(e).forEach((function(t){t.match(\"url\")&&(e[t]=e[t].replace(n,o))}))}\n/**\n\t * Handles click capping\n\t * @param {object} userData\n\t */#t(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID)}init(){try{this.#s(this.userData);const e=this.#e(this.userData);this.#o(e,this.userData,this.availablePositions)}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new t(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t,{cause:t})}}),100)}();\n/* END WIDGET 767 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"push_edito","id":"92663","location":["push-edito_location_dpw"],"position_dpw":["dpw_documents_1"],"image":"STATIC_IMAGE_PATH155259-0181a00b-4427-4f59-80d4-d4fe9f434a81.png","title":"test push edito NIcolas","description":"test push edito Nicolas","cta":"test","url_desktop":"https://www.banquepopulaire.fr/espace-client/documents","legal":"","priority":"100","displayCapping":"","clickCapping":"","campaign_type":"P","market":"push-edito_particuliers","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":784465,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_GH3XY1PY8MBN","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"Optez pour une protection simple et accessible","native_ad_description":"Le contrat ASSURANCE PRÉCAUTION permet, sans aucune formalité médicale, de verser un capital à vos bénéficiaires en cas de décès.","native_ad_cta":"Découvrir l’offre ","native_ad_url_desktop":"https://www.banquepopulaire.fr/rivesparis/assurer/assurance-precaution/","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"","native_ad_legal":"Contenu à caractère publicitaire.","priority":"840","displayCapping":"5","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_ASSURANCE_PRECAUTION_CRM_2209 ","native_ad_distribution":"P","category":"assurance","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":788356,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"94559\",\"idtest\":\"94559\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_url_desktop\":\"https://www.mycarlease.fr/banque-populaire/professionnels/lld?utm_campaign=portail_bp_j12&utm_medium=referral&utm_source=bp&utm_content=simuler_contrat_j89\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"850\",\"displayCapping\":\"5\",\"clickCapping\":\"\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/156910-64dae7bf-bb41-4a92-b5f0-39bd7126a294.png\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"94559","idtest":"94559","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_url_desktop":"https://www.mycarlease.fr/banque-populaire/professionnels/lld?utm_campaign=portail_bp_j12&utm_medium=referral&utm_source=bp&utm_content=simuler_contrat_j89","ancien_url_desktop_tache":"","priority":"850","displayCapping":"5","clickCapping":"","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE","ancien_image":"STATIC_IMAGE_PATH156910-64dae7bf-bb41-4a92-b5f0-39bd7126a294.png"},"widgetTemplateName":null},{"name":"Variation 1","id":788357,"css":"/* START CUSTOM */\n\n.kameleoon-lameBP {\n\twidth: 100%;\n\tmax-width: 1920px;\n\theight: auto;\n\tmargin: 10px 0;\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tposition: relative;\n}\n/* Lame Image */\nsection.hero-banner a.kameleoon-lameBP {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tmargin: 0 auto;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP {\n\t\tmargin: 0;\n\t}\n}\n\n.kameleoon-lameBP--ancien {\n\theight: 350px;\n\tcursor: pointer;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--ancien {\n\t\theight: 272px;\n\t}\n}\n\n.kameleoon-lameBP--ancien #ancien_url_desktop {\n\tmargin-left: 49px;\n\twidth: 250px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\twidth: 100%;\n\tpadding: 40px;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\t-webkit-box-pack: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\t\tpadding: 36px 16px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\ttext-align: center;\n\twidth: 500px;\n\tpadding: 24px 40px;\n\tbackground: #fff;\n\tcolor: black;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tline-height: initial;\n}\n\n@media screen and (max-width: 1280px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 90%;\n\t\twidth: 800px;\n\t}\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\t\tmax-width: 100%;\n\t\tpadding: 24px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-ordinal-group: 0;\n\t-ms-flex-order: -1;\n\torder: -1;\n\twidth: 200px;\n\tpadding: 10px;\n\tmargin: auto;\n\tborder-radius: 20px;\n\tbackground: #ee7337;\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-ms-flex-pack: distribute;\n\tjustify-content: space-around;\n\tmargin-left: 5px;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container .kam-countdown-container__counter-group {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tmargin: 0 2px;\n\tfont-weight: bold;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 28px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\t\tfont-size: 26px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\tfont-size: 32px;\n\tfont-weight: bold;\n\tcolor: #ee7337;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__offer {\n\t\tfont-size: 28px;\n\t\tline-height: 30px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tfont-size: 18px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tbackground: #04209f;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__footnote {\n\tmargin-top: 8px;\n\tfont-size: 10px;\n\tcolor: grey;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 16px;\n\tbackground: #080c33;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tline-height: 18px;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal p {\n\tmargin: 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\t\tfont-size: 14px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 120px 0 120px 80px;\n\tcolor: #fff;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\t\tmargin-top: 40px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n\tmargin-top: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-orient: vertical;\n\t-webkit-box-direction: normal;\n\t-ms-flex-direction: column;\n\tflex-direction: column;\n\twidth: 50%;\n\tpadding: 80px 0 80px 80px;\n\tcolor: #051b71;\n\tfont-family: \"Ubuntu\", sans-serif;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t\tpadding: 120px 24px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content a {\n\ttext-decoration: none;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tmargin: 8px 0;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tline-height: 32px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tline-height: 22px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\t\tfont-size: 20px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tfont-size: 16px;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\t\tfont-size: 18px;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #062499;\n\tcolor: #fff;\n\tfont-size: 16px;\n\tfont-weight: bold;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button__link {\n\tmargin: 16px auto 0;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-lameBP--moitieBP .kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t\twidth: 100%;\n\t}\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP .kameleoon-legal__text--transparent {\n\tcolor: #051b71;\n}\n\n.kameleoon-legal {\n\tposition: relative;\n\tpadding: 0 40px;\n\tbackground: #080c33;\n}\na.kameleoon-lameBP .kameleoon-legal {\n\twidth: 100%;\n}\n.kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #f5f5f5;\n}\n\n.kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #080c33;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal {\n\t\tpadding: 0 24px;\n\t}\n}\n\n.kameleoon-legal__text {\n\tpadding: 16px 0;\n\tmargin: 0;\n\tfont-size: 13px;\n\tline-height: 16px;\n\tfont-family: \"Ubuntu\", sans-serif;\n\tcolor: #fff;\n}\np.kameleoon-legal__text strong {\n\tfont-size: 16px;\n}\n\n.kameleoon-legal__text--transparent {\n\tposition: absolute;\n\tbottom: 100%;\n\tright: 50%;\n\tleft: 80px;\n\tbackground: none;\n}\n\n@media screen and (max-width: 500px) {\n\t.kameleoon-legal__text--transparent {\n\t\tleft: initial;\n\t\tright: initial;\n\t}\n}\n\n/* DPW changes */\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitie .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encartBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 16px 32px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text {\n\tpadding: 0;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #fff;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-legal__text--transparent {\n\tposition: relative;\n\tleft: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 280px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content-container {\n\tpadding: 32px 24px 16px 24px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content {\n\twidth: 100%;\n\t-webkit-box-align: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__content .kameleoon__timer-container {\n\tposition: absolute;\n\ttop: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__subtitle {\n\tfont-size: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__title {\n\tfont-size: 27px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__description {\n\tmargin-top: 8px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--avec-encart .kameleoon-lameBP__legal {\n\tpadding: 8px 24px;\n\tfont-size: 13px;\n}\n\nmain#main .hero-banner {\n\tbackground-color: #fff;\n\toverflow: visible;\n}\n\nsection.hero-banner div.kameleoon-lameBP {\n\tmargin: auto;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: flex-start;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25v;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content {\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 16px;\n\t\tline-height: 16px;\n\t\tdisplay: block;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t\tfont-weight: bold;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content a button.kameleoon-lameBP__button {\n\t\tmargin-top: 16px;\n\t\twidth: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > a {\n\t\torder: 5;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 4;\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content + .kameleoon-legal {\n\t\tpadding: 0 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--moitieBP {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--moitieBP div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: #051b71;\n\t\tcolor: white;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\nsection.hero-banner .kameleoon-lameBP--sans-encart {\n\tbackground-size: cover;\n\tbackground-position: right;\n}\n\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\theight: 100%;\n\tjustify-content: end;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\theight: 56px;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content a.kameleoon-lameBP__link {\n\tmargin: 0;\n}\n\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t\tpadding-right: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 360px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.6666vw;\n\t\tline-height: 1.6666vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 2.8125vw;\n\t\tline-height: 2.8125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 40px;\n\t\tpadding-left: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 420px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.28125vw;\n\t\tline-height: 3.28125vw;\n\t\tmargin: 8px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 32px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 40px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 40px;\n\t}\n}\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 472px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 60px;\n\t\tpadding-left: 60px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.25vw;\n\t\tline-height: 1.25vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.33333vw;\n\t\tline-height: 3.33333vw;\n\t\tmargin: 12px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 36px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 60px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 60px;\n\t}\n}\n@media (min-width: 1920px) {\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\theight: 620px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\t\tpadding-top: 80px;\n\t\tpadding-left: 80px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span {\n\t\tfont-size: 1.122vw;\n\t\tline-height: 1.122vw;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 3.265vw;\n\t\tline-height: 3.265vw;\n\t\tmargin: 16px 0;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tmargin-top: 40px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\t\twidth: calc(50% - 80px);\n\t}\n\tsection.hero-banner .kameleoon-legal.outside {\n\t\tpadding: 0 80px;\n\t}\n}\n\n/* Mobile styles */\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-lameBP--image {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 20px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--image div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t\tmargin-top: 0;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: white;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP--sans-encart {\n\t\tcolor: white;\n\t\tpadding-top: 50%;\n\t\tbackground-size: contain;\n\t\tbackground-position: top;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t\tpadding: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal {\n\t\tposition: relative;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\theight: 40px;\n\t\tbackground-color: white;\n\t\tcolor: #062499;\n\t}\n}\n\n/* New css for legal content */\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 0;\n\tmargin-top: 10px;\n\tpadding: 0;\n\tbackground: transparent;\n}\n\nsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\tbackground: transparent;\n}\nsection.hero-banner div.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: white;\n}\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #062499;\n}\n\nsection.hero-banner .kameleoon-legal p {\n\tpadding-bottom: 32px;\n}\n\n/* DPW */\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__link {\n\tmargin: 16px 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP {\n\tmax-width: 792px;\n\tmax-height: 297px;\n\toverflow: visible;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content .kameleoon-legal {\n\tpadding: 0;\n\tbackground-color: transparent;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content {\n\tmax-height: inherit;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--sans-encart .kameleoon-lameBP__content .kameleoon-lameBP__description {\n\tmax-height: 85px;\n\toverflow: hidden;\n}\n\n.kameleoon-lameBP_dpw .kameleoon-lameBP__content + .kameleoon-legal .kameleoon-legal__text {\n\tpadding: 16px 0;\n}\n\n/* UX Fixes */\n\nsection.hero-banner .kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tcolor: #080c33;\n}\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal {\n\tbackground-color: #080c33;\n}\n\nsection.hero-banner .kameleoon-lameBP--moitieBP > .kameleoon-legal > .outside {\n\tcolor: #fff;\n}\n\nsection.hero-banner div.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal p {\n\tcolor: #666;\n}\n@media (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 1.71875vw;\n\t}\n}\n\n@media (min-width: 1280px) and (max-width: 1439px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 40px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-legal {\n\t\tpadding: 0 60px;\n\t}\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP__content .kameleoon-legal {\n\t\tpadding: 0;\n\t}\n}\n\n@media (min-width: 1920px) {\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tfont-size: 22px;\n\t\tline-height: 25px;\n\t}\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 64px;\n\t\tline-height: 64px;\n\t}\n\n\tsection.hero-banner .kameleoon-lameBP__content .kameleoon-legal p {\n\t\tpadding-bottom: 16px;\n\t}\n\n\t.kameleoon-legal {\n\t\tpadding: 0 80px;\n\t}\n\n\t/* Lame Image special */\n\tsection.hero-banner a.kameleoon-lameBP > img {\n\t\twidth: 100%;\n\t\tmax-width: 1920px;\n\t\tposition: relative;\n\t\ttext-align: center;\n\t}\n\tsection.hero-banner a.kameleoon-lameBP {\n\t\theight: 620px;\n\t\toverflow-y: hidden;\n\t}\n\tsection.hero-banner div#kameleoon-lameBP-imageContainer a.kameleoon-lameBP > img {\n\t\theight: auto;\n\t}\n}\n@media (max-width: 959px) {\n\tsection.hero-banner .kameleoon-container .kameleoon-lameBP {\n\t\tpadding-top: 60%;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t\tmargin: 16px 0 0;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP--sans-encart div.kameleoon-lameBP__content {\n\t\tbackground-color: #051b71;\n\t}\n\tsection.hero-banner div.kameleoon-container div.kameleoon-lameBP div.kameleoon-lameBP__content > span.kameleoon-lameBP__title {\n\t\tfont-size: 38px;\n\t\tline-height: 38px;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal > p {\n\t\tpadding: 0 0 0 0;\n\t}\n\tsection.hero-banner .kameleoon-lameBP .kameleoon-lameBP__content > .kameleoon-legal {\n\t\tmargin-top: 16px;\n\t}\n\n\tsection.hero-banner div.kameleoon-lameBP div.kameleoon-lameBP__content .kameleoon-legal {\n\t\torder: 5;\n\t\tposition: relative;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-lameBP {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: 100%;\n\t}\n\n\tsection.hero-banner div.kameleoon-container {\n\t\tposition: relative;\n\t\tpadding-top: 37.5%;\n\t}\n}\n\n@media screen and (min-width: 1440px) and (max-width: 1919px) {\n\tsection.hero-banner div.kameleoon-container {\n\t\tpadding-top: 32.77778%;\n\t}\n}\n\n/* Button fixes */\n@media screen and (min-width: 960px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\twidth: auto;\n\t\tmax-width: 90%;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@media screen and (min-width: 960px) and (max-width: 1279px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 8px 24px;\n\t}\n}\n\n@media screen and (min-width: 1280px) {\n\tsection.hero-banner div.kameleoon-lameBP__content button.kameleoon-lameBP__button {\n\t\tpadding: 16px 24px;\n\t}\n}\n\n/* Mentions legale + Lame_Content : variant text management */\n.kameleoon-lameBP__content strong {\n\tcolor: #369ad4;\n\tfont-weight: inherit;\n}\n.kameleoon-legal strong {\n\tcolor: inherit;\n\tfont-weight: inherit;\n\tfont-size: 16px;\n}\n\n#kam-lame .kameleoon-lameBP + .kameleoon-legal {\n\tpadding: 0 32px;\n}\n\n/*Lame Image DPW*/\n#kam-lame a.kameleoon-lameBP {\n\tmax-width: 792px;\n}\n#kam-lame a.kameleoon-lameBP img {\n\twidth: 100%;\n}\n\n/* Lame Image nouveauPortail */\nsection.hero-banner .kameleoon-lameBP--image .kameleoon-lameBP__button {\n\theight: 40px;\n\twidth: 207px;\n\tborder: none;\n\toutline: none;\n\tborder-radius: 5px;\n\tbackground: #fff;\n\tcolor: #062499;\n\tfont-size: 16px;\n\tfont-weight: 700;\n\tline-height: 22px;\n\tcursor: pointer;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-width: 1920px;\n\tmargin: auto;\n}\n\ndiv#kameleoon-lameBP-imageContainer {\n\tmax-height: 620px;\n\toverflow-y: hidden;\n}\n\na.kameleoon-lameBP:not([href]) {\n\tcursor: default;\n}\n\n/* IE Fix for image */\ndiv#kameleoon-lameBP-imageContainer img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n@media (max-width: 959px) {\n\t#kam-lame,\n\t#kam-souscrire-lame,\n\t#kam-assurance-lame {\n\t\tdisplay: none !important;\n\t}\n}\n\ndiv#kam-lame[class^=\"kameleoon__\"] {\n\tmin-height: 450px;\n}\n\ndiv#kam-lame .kameleoon-lameBP {\n\tmargin-bottom: 0;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__link {\n\tmargin-top: 16px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__title {\n\tfont-size: 22px;\n\tline-height: 25px;\n}\n\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content,\n.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal__text {\n\tcolor: #080b35;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content {\n\tpadding: 32px 0 32px 32px;\n\theight: 297px;\n}\n\n.kameleoon-lameBP_dpw.kameleoon-lameBP--moitieBP .kameleoon-lameBP__content .kameleoon-legal {\n\tposition: absolute;\n\tbottom: 32px;\n\twidth: 48%;\n}\n\n/*\n.kameleoon-lameBP {\n  margin: 0;\n}\n*/\n\n#kameleoon-lameBP-imageContainer {\n\tline-height: 0;\n}\n\n.kameleoon-lameBP_dpw {\n\tmargin-bottom: 0px !important;\n}\n\n/* Specific Cyber */\n[id^=\"kam_lame_\"] .kameleoon-lameBP img {\n\twidth: 715px;\n}\n","elementSets":[],"javaScriptCode":{"code":"(function(){var UserData = {\"type\":\"Autopromo\",\"widget_type\":\"lame_BP_connected\",\"id\":\"94560\",\"idtest\":\"94560\",\"location\":\"lameBP_location_cyber\",\"position_cyber\":[\"cyber_homepage\"],\"encart_ancien\":\"lameBP_encart_ancien\",\"sans_subtitle\":\"\",\"sans_title\":\"\",\"sans_description\":\"\",\"sans_cta\":\"\",\"sans_url_desktop\":\"\",\"sans_legal1\":\"\",\"sans_legal2\":\"\",\"moitie_subtitle\":\"\",\"moitie_title\":\"\",\"moitie_description\":\"\",\"moitie_cta\":\"\",\"moitie_url_desktop\":\"\",\"moitie_legal1\":\"\",\"moitie_legal2\":\"\",\"image_legal_desktop\":\"\",\"image_subtitle\":\"\",\"image_title\":\"\",\"image_description\":\"\",\"image_cta\":\"\",\"image_url_desktop\":\"\",\"image_legal1\":\"\",\"image_legal2\":\"\",\"ancien_url_desktop\":\"https://www.banquepopulaire.fr/rivesparis/entreprises/financer-investissements/location-longue-duree-automobile-lld/\",\"ancien_url_desktop_tache\":\"\",\"priority\":\"852\",\"displayCapping\":\"5\",\"clickCapping\":\"\",\"category\":\"banque\",\"product_code\":\"\",\"displayPluginConfiguration\":\"DISPLAY_ALL_DEVICES\",\"positionPluginConfiguration\":\"INPAGE\",\"ancien_image\":\"https://agftjztrqq.cloudimg.io/_arpfxvgcm0/156911-0a4120d5-3fe0-40f0-a1bd-02992274c45a.png\"};\n/** MetaSite BP DPW V4 - Widget ID : 1297 */\nvar commonKeys = [\"pages.pageName\", \"clients.idEnttGrpe\", \"clients.id\", \"clients.statut\", \"clients.marche\", \"pages.applicationType\", \"pages.applicationName\", \"pages.CodeEnttGrpe\", \"pages.marche\", \"pages.univers\", \"pages.espace\", \"pages.pageType\"];\nvar utagMethod = null;\nfunction sendToAdobe(type, persosData) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tif (typeof top !== \"undefined\" && top.utag) {\n\t\t\t\tutagMethod = top.utag;\n\t\t\t} else if (typeof utag !== \"undefined\") {\n\t\t\t\tutagMethod = utag;\n\t\t\t}\n\n\t\t\treturn utagMethod && typeof datalayer !== \"undefined\" && ((datalayer.page && datalayer.page.pageName) || (datalayer.pages && datalayer.pages.pageName) || datalayer[\"pages.pageName\"]);\n\t\t},\n\t\tfunction () {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"display\":\n\t\t\t\t\tsendDisplay(persosData);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"click\":\n\t\t\t\t\tsendClick(persosData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction stringifyObject(object, keyToDelete) {\n\tdelete object[keyToDelete];\n\tvar stringifiedData = \"\";\n\tvar isFirst = true;\n\n\tfor (var key in object) {\n\t\tstringifiedData += isFirst ? \"[\".concat(object[key], \"]\") : \"|[\".concat(object[key], \"]\");\n\t\tisFirst = false;\n\t}\n\n\treturn stringifiedData;\n}\n\nfunction combineString(oneTypePersos) {\n\tvar persoSeparator = \";\";\n\tvar combinedString = \"\";\n\n\tfor (var i = 0; i < oneTypePersos.length; i++) {\n\t\tvar perso = oneTypePersos[i];\n\t\tif (!perso) continue;\n\t\tvar isLastPerso = i === oneTypePersos.length - 1;\n\t\tvar stringifiedPerso = stringifyObject(perso, \"withCapping\");\n\t\tcombinedString += isLastPerso ? stringifiedPerso : stringifiedPerso + persoSeparator;\n\t}\n\n\treturn combinedString;\n}\n\nfunction combinePersosInString(allPersos) {\n\tvar displayedPersos = [];\n\tvar cappedPersos = [];\n\n\tfor (var i = 0; i < allPersos.length; i++) {\n\t\tvar perso = allPersos[i];\n\t\tvar withCapping = perso.withCapping;\n\t\tif (withCapping) cappedPersos.push(perso);\n\t\tdisplayedPersos.push(perso);\n\t}\n\n\treturn {\n\t\tdisplay: combineString(displayedPersos),\n\t\tcapping: combineString(cappedPersos),\n\t};\n}\n\nfunction sendData(dataObj, method) {\n\tvar CRM_BPCE = Kameleoon.API.CurrentVisit.customData.CRM_BPCE || \"CRM_BPCE should be here\";\n\tdataObj[\"vignette.capping\"] = CRM_BPCE;\n\tvar adobeData = getInfoFromDataLayer(commonKeys, dataObj);\n\tutagMethod[method](adobeData);\n}\n\nfunction sendDisplay(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tif (!stringifiedPersos.display) return;\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event28\",\n\t\t\"vignette.liste\": stringifiedPersos.display,\n\t};\n\n\tsendData(specificKeys, \"link\");\n\n\tif (stringifiedPersos.capping) {\n\t\tvar _specificKeys = {\n\t\t\t\"evenement.event\": \"event40\",\n\t\t\t\"vignette.liste\": stringifiedPersos.capping,\n\t\t};\n\t\tsendData(_specificKeys, \"link\");\n\t}\n}\n\nfunction sendClick(persosData) {\n\tvar stringifiedPersos = combinePersosInString(persosData);\n\tvar specificKeys = {\n\t\t\"evenement.event\": \"event10,event29\",\n\t\t\"clics.libelle\": \"vignette\",\n\t\t\"clics.type\": \"vignette\",\n\t\t\"vignette.liste\": stringifiedPersos.display.toLowerCase(),\n\t\t\"vignette.nom\": stringifiedPersos.display.toLowerCase(),\n\t};\n\n\tif (stringifiedPersos.capping) {\n\t\tspecificKeys[\"vignette.liste\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"vignette.nom\"] = stringifiedPersos.capping.toLowerCase();\n\t\tspecificKeys[\"evenement.event\"] += \",event41\";\n\t}\n\n\tsendData(specificKeys, \"link\");\n}\n\nfunction getInfoFromDataLayer(datalayerKeys, extraKeys) {\n\tfunction getSpecificValue(fieldType, key) {\n\t\tvar stringKey = \"\".concat(fieldType, \"s.\").concat(key);\n\t\tvar pluralKey = \"\".concat(fieldType, \"s\");\n\t\treturn (datalayer[fieldType] && datalayer[fieldType][key]) || (datalayer[pluralKey] && datalayer[pluralKey][key]) || datalayer[stringKey] || \"\";\n\t}\n\n\tvar adobeData = {};\n\n\tif (datalayerKeys.length) {\n\t\tfor (var i = 0; i < datalayerKeys.length; i++) {\n\t\t\tif (datalayerKeys[i]) {\n\t\t\t\tvar fieldType = datalayerKeys[i].match(/(.+)s\\./)[1];\n\t\t\t\tvar key = datalayerKeys[i].match(/\\.(.+)/)[1];\n\t\t\t\tadobeData[datalayerKeys[i]] = getSpecificValue(fieldType, key);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var _key in extraKeys) {\n\t\tadobeData[_key] = extraKeys[_key];\n\t}\n\n\treturn adobeData;\n}\n\nvar customDataToWait = \"CRM_BPCE\";\nvar globalStartTime = \"kamDev_autopromo_initTime\";\nvar globalAdobePerso = \"kamDev_autopromo_AdobePerso\";\nvar globalRenderedPersos = \"kamDev_autopromo_renderedPersos\";\nvar millisecondsToWait = 500;\nvar sites = {\n\tcyber: {\n\t\tregExp: /cyber/,\n\t\tpages: {\n\t\t\thomepage: /accueil|do\\?token/i,\n\t\t\tsynthese: /compte/i,\n\t\t\ttelecommande: /profil/i,\n\t\t\tinfose: /operations/i,\n\t\t},\n\t},\n\tdpw: {\n\t\tregExp: /espace-client/,\n\t\tpages: {\n\t\t\tcompte: /compte/i,\n\t\t\tassurance: /assurance/i,\n\t\t\tsouscrire: /souscrire/i,\n\t\t\tdocuments: /documents/i,\n\t\t},\n\t},\n\tpro: {\n\t\tregExp: /deipro|netpro\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tpart: {\n\t\tregExp: /deipart|net\\d{3}/,\n\t\tmaxWidgetCount: 1,\n\t},\n\tcenet: {\n\t\tregExp: /cenet/,\n\t\tpages: {\n\t\t\taccounts: /comptesreleves|default\\.aspx$/i,\n\t\t\toperations: /flux/i,\n\t\t\tfinance: /financements/i,\n\t\t\tpayment: /moyenspaiements/i,\n\t\t\tlogin: /login/i,\n\t\t},\n\t},\n\tnouveauPortailBP: {\n\t\tregExp: /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?((professionnels|entreprises|banque-privee)\\/)?($|((\\?|\\#|=)(\\w|\\&|\\#)*)*)$|ibppmebck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\": /banquepopulaire.fr\\/?((rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?($|(\\?(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-privee\": /banque-privee/i,\n\t\t},\n\t},\n\tnouveauPortailCE: {\n\t\tregExp: /caisse-epargne.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?((particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)?((\\w+\\-?)*\\/)?($|((\\?|\\#)(\\w|\\&|\\#|=)*)*)$|itcpmbeck.p.prd.aws.gbpce.net/,\n\t\tpages: {\n\t\t\t\"portailwp-hp-part\":\n\t\t\t\t/caisse-epargne\\.fr\\/?((aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?($|((\\?|\\#)(\\w|\\&|\\#)*)*)$/,\n\t\t\t\"portailwp-hp-pro\": /professionnels/i,\n\t\t\t\"portailwp-hp-ent\": /entreprises/i,\n\t\t\t\"portailwp-hp-asso\": /associations-ess/i,\n\t\t\t\"portailwp-hp-pub\": /secteur-public-logement-social/i,\n\t\t\t\"portailwp-hp-immo\": /immobilier-professionnel/i,\n\t\t},\n\t},\n};\nvar activeAutopromoObject;\n\nfunction copyDeeply(arrayOfObjects) {\n\tvar copy = [];\n\n\tfor (var i = 0; i < arrayOfObjects.length; i++) {\n\t\tvar object = arrayOfObjects[i];\n\t\tvar objectCopy = {};\n\n\t\tfor (var key in object) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\n\t\tcopy.push(objectCopy);\n\t}\n\n\treturn copy;\n} // create an object with the info from the perso to send via Adobe Calls\n\nfunction composePersoObject(perso, position) {\n\treturn {\n\t\tname: perso.name,\n\t\tkameleoonId: perso.id,\n\t\tcategory: perso.category,\n\t\tposition: position || \"\",\n\t\tpriority: perso.priority || \"\",\n\t\tcapping_display: perso.displayCapping || \"\",\n\t\tcapping_click: perso.clickCapping || \"\",\n\t\tcampaignType: perso.campaign_type || \"\",\n\t\tsegment: perso.segment,\n\t};\n} // iterate through all the personalisations, get only the ones with the type we need\n\nfunction getSortedTypedPersos(type) {\n\tif (!activeAutopromoObject) return;\n\treturn activeAutopromoObject.autopromoPersos.filter(function (perso) {\n\t\treturn perso.widget_type.match(type);\n\t});\n} // check if there's a position(persoPlaces -> array) in the website that has been chosen by a user in the widget inteface (sitePlaces -> object)\n\nfunction getPlaceForPerso(sitePlaces, persoPlaces, persoClass) {\n\tvar placeInfo = {};\n\n\tfor (var i = 0; i < persoPlaces.length; i++) {\n\t\tif (sitePlaces[persoPlaces[i]] && document.querySelector(sitePlaces[persoPlaces[i]]) && !document.querySelector(sitePlaces[persoPlaces[i]]).className.match(persoClass)) {\n\t\t\tplaceInfo.position = sitePlaces[persoPlaces[i]];\n\t\t\tplaceInfo.name = persoPlaces[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn placeInfo;\n} // check if the display capping has been reached and add the flag if it's capped\n\nfunction isCappedByDisplay(perso, persoId, data) {\n\tvar overallDisplayCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n\n\tif (overallDisplayCapping) {\n\t\tvar currentPersoDisplayCapping = overallDisplayCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoDisplayCapping && parseInt(perso.displayCapping) <= currentPersoDisplayCapping.count) {\n\t\t\tif (parseInt(perso.displayCapping) === currentPersoDisplayCapping.count && data) {\n\t\t\t\tdata.withCapping = true;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // check if the click capping has been reached\n\nfunction isCappedByClick(perso, persoId) {\n\tvar overallClickCapping = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n\tif (overallClickCapping) {\n\t\tvar currentPersoClickCapping = overallClickCapping.filter(function (id) {\n\t\t\treturn id.value === persoId;\n\t\t})[0];\n\n\t\tif (currentPersoClickCapping && parseInt(perso.clickCapping) <= currentPersoClickCapping.count) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n} // store perso's data in the window\n\nfunction storePersoInfo(data) {\n\tif (!window.top[globalRenderedPersos]) {\n\t\twindow.top[globalRenderedPersos] = [];\n\t}\n\n\twindow.top[globalRenderedPersos].push(data);\n} // wait for different data before loading the persos\n\nfunction onBeforeInit(initCallback) {\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn Kameleoon.API.CurrentVisit.customData[customDataToWait] !== undefined;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window.top[globalStartTime]) {\n\t\t\t\twindow.top[globalStartTime] = Date.now();\n\t\t\t}\n\n\t\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\t\tfunction () {\n\t\t\t\t\treturn Date.now() - window.top[globalStartTime] >= millisecondsToWait && window.datalayer;\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tinitCallback();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t);\n} // change url depending on current site\n\nfunction renderWithRegionalUrls(perso, render) {\n\treplaceRegionalUrl(perso);\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\treturn perso.regionalUrslChecked;\n\t\t},\n\t\tfunction () {\n\t\t\trender(perso);\n\t\t}\n\t);\n}\n\nfunction replaceRegionalUrl(perso) {\n\tfunction replaceUrl() {\n\t\tvar xhrData = JSON.parse(window.top.sitecodeData);\n\t\tvar regExp = /\\*\\*[\\w-]+\\*\\*/g;\n\n\t\tvar replacer = function replacer(match) {\n\t\t\tvar key = match.replace(/\\*/g, \"\");\n\t\t\tif (xhrData[key]) return xhrData[key];\n\t\t\telse return match;\n\t\t};\n\n\t\tObject.keys(perso).forEach(function (item) {\n\t\t\tif (item.match(\"url\")) perso[item] = perso[item].replace(regExp, replacer);\n\t\t});\n\t\tperso.regionalUrslChecked = true;\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(function () {\n\t\tif (window.top.sitecodeData) return true;\n\t}, replaceUrl);\n} //\n// wait for all the persos to render and then perform a callback\n\nfunction waitWidgetsToRender(sendCallback) {\n\tif (!activeAutopromoObject) return;\n\tvar activePersosCount = activeAutopromoObject.persosToRenderCount;\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar renderedWidgetsCount = window.top[globalRenderedPersos] && window.top[globalRenderedPersos].length;\n\t\t\treturn activePersosCount === renderedWidgetsCount || activePersosCount === 0;\n\t\t},\n\t\tfunction () {\n\t\t\tif (activePersosCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar data = copyDeeply(window.top[globalRenderedPersos]);\n\t\t\tdelete window.top[globalAdobePerso];\n\t\t\tsendCallback(\"display\", data);\n\t\t\twindow.top[globalRenderedPersos].length = 0;\n\t\t\tactiveAutopromoObject.persosToRenderCount = 0;\n\t\t},\n\t\t1000\n\t);\n} // check how many autopormo persos are going to be displayed on the page, return an object with their number and persos themselves\n\nfunction getActivePersos(type) {\n\tvar currentWebsite = Object.keys(sites).filter(function (site) {\n\t\treturn window.top.location.href.match(sites[site].regExp);\n\t})[0];\n\tif (!currentWebsite) return null;\n\n\tfunction getSitePage(siteName) {\n\t\tvar page = null;\n\t\tvar pagesObject = sites[siteName].pages;\n\n\t\tif (!pagesObject) {\n\t\t\treturn \"skipping the check\";\n\t\t}\n\n\t\tvar pages = Object.keys(pagesObject);\n\n\t\tfor (var i = 0; i < pages.length; i++) {\n\t\t\tif (pagesObject[pages[i]].test(window.top.location.href)) {\n\t\t\t\tpage = pages[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn page;\n\t}\n\n\tvar page = sites[currentWebsite].hasOwnProperty(\"maxWidgetCount\") ? sites[currentWebsite].maxWidgetCount : getSitePage(currentWebsite);\n\tvar widgetPosition = \"position_\".concat(currentWebsite);\n\tvar sitePlaces = {\n\t\tlength: 0,\n\t};\n\n\tfunction extractAutoPersos(persoArray, perso) {\n\t\tif (\n\t\t\tperso.associatedVariation &&\n\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type &&\n\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.type === type\n\t\t) {\n\t\t\tvar metaData = perso.associatedVariation.instantiatedTemplate.customFields;\n\t\t\tmetaData.name = perso.name;\n\t\t\tmetaData.segment = perso.targetSegment && perso.targetSegment.name;\n\t\t\tpersoArray.push(perso.associatedVariation.instantiatedTemplate.customFields);\n\t\t}\n\n\t\treturn persoArray;\n\t}\n\n\tfunction checkMobile(perso) {\n\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.widget_type.match(\"_connected\")) {\n\t\t\tif (perso?.associatedVariation?.instantiatedTemplate?.customFields?.position_cyber) return true;\n\t\t\treturn window.innerWidth >= 960;\n\t\t} else return true;\n\t}\n\n\tvar autoPersos = Kameleoon.API.Personalizations.getAll()\n\t\t.filter(function (perso) {\n\t\t\treturn (\n\t\t\t\tperso.triggered &&\n\t\t\t\tperso.associatedVariation &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields &&\n\t\t\t\tperso.associatedVariation.instantiatedTemplate.customFields.widget_type &&\n\t\t\t\tcheckMobile(perso)\n\t\t\t);\n\t\t})\n\t\t.reduce(extractAutoPersos, [])\n\t\t.sort(function (a, b) {\n\t\t\tif (parseInt(b.priority) === parseInt(a.priority)) {\n\t\t\t\treturn parseInt(a.dateLaunched) - parseInt(b.dateLaunched);\n\t\t\t} else return parseInt(b.priority) - parseInt(a.priority);\n\t\t});\n\tvar nativeAdCounter = 0;\n\n\tfor (var i = 0; i < autoPersos.length; i++) {\n\t\tvar perso = autoPersos[i];\n\t\tif (isCappedByDisplay(perso, perso.id)) continue;\n\t\tif (isCappedByClick(perso, perso.id)) continue;\n\n\t\tif (currentWebsite === \"dpw\" && perso.widget_type === \"native_ad\") {\n\t\t\tif (nativeAdCounter > 1) continue;\n\t\t\tnativeAdCounter++;\n\t\t}\n\n\t\tvar positions = perso[widgetPosition];\n\n\t\tif (positions) {\n\t\t\tfor (var j = 0; j < positions.length; j++) {\n\t\t\t\tif (!page) continue;\n\t\t\t\tvar isDifferentPage = page === \"skipping the check\" || typeof page === \"number\" ? false : !positions[j].match(page);\n\t\t\t\tif (sitePlaces[positions[j]] || isDifferentPage) continue;\n\t\t\t\tif (typeof page === \"number\" && sitePlaces.length >= page) continue;\n\t\t\t\tsitePlaces[positions[j]] = true;\n\t\t\t\tsitePlaces.length++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tpersosToRenderCount: sitePlaces.length,\n\t\tautopromoPersos: autoPersos,\n\t};\n} // check if there is a perso in the window object which should send the Adobe info\n\nfunction shouldInitSendingProtocol(persoId) {\n\tif (!persoId) return false;\n\tactiveAutopromoObject = getActivePersos(\"Autopromo\");\n\n\tif (window.top[globalAdobePerso] && window.top[globalAdobePerso] !== persoId) {\n\t\treturn false;\n\t} else {\n\t\twindow.top[globalAdobePerso] = persoId;\n\t\treturn true;\n\t}\n} // replace two elements, nothing special\n\nfunction trackUrlChanges(callback, excludingRegExp) {\n\tvar currentLocation = location.pathname;\n\treturn function () {\n\t\tvar originalPushState = history.pushState.bind(history);\n\n\t\thistory.pushState = function (state, title, url) {\n\t\t\toriginalPushState(state, title, url);\n\n\t\t\tif (currentLocation !== url) {\n\t\t\t\tif (!url.match(excludingRegExp) && !currentLocation.match(excludingRegExp)) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t\tcurrentLocation = location.pathname;\n\t\t\t}\n\t\t};\n\t};\n} // get image url for mobile/desktop based on the device\n\n/* LAME BP |x| Connected */\nvar persoId = UserData.id;\nvar persoType = UserData.widget_type;\nvar globalType = \"kamDev_autopromo_\".concat(persoType);\nvar widgetClass = \"kameleoon__\";\nvar bannerPlaceSelector = \"div[id*=lame], .home-slider\";\nvar positionsDPW = {\n\tdpw_comptes: \"#kam-lame\",\n\tdpw_assurances: \"#kam-assurance-lame\",\n\tdpw_souscrire: \"#kam-souscrire-lame\",\n};\nvar positionsCyber = {\n\tcyber_homepage: \"#kam_lame_1\",\n\tcyber_synthese: \"#kam_lame_10\",\n\tcyber_telecommande: \"#kam_lame_12\",\n\tcyber_infose: \"#kam_lame_3\",\n};\nvar excludedSiteParts = /(\\(.+\\))$/;\nvar currentPlace = null;\n\nif (window.top.location.href.match(/cyber/)) {\n\tif (window.Kameleoon && (window.name === \"applicationPanel\" || window.name === \"applicationPortalContent\")) {\n\t\tonBeforeInit(init);\n\t}\n} else {\n\tif (window.innerWidth >= 960) onBeforeInit(init);\n}\n// add click event to the link, save the id of the perso in the custom data and send info to adobe call\nfunction saveDataOnClick(link, perso, adobeData) {\n\tif (!link) return;\n\tvar shouldSendCappingData = true;\n\tlink.addEventListener(\"click\", function () {\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Click Capping\", perso.id);\n\n\t\tif (shouldSendCappingData && perso.clickCapping == Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].find((item) => item.value == perso.id)?.count) {\n\t\t\tadobeData.withCapping = true;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t\tshouldSendCappingData = false;\n\t\t} else {\n\t\t\tadobeData.withCapping = false;\n\t\t\tsendToAdobe(\"click\", [adobeData]);\n\t\t}\n\t});\n}\n\nfunction init() {\n\tif (shouldInitSendingProtocol(persoId)) {\n\t\twaitWidgetsToRender(sendToAdobe);\n\t}\n\n\tKameleoon.API.Core.runWhenConditionTrue(\n\t\tfunction () {\n\t\t\tvar placeForBanner = document.querySelector(bannerPlaceSelector);\n\t\t\treturn placeForBanner && placeForBanner !== currentPlace;\n\t\t},\n\t\tfunction () {\n\t\t\tif (!window[globalType] || window[globalType].match(persoId)) {\n\t\t\t\tinitPersos(persoType);\n\t\t\t}\n\t\t}\n\t);\n} // initialising the prsonalisations, go through all of them and send the info if necessary\n\nfunction initPersos(type) {\n\twindow[globalType] = persoId;\n\tvar persos = getSortedTypedPersos(type);\n\tpersos.forEach(function (perso) {\n\t\trenderWithRegionalUrls(perso, renderPerso);\n\t});\n} // check if it's possible to render theperso on the page and render if yes\n\nfunction renderPerso(perso) {\n\t// capping and goals\n\tif (isCappedByDisplay(perso, perso.id)) {\n\t\treturn;\n\t}\n\n\tif (isCappedByClick(perso, perso.id)) {\n\t\treturn;\n\t} // cyber\n\n\tif (location.href.match(/cyber/) && perso.encart_ancien) {\n\t\treturn createAncienBanner(perso);\n\t} // dpw\n\n\tif (location.href.match(/banquepopulaire\\.fr\\/espace-client/)) {\n\t\tcurrentPlace = document.querySelector(bannerPlaceSelector);\n\t\tvar trackDPWchanges = trackUrlChanges(init, excludedSiteParts);\n\t\ttrackDPWchanges();\n\t\tvar siteType = \"dpw\";\n\t\tif (perso.encart) {\n\t\t\tswitch (perso.encart) {\n\t\t\t\tcase \"lameBP_encart_sans\":\n\t\t\t\t\treturn createSansEncartBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_moitie\":\n\t\t\t\t\treturn createMoitieBanner(perso, siteType);\n\n\t\t\t\tcase \"lameBP_encart_image\":\n\t\t\t\t\treturn createImageBanner(perso, siteType);\n\t\t\t}\n\t\t} else {\n\t\t\tgenerateLameBanner(perso, siteType);\n\t\t}\n\t}\n}\n\n// create a container for all kinds of banners of LameBP type\nfunction createTemplateBanner(type, background) {\n\tvar bannerContainer = document.createElement(\"div\");\n\tbannerContainer.classList.add(\"kameleoon-container\");\n\tvar banner = document.createElement(\"div\");\n\tbanner.classList.add(\"kameleoon-lameBP\");\n\n\tif (location.href.match(\"banquepopulaire.fr/espace-client\")) {\n\t\tbanner.classList.add(\"kameleoon-lameBP_dpw\");\n\t}\n\n\tbanner.classList.add(\"kameleoon-lameBP--\".concat(type));\n\tbanner.setAttribute(\"style\", \"background-image: url('\".concat(background, \"')\"));\n\tbannerContainer.appendChild(banner);\n\tvar ubuntuFontLink = document.createElement(\"link\");\n\tubuntuFontLink.href = \"https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap\";\n\tubuntuFontLink.rel = \"stylesheet\";\n\tdocument.head.appendChild(ubuntuFontLink);\n\treturn bannerContainer;\n}\n\nfunction getImageUrlForEncart(desktopUrl, mobileUrl) {\n\treturn window.innerWidth > 959 ? desktopUrl : mobileUrl;\n} // the format without the timer\n\nfunction createSansEncartBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.sans_image_desktop, perso.sans_image_mobile);\n\t\tvar banner = createTemplateBanner(\"sans-encart\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.sans_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.sans_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.sans_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.sans_url_desktop || \"#\", '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.sans_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.sans_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.sans_legal2 ? ' <div class=\"kameleoon-legal\">\\n                        <p class=\"kameleoon-legal__text outside\">'.concat(perso.sans_legal2, \"</p>\\n                    </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // \"Nouveau Portail\" format \"Moitie\", for hero-banner replacement\n\nfunction createMoitieBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar backgroundImage = getImageUrlForEncart(perso.moitie_image_desktop, perso.moitie_image_mobile);\n\t\tvar banner = createTemplateBanner(\"moitieBP\", backgroundImage);\n\t\tvar content =\n\t\t\t/*html*/\n\t\t\t'\\n            <div class=\"kameleoon-lameBP__content\">\\n                <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t.concat(perso.moitie_subtitle, '</span>\\n                <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t.concat(perso.moitie_title, '</span>\\n                <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t.concat(perso.moitie_description, '</span>\\n                <a class=\"kameleoon-lameBP__link\" target=\"_blank\" rel=\"noopener noreferrer\" href=')\n\t\t\t\t.concat(perso.moitie_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t.concat(perso.moitie_cta, '</button></a>\\n                <div class=\"kameleoon-legal\">\\n                    <p class=\"kameleoon-legal__text\">')\n\t\t\t\t.concat(perso.moitie_legal1, \"</p>\\n                </div>\\n            </div>\");\n\t\tvar legal =\n\t\t\t/*html*/\n\t\t\tperso.moitie_legal2 ? ' <div class=\"kameleoon-legal\">\\n                <p class=\"kameleoon-legal__text outside\">'.concat(perso.moitie_legal2, \"</p>\\n            </div>\") : \"\";\n\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content;\n\t\tif (legal) banner.innerHTML += legal;\n\t\tvar link = banner.querySelector(\".kameleoon-lameBP__link\");\n\t\tparentToInsert.appendChild(banner);\n\t\tif (parentToInsert.querySelector(\"div.container\")) parentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\tif (Kameleoon.API.CurrentVisit.device.type !== \"Phone\" && Kameleoon.API.CurrentVisit.device.browser !== \"Internet Explorer\" && siteType === \"nouveauPortail\") adjustPaddingOnNextSection();\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n} // Lame image, similar to AncienBanner\n\nfunction createImageBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\n\t\tif (window.innerWidth > 959) {\n\t\t\tvar contentDesktop = '\\n      <div id=\"kameleoon-lameBP-imageContainer\">\\n        <a class=\"kameleoon-lameBP\" '\n\t\t\t\t.concat(perso.image_url_desktop || perso.image_url_desktop !== \"#\" ? 'href=\"' + perso.image_url_desktop + '\"' : \"\", \" \")\n\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\">\\n          <img src=\"')\n\t\t\t\t.concat(perso.image_image_desktop, '\" alt=\"\">\\n        </a>');\n\t\t\tvar legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal_desktop ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal_desktop, \"</p>\\n\\t\\t\\t  </div>\") : \"</div>\";\n\t\t\tcontentDesktop += legal;\n\t\t\tparentToInsert.insertAdjacentHTML(\"beforeend\", contentDesktop);\n\t\t\tif (!perso.image_url_desktop || perso.image_url_desktop === \"#\") document.querySelector(\"#kameleoon-lameBP-imageContainer > a\").removeAttribute(\"href\");\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\t\tvar link = parentToInsert.querySelector(\"a.kameleoon-lameBP\");\n\t\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\t\tif (link) saveDataOnClick(link, perso, adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\t\tstorePersoInfo(adobeData);\n\t\t} else {\n\t\t\tvar backgroundImage = getImageUrlForEncart(perso.image_image_desktop, perso.image_image_mobile);\n\t\t\tvar banner = createTemplateBanner(\"image\", backgroundImage);\n\t\t\tvar ctaContent =\n\t\t\t\t/*html*/\n\t\t\t\t'<a class=\"kameleoon-lameBP__link\" '\n\t\t\t\t\t.concat(siteType === \"nouveauPortail\" ? 'target=\"_top\"' : 'target=\"_blank\"', ' rel=\"noopener noreferrer\" href=')\n\t\t\t\t\t.concat(perso.image_url_desktop, '><button class=\"kameleoon-lameBP__button\">')\n\t\t\t\t\t.concat(perso.image_cta, \"</button></a>\");\n\t\t\tvar content =\n\t\t\t\t/*html*/\n\t\t\t\t'\\n\\t\\t\\t  <div class=\"kameleoon-lameBP__content\">\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__subtitle kameleoon-lameBP__subtitle--first\">'\n\t\t\t\t\t.concat(perso.image_subtitle, '</span>\\n\\t\\t\\t\\t  <span class=\"kameleoon-lameBP__title\">')\n\t\t\t\t\t.concat(perso.image_title, '</span>\\n                  <span class=\"kameleoon-lameBP__description\">')\n\t\t\t\t\t.concat(perso.image_description, '</span>\\n                  <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t\\t  <p class=\"kameleoon-legal__text\">')\n\t\t\t\t\t.concat(perso.image_legal1, \"</p>\\n\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t  \")\n\t\t\t\t\t.concat(perso.image_url_desktop && perso.image_url_desktop !== \"#\" ? ctaContent : \"\", \"\\n\\t\\t\\t  </div>\");\n\n\t\t\tvar _legal =\n\t\t\t\t/*html*/\n\t\t\t\tperso.image_legal2 ? ' <div class=\"kameleoon-legal\">\\n\\t\\t\\t\\t  <p class=\"kameleoon-legal__text outside\">'.concat(perso.image_legal2, \"</p>\\n\\t\\t\\t  </div>\") : \"\";\n\n\t\t\tbanner.querySelector(\".kameleoon-lameBP\").innerHTML += content + _legal;\n\n\t\t\tvar _link = banner.querySelector(\".kameleoon-lameBP__link\");\n\n\t\t\tparentToInsert.querySelector(\"div.container\").style.display = \"none\";\n\t\t\tparentToInsert.appendChild(banner);\n\t\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\n\t\t\tvar _adobeData = composePersoObject(perso, placeInfo.name);\n\n\t\t\tif (_link) saveDataOnClick(_link, perso, _adobeData);\n\t\t\tisCappedByDisplay(perso, perso.id, _adobeData);\n\t\t\tstorePersoInfo(_adobeData);\n\t\t}\n\t}\n}\n\nconst themes = {\n\tbp: \"kam-bp-theme\",\n\tce: \"kam-ce-theme\",\n};\n\nfunction createNewBanner(perso) {\n\tconst themeClass = perso.styleTheme ? themes[perso.styleTheme] : themes.ce;\n\tconst addRedirectionOnClick = (elem, isOnlyAtDesktop) => {\n\t\tconst doRedirect = () => {\n\t\t\tif (perso.lame_cta_checkbox) {\n\t\t\t\twindow.open(perso.lame_cta_url, \"_blank\");\n\t\t\t} else {\n\t\t\t\tKameleoon.API.Core.processRedirect(perso.lame_cta_url);\n\t\t\t}\n\t\t};\n\n\t\tif (isOnlyAtDesktop) {\n\t\t\tconst checkTarget = () => window.innerWidth >= 960;\n\t\t\tlet isDesktop = checkTarget();\n\t\t\twindow.addEventListener(\"resize\", () => {\n\t\t\t\tif (isDesktop !== checkTarget()) {\n\t\t\t\t\tisDesktop = checkTarget();\n\t\t\t\t}\n\t\t\t});\n\t\t\telem.addEventListener(\"click\", () => {\n\t\t\t\tif (isDesktop) doRedirect();\n\t\t\t});\n\t\t} else {\n\t\t\telem.addEventListener(\"click\", doRedirect);\n\t\t}\n\t};\n\tconst bannerContainer = document.createElement(\"div\");\n\tif (perso.lame_cta_url) bannerContainer.classList.add(\"has-link\");\n\tbannerContainer.id = \"kameleoonElement-container\";\n\n\tlet wrapperClasses = `kameleoon-lame-refacto ${themeClass}`;\n\n\tlet isPortail = false;\n\tswitch (perso.location) {\n\t\tcase \"lameCE_location_dpw\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dpw\";\n\t\t\tbreak;\n\t\tcase \"lameCE_location_nouveauPortail\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_portail\";\n\t\t\tisPortail = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newVersion\");\n\t}\n\n\tlet isImageFormat = false;\n\tswitch (perso.lame_format) {\n\t\tcase \"lame_texte_clair\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_dark\";\n\t\t\tbreak;\n\t\tcase \"lame_texte_fonce\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_light\";\n\t\t\tbreak;\n\t\tcase \"lame_image\":\n\t\t\twrapperClasses += \" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\";\n\t\t\tisImageFormat = true;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.log(\"[KAM] newFormat\");\n\t}\n\n\tconst mobileImage =\n\t\tperso.lame_mobile_image && isPortail\n\t\t\t? `\n        <figure>\n            <picture>\n                <img src=\"${perso.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\n            </picture>\n        </figure>`\n\t\t\t: \"\";\n\tconst subtitle = perso.lame_pre_title\n\t\t? `\n        <h5 class=\"subtitle\">${perso.lame_pre_title}</h5>`\n\t\t: \"\";\n\tconst title = perso.lame_title\n\t\t? `\n        <h1 class=\"title\">${perso.lame_title}</h1>`\n\t\t: \"\";\n\tconst description = perso.lame_description\n\t\t? `\n        <p class=\"description\">${perso.lame_description}</p>`\n\t\t: \"\";\n\tconst mobileExample =\n\t\tperso.location === \"lameCE_location_nouveauPortail\" && perso.lame_exemple_representatif\n\t\t\t? `\n        <div class=\"example-mob\">${perso.lame_exemple_representatif}</div>`\n\t\t\t: \"\";\n\tconst example = perso.lame_exemple_representatif\n\t\t? `\n        <div \n        class=\"example ${perso.lame_color_select === \"dark\" ? \"example_dark\" : \"example_light\"}\">\n            <p class=\"example__text\">\n                ${perso.lame_exemple_representatif}\n            </p>\n        </div>`\n\t\t: \"\";\n\tconst agreement1 = perso.lame_mention_legale_1\n\t\t? `\n        <div class=\"main-text__wrapper-down\">\n            <div class=\"agreement-first\">\n                ${perso.lame_mention_legale_1}\n            </div>\n        </div>`\n\t\t: \"\";\n\tlet agreement2 = \"\";\n\tif (perso.lame_mention_legale_2) {\n\t\tagreement2 = `\n        <div class=\"banner-footer ${perso.lame_color_select === \"dark\" ? \"banner-footer_light\" : \"banner-footer_dark\"}\">\n            <div class=\"agreement-second\">\n                ${perso.lame_mention_legale_2}\n            </div>\n        </div>`;\n\t} else if (isPortail) {\n\t\twrapperClasses += \" kameleoon-lame-refacto_portail_no-footer\";\n\t}\n\n\tconst wrapToLink = (inner, customClass = \"\") => `\n        <a class=\"kam_banner_link ${customClass}\"\n            href=\"${perso.lame_cta_url}\"\n            ${perso.lame_cta_checkbox ? 'target=\"_blank\"' : \"\"}\n        >\n            ${inner}\n        </a>`;\n\n\tlet CTA = \"\";\n\tif (perso.lame_cta_name) {\n\t\tCTA = `\n        <div class=\"cta-wrap\">\n            <button><span>${perso.lame_cta_name}</span></button>\n        </div>`;\n\t} else {\n\t\tCTA = \"\";\n\t}\n\n\tconst isDPWImage = !isPortail && isImageFormat;\n\tconst bannerWrapperInner = isDPWImage\n\t\t? \"\"\n\t\t: `\n    <div class=\"main-text\"> \n        <div class=\"main-text__wrapper\">\n            <div class=\"main-text__wrapper-upper\">\n                ${subtitle}\n                ${title}\n                ${description}\n                ${mobileExample}\n                ${CTA}\n            </div>\n            ${agreement1}\n        </div>\n    </div>`;\n\n\tif (perso.lame_color) {\n\t\tbannerContainer.style = `--content-second-color: ${perso.lame_color};`;\n\t}\n\n\tconst banner = `\n        <div class=\"${wrapperClasses}\">\n            ${mobileImage}\n            <div class=\"banner-wrapper\">\n                <figure>\n                    <picture>\n                        <img src=\"${perso.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \n                    </picture>\n                </figure>\n                ${bannerWrapperInner}\n\t\t\t\t${example}\n            </div>\n            ${agreement2}\n        </div>`;\n\n\tconst isImageFormatWithCTAInDesktop = !!(perso.lame_cta_name && isPortail && isImageFormat && perso.lame_cta_url);\n\taddRedirectionOnClick(bannerContainer, isImageFormatWithCTAInDesktop);\n\tbannerContainer.innerHTML = banner;\n\treturn bannerContainer;\n}\n\nfunction generateLameBanner(perso, siteType) {\n\tvar options = perso[\"position_\".concat(siteType)];\n\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tvar positions = positionsDPW;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positions, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar bannerToInsert = createNewBanner(perso);\n\t\tparentToInsert.insertAdjacentElement(\"afterbegin\", bannerToInsert);\n\t\tconst link = perso.lame_cta_url && bannerToInsert;\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n\n// special format for Cyber only\n\nfunction createAncienBanner(perso) {\n\tif (!perso.position_cyber) {\n\t\treturn;\n\t}\n\n\tvar options = perso.position_cyber;\n\tvar persoClass = widgetClass + perso.id;\n\tvar placeInfo = getPlaceForPerso(positionsCyber, options, widgetClass);\n\tvar parentToInsert = document.querySelector(placeInfo.position);\n\n\tif (parentToInsert && !document.querySelector(widgetClass)) {\n\t\tparentToInsert.classList.add(persoClass);\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.classList.add(\"kameleoon-lameBP\");\n\t\tlink.innerHTML = '<img src=\"'.concat(perso.ancien_image, '\" alt=\"\">');\n\t\tvar adobeData = composePersoObject(perso, placeInfo.name);\n\t\tsaveDataOnClick(link, perso, adobeData);\n\n\t\tif (perso && perso.ancien_url_desktop_tache) {\n\t\t\tlink.href = perso.ancien_url_desktop_tache ? \"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(perso.ancien_url_desktop_tache) : \"#\";\n\t\t\tlink.target = \"_top\";\n\t\t} else {\n\t\t\tlink.href = perso && perso.ancien_url_desktop ? perso.ancien_url_desktop : \"#\";\n\t\t\tlink.target = \"_blank\";\n\t\t\tlink.rel = \"noopener noreferrer\";\n\t\t}\n\n\t\tparentToInsert.appendChild(link);\n\t\tKameleoon.API.Data.setCustomData(\"Autopromo Display Capping\", perso.id);\n\t\tisCappedByDisplay(perso, perso.id, adobeData);\n\t\tstorePersoInfo(adobeData);\n\t}\n}\n})();","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"lame_BP_connected","id":"94560","idtest":"94560","location":"lameBP_location_cyber","position_cyber":["cyber_homepage"],"encart_ancien":"lameBP_encart_ancien","sans_subtitle":"","sans_title":"","sans_description":"","sans_cta":"","sans_url_desktop":"","sans_legal1":"","sans_legal2":"","moitie_subtitle":"","moitie_title":"","moitie_description":"","moitie_cta":"","moitie_url_desktop":"","moitie_legal1":"","moitie_legal2":"","image_legal_desktop":"","image_subtitle":"","image_title":"","image_description":"","image_cta":"","image_url_desktop":"","image_legal1":"","image_legal2":"","ancien_url_desktop":"https://www.banquepopulaire.fr/rivesparis/entreprises/financer-investissements/location-longue-duree-automobile-lld/","ancien_url_desktop_tache":"","priority":"852","displayCapping":"5","clickCapping":"","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE","ancien_image":"STATIC_IMAGE_PATH156911-0a4120d5-3fe0-40f0-a1bd-02992274c45a.png"},"widgetTemplateName":null},{"name":"Variation 1","id":789034,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_O2O5Q9HQJLL6","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_credit_revolving"],"native_ad_title":"Réglez vos achats à votre rythme, à tout moment.","native_ad_description":"Découvrez le crédit renouvelable Facelia : une solution flexible pour financer vos dépenses.","native_ad_cta":"En savoir plus","native_ad_url_desktop":"**portail-wp**/emprunter/simulateur-de-credit-facelia/","native_ad_url_deeplink":"","native_ad_legal":"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.","priority":"740","displayCapping":"2","clickCapping":"1","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_FACELIA_KIT_PERENNE_CRM_2210","native_ad_distribution":"P","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":789052,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw\",widget_brand:\"bp\",widget_type:\"native_ad\",id:\"94826\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_credit_revolving\"],native_ad_title:\"Réglez vos achats à votre rythme, à tout moment.\",native_ad_description:\"Découvrez le crédit renouvelable Facelia : une solution flexible pour financer vos dépenses.\",native_ad_cta:\"En savoir plus\",native_ad_url_desktop:\"**portail-wp**/emprunter/simulateur-de-credit-facelia/\",native_ad_legal:\"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.\",priority:\"740\",displayCapping:\"3\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"credit\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction n(e,a,t){const o=e.parentNode;o&&(a.test(o.id)?o.classList.add(t):n(o,a,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=94826,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(94826)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const a=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=a,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var n=e.replace(/\\*/g,\"\");return o[n]?o[n]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,s))}));const d=function(e){const n=(e,n)=>n&&e?n(e):e||\"\",a=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${n(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${n(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${n(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${n(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${n(e.native_ad_cta)}</span>\\n    </div>\\n    `;return a.classList.add(\"kameleoon-native-ad-container\"),a.innerHTML=t,Kameleoon.API.Utils.addEventListener(a.children[0],\"click\",(n=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const n=e=>{const{id:n,clickCapping:a}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return t&&t===a},a=e=>{const{persoID:n,category:a,priority:t,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:d,segmentName:r,actualPosition:c}=window.kameleoonAutopromoPerso[n];return`[${d}]|[${n}]|[${a}]|[${c}]|[${t}]|[${o}]|[${i}]|[${s}]|[${r}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=a(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};n(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const a=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(a,\"_blank\")})),a}(a);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,a,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!a.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+a.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,n,a){const t={};for(let o=0;o<n.length;o++)if(e[n[o]]&&document.querySelector(e[n[o]])&&!document.querySelector(e[n[o]]).className.match(a)){t.position=e[n[o]],t.name=n[o];break}return t}(t,a.position_dpw,o),d=document.querySelector(s.position),r=/kam-family/i,c=\"kameleoon-native-ad__visible\";d&&!document.querySelector(i)&&(d.appendChild(e),d.classList.add(i),n(d,r,c))}(d,a,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw","widget_brand":"bp","widget_type":"native_ad","id":"94826","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_credit_revolving"],"native_ad_title":"Réglez vos achats à votre rythme, à tout moment.","native_ad_description":"Découvrez le crédit renouvelable Facelia : une solution flexible pour financer vos dépenses.","native_ad_cta":"En savoir plus","native_ad_url_desktop":"**portail-wp**/emprunter/simulateur-de-credit-facelia/","native_ad_legal":"Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.","priority":"740","displayCapping":"3","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":789059,"css":"/* START CUSTOM */\n\n#kameleoonElement-container .kam_banner_link{display:block;-webkit-box-shadow:none !important;box-shadow:none !important;outline:none !important}#kameleoonElement-container+div.container{display:none}#kameleoonElement-container .kameleoon-lame-refacto{position:relative;overflow:hidden;width:100%;font-family:Ubuntu, Arial, Helvetica, sans-serif}#kameleoonElement-container .kameleoon-lame-refacto.kam-bp-theme{--content-text-light: #ffffff;--content-text-dark: #080d34;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #051b71;--content-mobile-text-dark: #080d34;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #062499;--cta-text-dark: #062499;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #080d34;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-ce-theme{--content-text-light: #ffffff;--content-text-dark: #666666;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #3e454a;--content-mobile-text-dark: #666666;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #d7000f;--cta-text-dark: #d7000f;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bqsav-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #5f657c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #E30613;--cta-text-dark: #E30613;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #2e3642;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-cm-theme{--content-text-light: #ffffff;--content-text-dark: #080D3D;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0061a1;--content-mobile-text-dark: #080D3D;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #0061A1;--cta-text-dark: #0061A1;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #252c51;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-marze-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #136aba;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #293133;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bdp-theme{--content-text-light: #ffffff;--content-text-dark: ##333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #7c252c;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #7c252c;--cta-text-dark: #7c252c;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #420C11;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-pal-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #62120f;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #62120F;--cta-text-dark: #62120F;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #000000;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-coop-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #00544d;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #C8102E;--cta-text-dark: #C8102E;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #333333;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-bcp-theme{--content-text-light: #ffffff;--content-text-dark: #333333;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #8f0e43;--content-mobile-text-dark: #333333;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #D1005D;--cta-text-dark: #D1005D;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4A4A4A;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto.kam-btp-theme{--content-text-light: #ffffff;--content-text-dark: #293133;--content-mobile-text-light: #ffffff;--content-mobile-background-dark: #0b569b;--content-mobile-text-dark: #293133;--content-mobile-background-light: #ffffff;--cta-text-light: #ffffff;--cta-background-dark: #136ABA;--cta-text-dark: #136ABA;--cta-background-light: #ffffff;--example-background-dark: rgba(51, 51, 51, 0.8);--example-text-light: #ffffff;--example-background-light: rgba(255, 255, 255, 0.9);--example-text-dark: #333333;--legal-notice-2-text-light: #ffffff;--legal-notice-2-background-dark: #4a5a64;--legal-notice-2-text-dark: #333333;--legal-notice-2-background-light: #f9f9fb}#kameleoonElement-container .kameleoon-lame-refacto .banner-mobile-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-desktop-image{position:absolute;top:0;right:0;left:0;bottom:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{position:relative;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;position:relative;padding-right:210px;height:620px}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 480px + 140 * ((100vw - 1279px) / 640))}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper{height:calc( 360px + 120 * ((100vw - 959px) / 320))}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{overflow:auto;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:80px 80px 0;max-width:800px}@media (min-width: 1920px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper{max-width:960px}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-upper{width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .secondary{color:var(--content-second-color)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle{font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{margin:0;font-size:2.2rem;line-height:2.5rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.6rem;line-height:2.2rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:calc((12 / 1280) * 100vw);line-height:calc((16 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description{font-size:1.6rem;line-height:2.2rem}#kam-lame,#kam-souscrire-lame,#kam-assurance-lame{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{font-size:1.2rem;line-height:1.6rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{margin:0;padding:16px 0;font-size:6.4rem;line-height:6.4rem;font-weight:700}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:2.2rem;line-height:2.5rem}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((42 / 1280) * 100vw);line-height:calc((42 / 1280) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:calc((16 / 1280) * 100vw);line-height:calc((22 / 1280) * 100vw)}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:calc((27 / 960) * 100vw);line-height:calc((27 / 960) * 100vw)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub{font-size:1.6rem;line-height:2.2rem}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title{font-size:3.8rem;line-height:3.8rem}}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .title sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .description sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap{padding-top:40px}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{font-size:1.6rem;line-height:2.2rem;border:none;padding:17px 18px;font-weight:bold;border-radius:4px;min-width:156px;position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:background 0.25s ease;-o-transition:background 0.25s ease;transition:background 0.25s ease}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button::before{content:\"\";position:absolute;left:0;width:100%;top:0;height:100%;z-index:1;opacity:0;border-radius:4px;-webkit-transition:opacity 0.25s ease;-o-transition:opacity 0.25s ease;transition:opacity 0.25s ease;background:#000}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button span{z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{opacity:0.2}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;padding:16px 0;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{-webkit-box-sizing:border-box;box-sizing:border-box;font-size:1.3rem;line-height:1.8rem;width:100%}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob strong{font-size:1.6rem;line-height:2.2rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text strong{font-size:16px;line-height:normal}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example{max-width:210px;height:100%;position:absolute;right:0;top:0;padding:16px;z-index:1}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_dark{background-color:var(--example-background-dark);color:var(--example-text-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example.example_light{background-color:var(--example-background-light);color:var(--example-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example .example__text{max-height:100%;overflow-y:auto;margin:0;padding:0}#kameleoonElement-container .kameleoon-lame-refacto .banner-wrapper .example-mob{display:none}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer{padding-left:80px;padding-right:80px}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_light{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer.banner-footer_dark{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer-empty{background:transparent !important}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second{padding:16px 0;font-size:1.3rem;line-height:1.8rem}#kameleoonElement-container .kameleoon-lame-refacto .banner-footer .agreement-second strong{font-size:1.6rem;line-height:2.1rem;font-weight:normal;color:inherit}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light{color:var(--content-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-light);background:var(--cta-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark{color:var(--content-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button{color:var(--cta-text-dark);background:var(--cta-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover{background:#EEEEEE}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .main-text .main-text__wrapper .cta-wrap button:hover::before{content:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dark .banner-wrapper .example-mob strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example strong,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_light .banner-wrapper .example-mob strong{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail{max-width:1920px;margin:auto}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:72px}@media (min-width: 960px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}}@media (max-width: 1919px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:48px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:64px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:250px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:3.125vw 3.125vw 0;max-width:50vw}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .title{padding:8px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{min-width:172px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:3.125vw;padding-right:3.125vw}}@media (max-width: 1279px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:40px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .example{padding-bottom:56px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{max-width:347px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:40px 40px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{padding:9px 18px}}@media (max-width: 959px){#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_portail_no-footer .main-text__wrapper{margin-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-mobile-image{display:block;width:100%;max-height:560px;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-desktop-image{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper{padding-right:0;height:auto;-ms-flex-wrap:wrap;flex-wrap:wrap}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-wrapper .example-mob{display:block;padding-top:24px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light{color:var(--content-mobile-text-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-wrapper{background:var(--content-mobile-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_light .banner-footer{color:var(--legal-notice-2-text-light);background:var(--legal-notice-2-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark{color:var(--content-mobile-text-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-wrapper{background:var(--content-mobile-background-dark)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail.kameleoon-lame-refacto_dark .banner-footer{color:var(--legal-notice-2-text-dark);background:var(--legal-notice-2-background-light)}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper{padding:16px 16px 0;max-width:none;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap{padding-top:32px;padding-bottom:16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .main-text .main-text__wrapper .cta-wrap button{width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_portail .banner-footer{padding-left:16px;padding-right:16px}}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw{padding-bottom:0px;max-width:792px;width:100%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper{height:297px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw.kameleoon-lame-refacto_image .banner-wrapper .main-text .main-text__wrapper{display:none}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper{padding-right:396px;height:297px;max-height:297px;overflow:hidden}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example{max-width:395px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper{padding:32px 32px 0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-second,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description{font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .subtitle sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-wrapper .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .description sub{font-size:13px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub{font-size:11px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sup{vertical-align:super}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .agreement-first sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .example .example__text sub,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper sub{vertical-align:0%}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title{padding:8px 0;font-size:22px;line-height:25px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sup,#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .title sub{font-size:16px;line-height:0}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap{padding-top:16px;font-size:16px;line-height:22px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .cta-wrap button{font-size:16px;line-height:22px;min-width:165px;padding:9px 18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down{padding:6px 0 16px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .main-text .main-text__wrapper .main-text__wrapper-down .agreement-first strong{font-size:16px;line-height:21px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer{padding-left:32px;padding-right:32px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second{font-size:13px;line-height:18px}#kameleoonElement-container .kameleoon-lame-refacto.kameleoon-lame-refacto_dpw .banner-footer .agreement-second strong{font-size:16px;line-height:21px}#kameleoonElement-container.has-link{cursor:pointer}[id^=\"kam_lame_\"] .kameleoon-lameBP img{width:715px}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 2469 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw cyber\",widget_brand:\"bp\",styleTheme:\"bp\",widget_type:\"lame_BP_connected\",id:\"94833\",location:\"lameCE_location_dpw\",position_dpw:[\"dpw_comptes\"],lame_format:\"lame_texte_clair\",lame_desktop_image:\"https://arpfxvgcm0.kameleoon.eu/images/155452-0917af2d-5be8-419f-8974-115143e48624.jpg\",lame_pre_title:\"\",lame_title:\"Réglez vos achats à votre rythme, à tout moment.\",lame_description:\"Découvrez le crédit renouvelable Facelia : une solution flexible pour financer vos dépenses.<br><br>Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.\",lame_color:\"#369AD4\",lame_mention_legale_1:\"\",lame_mention_legale_2:\"\",lame_exemple_representatif:\"\",lame_color_select:null,lame_cta_name:\"En savoir plus\",lame_cta_url:\"**portail-wp**/emprunter/simulateur-de-credit-facelia/\",lame_cta_checkbox:[\"on\"],ancien_url_desktop:\"\",ancien_url_desktop_tache:\"\",priority:\"740\",displayCapping:\"3\",clickCapping:\"\",campaign_type:\"P\",market:\"lameBP_particuliers\",category:\"credit\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:94833,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(94833)}};\n/* LAME BP V6 - New formats |x| DPW - connected */\nconst a=e,t=(a.widget_type,`kameleoon__${a.persoID}`),n=a.position_dpw?\"dpw\":\"cyber\",o=(e,t)=>{Kameleoon.API.Utils.addEventListener(e,\"mousedown\",(e=>{Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",t.persoID),\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{const e={},n=((e=a)=>{const{persoID:t,category:n,priority:o,displayCapping:l,clickCapping:i,campaign_type:r}=e,{name:m,segmentName:c,actualPosition:s}=window.kameleoonAutopromoPerso[t];return`[${m}]|[${t}]|[${n}]|[${s}]|[${o}]|[${l}]|[${i}]|[${r}]|[${c}];`})(t),o={\"vignette.liste\":n,\"vignette.nom\":n,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};((e=a)=>{const{id:t,clickCapping:n}=e,o=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===t))?.[0]?.count.toString();return o&&o===n})(t)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(e,window.top.datalayer,window.top.utag_data,o),window.top.utag.link(e)}))}))};\n/** Banner layout */\nconst l={bcp:\"kam-bcp-theme\",bdp:\"kam-bdp-theme\",bp:\"kam-bp-theme\",pal:\"kam-pal-theme\",bqsav:\"kam-bqsav-theme\",btp:\"kam-btp-theme\",ce:\"kam-ce-theme\",cm:\"kam-cm-theme\",cmgo:\"kam-cmgo-theme\",cmmed:\"kam-cmmed-theme\",coop:\"kam-coop-theme\",marze:\"kam-marze-theme\",socfim:\"kam-socfim-theme\"};function i(e){const a=function(e){const a=e.styleTheme?l[e.styleTheme]:l.ce,t=document.createElement(\"div\");t.id=\"kameleoonElement-container\";let n=`kameleoon-lame-refacto ${a}`,o=!1;switch(e.location){case\"lameCE_location_dpw\":n+=\" kameleoon-lame-refacto_dpw\";break;case\"lameCE_location_nouveauPortail\":n+=\" kameleoon-lame-refacto_portail\",o=!0;break;default:console.log(\"[KAM] newVersion\")}let i=!1;switch(e.lame_format){case\"lame_texte_clair\":n+=\" kameleoon-lame-refacto_dark\";break;case\"lame_texte_fonce\":n+=\" kameleoon-lame-refacto_light\";break;case\"lame_image\":n+=\" kameleoon-lame-refacto_image kameleoon-lame-refacto_dark\",i=!0;break;default:console.log(\"[KAM] newFormat\")}const r=e.lame_mobile_image&&o?`\\n        <figure>\\n            <picture>\\n                <img src=\"${e.lame_mobile_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-mobile-image\" alt=\"\">\\n            </picture>\\n        </figure>`:\"\",m=e.lame_pre_title?`\\n        <h5 class=\"subtitle\">${e.lame_pre_title}</h5>`:\"\",c=e.lame_title?`\\n        <h1 class=\"title\">${e.lame_title}</h1>`:\"\",s=e.lame_description?`\\n        <p class=\"description\">${e.lame_description}</p>`:\"\",_=\"lameCE_location_nouveauPortail\"===e.location&&e.lame_exemple_representatif?`\\n        <div class=\"example-mob\">${e.lame_exemple_representatif}</div>`:\"\",p=e.lame_exemple_representatif?`\\n        <div \\n        class=\"example ${\"dark\"===e.lame_color_select?\"example_dark\":\"example_light\"}\">\\n            <p class=\"example__text\">\\n                ${e.lame_exemple_representatif}\\n            </p>\\n        </div>`:\"\",d=e.lame_mention_legale_1?`\\n        <div class=\"main-text__wrapper-down\">\\n            <div class=\"agreement-first\">\\n                ${e.lame_mention_legale_1}\\n            </div>\\n        </div>`:\"\";let u=\"\";e.lame_mention_legale_2?u=`\\n        <div class=\"banner-footer ${\"dark\"===e.lame_color_select?\"banner-footer_light\":\"banner-footer_dark\"}\">\\n            <div class=\"agreement-second\">\\n                ${e.lame_mention_legale_2}\\n            </div>\\n        </div>`:o&&(n+=\" kameleoon-lame-refacto_portail_no-footer\");let g=\"\";g=e.lame_cta_name?`\\n        <div class=\"cta-wrap\">\\n            <button><span>${e.lame_cta_name}</span></button>\\n        </div>`:\"\";const k=!o&&i?\"\":`\\n    <div class=\"main-text\"> \\n        <div class=\"main-text__wrapper\">\\n            <div class=\"main-text__wrapper-upper\">\\n                ${m}\\n                ${c}\\n                ${s}\\n                ${_}\\n                ${g}\\n            </div>\\n            ${d}\\n        </div>\\n    </div>`;e.lame_color&&(t.style=`--content-second-color: ${e.lame_color};`);const v=`\\n        <div class=\"${n}\">\\n            ${r}\\n            <div class=\"banner-wrapper\">\\n                <figure>\\n                    <picture>\\n                        <img src=\"${e.lame_desktop_image}\" class=\"js-orientation orientation-landscape lazyloaded banner-desktop-image\" alt=\"\">                    \\n                    </picture>\\n                </figure>\\n                ${k}\\n\\t\\t\\t\\t${p}\\n            </div>\\n            ${u}\\n        </div>`;return((a,t)=>{const n=()=>{e.lame_cta_checkbox?window.open(e.lame_cta_url,\"_blank\"):window.location.href=e.lame_cta_url};if(t){const e=()=>window.innerWidth>=960;let t=e();window.addEventListener(\"resize\",(()=>{t!==e()&&(t=e())})),a.addEventListener(\"click\",(()=>{t&&n()}))}else a.addEventListener(\"click\",n)})(t,!!(e.lame_cta_name&&o&&i&&e.lame_cta_url)),t.innerHTML=v,e.lame_cta_url&&t.classList.add(\"has-link\"),t}(e);Kameleoon.API.Core.runWhenElementPresent('div[id*=\"lame\"], .home-slider',(([n])=>{n.classList.add(t),n.insertAdjacentElement(\"afterbegin\",a),o(a,e)}))}\n/** Init part */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{\n/** Replace regional urls */\nvar e,l,r,m;\n/** Banner injection */\nswitch(e=a,l=JSON.parse(window.top.sitecodeData),r=/\\*\\*[\\w-]+\\*\\*/g,m=function(e){var a=e.replace(/\\*/g,\"\");return l[a]?l[a]:e},Object.keys(e).forEach((function(a){a.match(\"url\")&&(e[a]=e[a].replace(r,m))})),n){case\"cyber\":!function(e){if(e.position_cyber){var a=t+e.persoID;Kameleoon.API.Core.runWhenElementPresent('[id^=\"kam_lame_\"]',(([n])=>{if(!document.querySelector(t)){//not sure its still needed, but it's cyber... who knows\nn.classList.add(a);var l=document.createElement(\"a\");l.classList.add(\"kameleoon-lameBP\"),l.innerHTML='<img src=\"'.concat(e.ancien_image,'\" alt=\"\">'),e&&e.ancien_url_desktop_tache?(l.href=e.ancien_url_desktop_tache?\"/cyber/ibp/ate/portal/internet89C3Portal.jsp?taskId=\".concat(e.ancien_url_desktop_tache):\"#\",l.target=\"_top\"):(l.href=e&&e.ancien_url_desktop?e.ancien_url_desktop:\"#\",l.target=\"_blank\",l.rel=\"noopener noreferrer\"),o(l,e),n.appendChild(l)}}))}}(a);break;case\"dpw\":i(a);break;default:console.log(\"[Kameleoon] Not cyber nor DPW:\",n)}}),100)}();\n/* END WIDGET 2469 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw cyber","widget_brand":"bp","styleTheme":"bp","widget_type":"lame_BP_connected","id":"94833","location":"lameCE_location_dpw","position_dpw":["dpw_comptes"],"lame_format":"lame_texte_clair","lame_desktop_image":"STATIC_IMAGE_PATH155452-0917af2d-5be8-419f-8974-115143e48624.jpg","lame_pre_title":"","lame_title":"Réglez vos achats à votre rythme, à tout moment.","lame_description":"Découvrez le crédit renouvelable Facelia : une solution flexible pour financer vos dépenses.<br><br>Un crédit vous engage et doit être remboursé. Vérifiez vos capacités de remboursement avant de vous engager.","lame_color":"#369AD4","lame_mention_legale_1":"","lame_mention_legale_2":"","lame_exemple_representatif":"","lame_color_select":null,"lame_cta_name":"En savoir plus","lame_cta_url":"**portail-wp**/emprunter/simulateur-de-credit-facelia/","lame_cta_checkbox":["on"],"ancien_url_desktop":"","ancien_url_desktop_tache":"","priority":"740","displayCapping":"3","clickCapping":"","campaign_type":"P","market":"lameBP_particuliers","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":795909,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_DLILSOCGZZ5D","native_ad_location":["native_ad_location_app_iOS"],"native_ad_position_app":["app_comptes_placement_financier","app_comptes_epargne"],"native_ad_title":"Crédit immobilier","native_ad_description":"Découvrez notre simulateur de crédit immobilier","native_ad_cta":"Simulez","native_ad_url_desktop":"https://www.banquepopulaire.fr/rivesparis/emprunter/simulation-credit-immobilier/","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"","native_ad_legal":"","priority":"992","displayCapping":"","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"Kam_Compte_987","native_ad_distribution":"P","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":795910,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_H59K5S6FKOYK","native_ad_location":["native_ad_location_app_iOS"],"native_ad_position_app":["app_comptes_placement_financier","app_comptes_epargne"],"native_ad_title":"Votre Epargne","native_ad_description":"Bénéficiez de solutions d'épargne adaptées à vos besoins et à votre budget.","native_ad_cta":"En savoir plus !","native_ad_url_desktop":"https://www.banquepopulaire.fr/rivesparis/epargner/","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"","native_ad_legal":"","priority":"988","displayCapping":"","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"Kam_Epargne_988","native_ad_distribution":"P","category":"banque","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":795912,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_9GPEFKZ401FW","native_ad_location":["native_ad_location_app_iOS"],"native_ad_position_app":["app_comptes_placement_financier","app_comptes_epargne"],"native_ad_title":"Empruntez pour un véhicule","native_ad_description":"Un nouveau véhicule hybride pour investir dans le futur.","native_ad_cta":"Simulez","native_ad_url_desktop":"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/besoin?codebanque=10207","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"","native_ad_legal":"Attention ceci est un test","priority":"990","displayCapping":"","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"Kam_990_fi-credit-rev","native_ad_distribution":"P","category":"epargne","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":796692,"css":"","elementSets":[],"javaScriptCode":{"code":"function BougerMiseenavant(){ \r\n\r\nif ( document.querySelector(\"body\").offsetWidth < 942) {\r\n  var heightonboarding = document.querySelector(\"body\").offsetHeight-125\r\n} else {\r\n  var heightonboarding = document.querySelector(\"body\").offsetHeight-75\r\n}\r\n\r\n\r\nvar widthonboarding = document.querySelector(\"body\").offsetWidth-80\r\n\r\ndocument.querySelector(\"body > ng-on-boarding > section > section.ng-on-boarding-window.ng-tns-c45-0\").style = \"transform: translate3d(\"+widthonboarding +\"px, \"+heightonboarding+\"px, 0px); width: 70px; height: 65px;\"\r\n\r\nKameleoon.API.Core.load();\r\n\r\n}\r\n\r\n\r\n\r\nKameleoon.API.Core.runWhenConditionTrue(function(){ return (document.querySelector(\"body > ng-on-boarding > section > section.ng-on-boarding-window.ng-tns-c45-0\") && document.querySelector(\"body > ng-on-boarding > section > section.ng-on-boarding-window.ng-tns-c45-0\").style.width === \"127.9px\")\r\n},\r\nfunction(){\r\n\r\ndocument.querySelector(\"#ng-on-boarding-step-title\").textContent = \"Le saviez-vous ?\"\r\ndocument.querySelector(\"#ng-on-boarding-step-text\").textContent=\"Vous pouvez retrouver les réponses à vos questions sur l’espace client dans votre FAQ, accessible depuis le bouton en bas à droite de votre écran.\"\r\n\r\n\r\nBougerMiseenavant();\r\n\r\n\r\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":798371,"css":"/* START CUSTOM */\n\n.kam-page-de-news.bp-theme{--theme-color-primary: #051b71;--theme-border: var(--theme-color-primary);--theme-background-color: var(--theme-color-primary);--theme-background-color-hover: #f5f5f5}.kam-page-de-news.ce-theme{--theme-color-primary: #D7000F;--theme-border: var(--theme-color-primary);--theme-background-color: var(--theme-color-primary);--theme-background-color-hover: #f5f5f5}.kam-page-de-news{width:100%;height:100%;position:absolute;top:0;left:0;background-color:rgba(0,0,0,0.32);z-index:1124;overflow-y:scroll;overflow-x:hidden !important}.kam-page-de-news ul,.kam-page-de-news ol{margin:0 0 40px 0;padding:0 0 0 24px}.kam-page-de-news ul{list-style-type:disc}.kam-page-de-news ol{list-style-type:decimal}.kam-page-de-news ul li,.kam-page-de-news ol li{margin-bottom:8px}.kam-page-de-news b{font-weight:700}.kam-page-de-news i{font-style:italic}.kam-page-de-news .kam-popup{width:792px;min-height:480px;position:relative;margin:64px auto 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;border:1px solid grey;border-radius:8px;background-color:#fff;margin-bottom:64px}.kam-page-de-news .kam-popup__header{width:100%;margin:5px auto 0;border-bottom:1px solid #ccc}.kam-page-de-news .kam-popup__header .header__title{width:100%;height:48px;position:relative;padding:0 8px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#333;font-family:\"Ubuntu-bpce\", sans-serif;font-size:17px;letter-spacing:0;line-height:22px;text-align:center}.kam-page-de-news .kam-popup__header .header__cross{min-width:32px;position:absolute;right:0;top:8px}.kam-page-de-news .kam-popup__header .header__close{color:var(--theme-color-primary);border:none;background:none;padding:0;cursor:pointer}.kam-page-de-news .kam-popup__title{padding:24px 100px;margin:0;text-align:center;color:#333;font-family:\"Ubuntu-bpce\", sans-serif;font-size:32px;font-weight:300;letter-spacing:-0.1px;line-height:40px}.kam-page-de-news .kam-popup__image-container{max-height:330px;padding:0 102px}.kam-page-de-news .kam-popup__image{width:100%}.kam-page-de-news .kam-popup__body{padding:24px 102px;position:relative;color:#333;font-family:\"Ubuntu-bpce\", sans-serif;font-size:16px;letter-spacing:0;line-height:22px;background-color:#fff;z-index:1}.kam-page-de-news .kam-popup__body_with-big-padding-bottom{padding-bottom:136px}.kam-page-de-news .kam_with-padding-bottom{padding-bottom:138px}.kam-page-de-news .kam-popup__text{text-align:justify}.kam-page-de-news .kam-popup__footer{width:100%;padding:24px 0;text-align:center;background-color:#fff;border-radius:0 0 8px 8px;z-index:1}.kam-page-de-news .kam-popup__button{width:588px;height:40px;padding:8px;margin:0 auto;border:1px solid;border-radius:4px;border-color:var(--theme-border);font-family:\"Ubuntu-bpce\", sans-serif;font-size:16px;letter-spacing:-0.14px;line-height:22px;text-align:center;cursor:pointer}.kam-page-de-news .kam-popup__button_with-padding-bottom{margin-bottom:8px}.kam-page-de-news .kam-popup__button_primary{background-color:var(--theme-background-color);color:#fff}.kam-page-de-news .kam-popup__button_secondary{background-color:transparent;color:var(--theme-color-primary)}.kam-page-de-news .kam-popup__button_secondary:hover{background-color:#f5f5f5}.kam_hidden{display:none}.kam_sticky{position:-webkit-sticky !important;position:sticky !important;bottom:0}.kam_overflow-hidden{overflow:hidden !important}.kam_with-shadow{-webkit-box-shadow:0 0 5px 0 #ccc !important;box-shadow:0 0 5px 0 #ccc !important}@media (max-width: 792px){.kam-page-de-news{margin-top:0px;margin-bottom:0px !important;border-radius:0px;border:0px;overflow-y:scroll;z-index:1100}.kam-page-de-news .kam-popup{height:100%;width:100% !important;margin:0;border-radius:0}.kam-page-de-news .kam-popup .kam-popup__title{padding:20px 0;font-size:24px}.kam-page-de-news .kam-popup .kam-popup__image-container{padding:0 16px 20px}.kam-page-de-news .kam-popup .kam-popup__body{height:100%;padding:20px 16px}.kam-page-de-news .kam-popup .kam-popup__footer{padding:16px}.kam-page-de-news .kam-popup .kam-popup__button{width:100%}.kam-page-de-news .kam-popup .kam_with-padding-bottom{padding-bottom:124px}}.kam-sticky_IE .kam-popup__footer{width:790px !important;position:fixed !important}@media (max-width: 792px){.kam-sticky_IE .kam-popup__footer{width:calc(100% - 20px) !important}}.kam-sticky_IE .kam-popup__body{padding-bottom:106px !important}@media (max-width: 792px){.kam-sticky_IE .kam-popup__body{padding-bottom:88px !important}}.ql-align-center{text-align:center}.ql-align-right{text-align:right}.ql-align-justify{text-align:justify}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 863 */\n!function(){var e={widget_brand:\"bp\",type:\"Autopromo\",widget_type:\"page_de_news\",id:\"96273\",position_cyber:\"dpw_homepage_page_de_news\",clickCapping:\"1\",displayCapping:\"5\",priority:\"790\",page_de_news_title_popin:\"\",page_de_news_title:\"Les formules d'abonnement évoluent\",page_de_news_image:\"https://arpfxvgcm0.kameleoon.eu/images/158402-1c13cfc3-0a7b-420f-9098-e891eea1879b.jpg\",page_de_news_text:\"%3Cp%3E%3Cstrong%3EEvolution%20des%20formules%20d%E2%80%99abonnement%3C%2Fstrong%3E%3C%2Fp%3E%3Cp%3E%3Cbr%3E%3C%2Fp%3E%3Cp%3ENos%20formules%20d%E2%80%99abonnement%20Cyberplus%20Entreprise%20%C3%A9voluent.%3C%2Fp%3E%3Cp%3EPour%20plus%20d%E2%80%99informations%20sur%20Cyberplus%20Entreprise%20et%20sur%20les%20principales%20fonctionnalit%C3%A9s%20incluses%20dans%20les%20nouvelles%20formules%20d%E2%80%99abonnement%2C%20veuillez%20cliquer%20ci-dessous%20sur%20%C2%AB%20en%20savoir%20plus%20%C2%BB.%20Ces%20formules%20recouvrent%20les%20principales%20fonctionnalit%C3%A9s%20actuelles%2C%20enrichies%20de%20nouveaut%C3%A9s%20qui%20seront%20progressivement%20disponibles%20en%202023.%3C%2Fp%3E%3Cp%3ENous%20avons%20inform%C3%A9%20votre%20entreprise%2C%20par%20email%2C%20de%20la%20nouvelle%20formule%20d%E2%80%99abonnement%20dont%20elle%20b%C3%A9n%C3%A9ficiera%20automatiquement%20%C3%A0%20compter%20du%26nbsp%3B%3Cstrong%3E09%2F01%2F2023%3C%2Fstrong%3E.%20En%20cas%20de%20refus%2C%20votre%20entreprise%20peut%20r%C3%A9silier%20sans%20frais%2C%20avant%20cette%20date%2C%20son%20contrat%20Cyberplus%20Entreprise.%3C%2Fp%3E\",page_de_news_bouton_1:\"En savoir plus\",page_de_news_url_cyber:\"\",page_de_news_url_externe:\"https://www.banquepopulaire.fr/rivesparis/professionnels/communication/cyberplus-evolution-formules\",page_de_news_bouton_2:\"\",page_de_news_capping:\"5\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\",persoID:97494,obtainWidgetInfo:function(){return Kameleoon.API.Personalizations.getById(97494)}};\n/** news - DPW - V6 */\n/** Enum */\nclass t{static Display=new t(\"Display\");static Click=new t(\"Click\");constructor(e){this.value=e}toString(){return`${this.value}`}}class o{#e=!1;constructor(e){this.userData=e}\n/**\n   * Returns the news popin\n   * @param {object} userData\n   * @returns {HTMLElement}\n   */#t(e){const o=document.createElement(\"div\"),n=e.widget_brand?`${e.widget_brand}-theme`:\"\";o.classList.add(\"kam-page-de-news\",n);const a=(e,t)=>t?t(e):e||\"\";return o.innerHTML=`\\n      <div class=\"kam-popup\">\\n        <div class=\"kam-popup__header\">\\n          <div class=\"header__title\">\\n            ${a(e.page_de_news_title_popin)}\\n          </div>\\n          <div data-click=\"true\" class=\"header__cross\">\\n            <button data-click=\"true\" type=\"button\" class=\"header__close\">\\n                <svg data-click=\"true\" class=\"header-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 512 512\">\\n                    <path class=\"icon__path\" data-click=\"true\" d=\"M351.65 151.49c4.7-4.672 12.297-4.65 16.97.05 4.673 4.7 4.65 12.297-.049 16.97l-91.497 90.968 91.497 90.97c4.621 4.594 4.72 12.017.279 16.732l-.23.238c-4.673 4.7-12.27 4.721-16.97.049l-91.595-91.068-91.594 91.068c-4.622 4.594-12.046 4.65-16.735.182l-.236-.231c-4.672-4.7-4.65-12.298.05-16.97l91.495-90.97-91.496-90.968c-4.621-4.595-4.72-12.018-.278-16.733l.23-.238c4.672-4.7 12.27-4.721 16.97-.049l91.594 91.067z\" fill=\"#333\" fill-rule=\"evenodd\"></path>\\n                </svg>\\n            </button>\\n          </div>\\n        </div>          \\n        <h2 class=\"kam-popup__title\">\\n            ${a(e.page_de_news_title)}\\n        </h2>\\n        ${e.page_de_news_image?`\\n      <div class=\"kam-popup__image-container\">\\n        <img \\n          class=\"kam-popup__image\"\\n          src=\"${e.page_de_news_image}\"\\n        />\\n      </div>\\n    `:\"\"}\\n        <div class=\"kam-popup__body\">\\n          <div class=\"kam-popup__text\">\\n            ${a(e.page_de_news_text,(e=>decodeURIComponent(e)))}\\n          </div>\\n        </div>\\n        <div class=\"kam-popup__footer\">\\n          ${e.page_de_news_bouton_1?(()=>{const t=e.page_de_news_url_externe?\"_blank\":\"_top\";return`\\n      <a \\n        href=${e.page_de_news_url_externe?e.page_de_news_url_externe:e.page_de_news_url_cyber?e.page_de_news_url_cyber:\"javascript:void(0)\"}\\n        target=${t}\\n        rel=\"noreferrer noopener\"\\n        data-click=\"true\"\\n        class=\"\"\\n      >\\n        <button\\n          class=\"kam-popup__button kam-popup__button_primary kam-popup__button_with-padding-bottom\"\\n          data-click=\"true\"\\n        >\\n          ${e.page_de_news_bouton_1}\\n        </button>\\n      </a>`})():\"\"}\\n          ${e.page_de_news_bouton_2?`\\n      <button \\n        class=\"kam-popup__button kam-popup__button_secondary\"\\n        data-click=\"true\" \\n      >\\n        ${e.page_de_news_bouton_2}\\n      </button>  \\n    `:\"\"}\\n        </div>\\n      </div>\\n    `,Kameleoon.API.Utils.addEventListener(o,\"click\",(o=>{if(o.target.closest(\".kam-popup__button_primary\")||o.target.closest(\".kam-popup__button_secondary\"))return Object.assign(e,{libelle:o.target.innerText.trim()}),this.#o(t.Click,e),this.#n(t.Click,e),void this.#a(!1);!o.target.closest(\".header__close\")&&o.target.closest(\".kam-popup\")||this.#a(!1)})),o}\n/**\n   * Insert the popin in the DOM\n   * @param {HTMLElement} popin\n   */#p(e,o){Kameleoon.API.Core.runWhenElementPresent(\"body\",(()=>{window.top.document.body?.insertAdjacentElement(\"afterbegin\",e),this.#n(t.Display,o),this.#a(!0)}))}\n/**\n   * @param {Boolean} action true: add styles ; false: remove styles \n   */#a(e){switch(e){case!0:const e=window.top.document.querySelector(\".kam-popup\"),t=window.top.document.querySelector(\".kam-popup__footer\");window.top.document.body.classList.add(\"kam_overflow-hidden\"),window.top.document.documentElement.classList.add(\"kam_overflow-hidden\"),e.offsetHeight>window.top.innerHeight&&t.classList.add(\"kam_sticky\",\"kam_with-shadow\");break;case!1:window.top.document.querySelector(\".kam-page-de-news\").remove(),window.top.document.body.classList.remove(\"kam_overflow-hidden\"),window.top.document.documentElement.classList.remove(\"kam_overflow-hidden\")}}\n/**\n   * send metadatas to Adobe Analytics \n   * @param {Capping} type Display | Click\n   * @param {Object} userData \n   */#n(e,o){if(!(e instanceof t))throw new Error(\"incorrect capping type\");Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.utag&&window.top.datalayer&&window.top.utag_data),(()=>{let n;const a=Kameleoon.API.Personalizations.getById(o?.persoID)?.name,p={\"pages.pageType\":\"page de news\",\"pages.pageName\":a};switch(e){case t.Click:Object.assign(p,{\"clics.libelle\":o.libelle,\"evenement.event\":\"event10\",\"clics.type\":\"action\",\"vignette.capping\":\"page de news|\"+a}),n=\"link\";break;case t.Display:this.#i(e,o)&&Object.assign(p,{\"vignette.capping\":\"page de news|\"+a}),n=\"view\"}const i=Object.assign({},window.top.datalayer,window.top.utag_data,p);window.top.utag[n](i)}))}\n/**\n   * Set Capping\n   * @param {Capping} type Display | Click\n   * @param {Object} userData\n   */#o(e,o){if(!(e instanceof t))throw new Error(\"incorrect capping type\");Kameleoon.API.Data.setCustomData(`Autopromo ${e.toString()} Capping`,o.persoID)}\n/**\n   * check if the personalization has capped \n   * based on the capping type property passed as argument\n   * @param {Capping} type Display | Click\n   * @param {Object} userData \n   * @returns {Boolean}\n   */#i(e,o){if(!(e instanceof t))throw new Error(\"incorrect capping type\");const n=e===t.Click?\"clickCapping\":\"page_de_news_capping\",a=Kameleoon.API.CurrentVisit.customData[`Autopromo ${e.toString()} Capping`]?.find((e=>e.value===o.persoID))?.count;// it would be better to extract them from this method\nreturn a===parseInt(o[n])}\n/**\n   * insert <style> tag into window.top in order to correctly apply CSS for the widget (due to iframes limitations)\n   * @param {object} userData \n   */#r(e){const t=document.createElement(\"style\");t.id=`KameleoonStyleSheet-${e.persoID}`,t.classList.add(\"KameleoonStyleSheet\"),t.setAttribute(\"rel\",\"stylesheet\"),t.setAttribute(\"type\",\"text/css\"),t.setAttribute(\"media\",\"screen\"),t.innerHTML='.kam-page-de-news.bp-theme{--theme-color-primary:#051b71;--theme-border:var(--theme-color-primary);--theme-background-color:var(--theme-color-primary);--theme-background-color-hover:#f5f5f5}.kam-page-de-news.ce-theme{--theme-color-primary:#D7000F;--theme-border:var(--theme-color-primary);--theme-background-color:var(--theme-color-primary);--theme-background-color-hover:#f5f5f5}.kam-page-de-news{width:100%;height:100%;position:absolute;top:0;left:0;background-color:rgba(0,0,0,.32);z-index:1124;overflow-y:scroll;overflow-x:hidden!important}.kam-page-de-news ul,.kam-page-de-news ol{margin:0 0 40px 0;padding:0 0 0 24px}.kam-page-de-news ul{list-style-type:disc}.kam-page-de-news ol{list-style-type:decimal}.kam-page-de-news ul li,.kam-page-de-news ol li{margin-bottom:8px}.kam-page-de-news b{font-weight:700}.kam-page-de-news i{font-style:italic}.kam-page-de-news .kam-popup{width:792px;min-height:480px;position:relative;margin:64px auto 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;border:1px solid grey;border-radius:8px;background-color:#fff;margin-bottom:64px}.kam-page-de-news .kam-popup__header{width:100%;margin:5px auto 0;border-bottom:1px solid #ccc}.kam-page-de-news .kam-popup__header .header__title{width:100%;height:48px;position:relative;padding:0 8px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#333;font-family:\"Ubuntu-bpce\",sans-serif;font-size:17px;letter-spacing:0;line-height:22px;text-align:center}.kam-page-de-news .kam-popup__header .header__cross{min-width:32px;position:absolute;right:0;top:8px}.kam-page-de-news .kam-popup__header .header__close{color:var(--theme-color-primary);border:none;background:none;padding:0;cursor:pointer}.kam-page-de-news .kam-popup__title{padding:24px 100px;margin:0;text-align:center;color:#333;font-family:\"Ubuntu-bpce\",sans-serif;font-size:32px;font-weight:300;letter-spacing:-.1px;line-height:40px}.kam-page-de-news .kam-popup__image-container{max-height:330px;padding:0 102px}.kam-page-de-news .kam-popup__image{width:100%}.kam-page-de-news .kam-popup__body{padding:24px 102px;position:relative;color:#333;font-family:\"Ubuntu-bpce\",sans-serif;font-size:16px;letter-spacing:0;line-height:22px;background-color:#fff;z-index:1}.kam-page-de-news .kam-popup__body_with-big-padding-bottom{padding-bottom:136px}.kam-page-de-news .kam_with-padding-bottom{padding-bottom:138px}.kam-page-de-news .kam-popup__text{text-align:justify}.kam-page-de-news .kam-popup__footer{width:100%;padding:24px 0;text-align:center;background-color:#fff;border-radius:0 0 8px 8px;z-index:1}.kam-page-de-news .kam-popup__button{width:588px;height:40px;padding:8px;margin:0 auto;border:1px solid;border-radius:4px;border-color:var(--theme-border);font-family:\"Ubuntu-bpce\",sans-serif;font-size:16px;letter-spacing:-.14px;line-height:22px;text-align:center;cursor:pointer}.kam-page-de-news .kam-popup__button_with-padding-bottom{margin-bottom:8px}.kam-page-de-news .kam-popup__button_primary{background-color:var(--theme-background-color);color:#fff}.kam-page-de-news .kam-popup__button_secondary{background-color:transparent;color:var(--theme-color-primary)}.kam-page-de-news .kam-popup__button_secondary:hover{background-color:#f5f5f5}.kam_hidden{display:none}.kam_sticky{position:-webkit-sticky!important;position:sticky!important;bottom:0}.kam_overflow-hidden{overflow:hidden!important}.kam_with-shadow{-webkit-box-shadow:0 0 5px 0 #ccc!important;box-shadow:0 0 5px 0 #ccc!important}@media (max-width:792px){.kam-page-de-news{margin-top:0;margin-bottom:0px!important;border-radius:0;border:0;overflow-y:scroll;z-index:1100}.kam-page-de-news .kam-popup{height:100%;width:100%!important;margin:0;border-radius:0}.kam-page-de-news .kam-popup .kam-popup__title{padding:20px 0;font-size:24px}.kam-page-de-news .kam-popup .kam-popup__image-container{padding:0 16px 20px}.kam-page-de-news .kam-popup .kam-popup__body{height:100%;padding:20px 16px}.kam-page-de-news .kam-popup .kam-popup__footer{padding:16px}.kam-page-de-news .kam-popup .kam-popup__button{width:100%}.kam-page-de-news .kam-popup .kam_with-padding-bottom{padding-bottom:124px}}.kam-sticky_IE .kam-popup__footer{width:790px!important;position:fixed!important}@media (max-width:792px){.kam-sticky_IE .kam-popup__footer{width:calc(100% - 20px)!important}}.kam-sticky_IE .kam-popup__body{padding-bottom:106px!important}@media (max-width:792px){.kam-sticky_IE .kam-popup__body{padding-bottom:88px!important}}.ql-align-center{text-align:center}.ql-align-right{text-align:right}.ql-align-justify{text-align:justify}',window.top.document.head.appendChild(t)}#s(e){if(this.#e)return console.log(e)}init(){try{this.#s(\"start...\");const e=this.#t(this.userData);this.#s(\"generate popin:\",e),this.#s(\"try to insert popin...\"),this.#r(this.userData),this.#p(e,this.userData),this.#s(\"end.\")}catch(e){throw new Error(e)}}}\n/** Script Entry Point */Kameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{try{new o(e).init()}catch(t){console.error(`[Kameleoon][perso: ${e.persoID}]: `+t)}}))}();\n/* END WIDGET 863 */","afterDOMReady":false},"widgetTemplateInputData":{"widget_brand":"bp","type":"Autopromo","widget_type":"page_de_news","id":"96273","position_cyber":"dpw_homepage_page_de_news","clickCapping":"1","displayCapping":"5","priority":"790","page_de_news_title_popin":"","page_de_news_title":"Les formules d'abonnement évoluent","page_de_news_image":"STATIC_IMAGE_PATH158402-1c13cfc3-0a7b-420f-9098-e891eea1879b.jpg","page_de_news_text":"%3Cp%3E%3Cstrong%3EEvolution%20des%20formules%20d%E2%80%99abonnement%3C%2Fstrong%3E%3C%2Fp%3E%3Cp%3E%3Cbr%3E%3C%2Fp%3E%3Cp%3ENos%20formules%20d%E2%80%99abonnement%20Cyberplus%20Entreprise%20%C3%A9voluent.%3C%2Fp%3E%3Cp%3EPour%20plus%20d%E2%80%99informations%20sur%20Cyberplus%20Entreprise%20et%20sur%20les%20principales%20fonctionnalit%C3%A9s%20incluses%20dans%20les%20nouvelles%20formules%20d%E2%80%99abonnement%2C%20veuillez%20cliquer%20ci-dessous%20sur%20%C2%AB%20en%20savoir%20plus%20%C2%BB.%20Ces%20formules%20recouvrent%20les%20principales%20fonctionnalit%C3%A9s%20actuelles%2C%20enrichies%20de%20nouveaut%C3%A9s%20qui%20seront%20progressivement%20disponibles%20en%202023.%3C%2Fp%3E%3Cp%3ENous%20avons%20inform%C3%A9%20votre%20entreprise%2C%20par%20email%2C%20de%20la%20nouvelle%20formule%20d%E2%80%99abonnement%20dont%20elle%20b%C3%A9n%C3%A9ficiera%20automatiquement%20%C3%A0%20compter%20du%26nbsp%3B%3Cstrong%3E09%2F01%2F2023%3C%2Fstrong%3E.%20En%20cas%20de%20refus%2C%20votre%20entreprise%20peut%20r%C3%A9silier%20sans%20frais%2C%20avant%20cette%20date%2C%20son%20contrat%20Cyberplus%20Entreprise.%3C%2Fp%3E","page_de_news_bouton_1":"En savoir plus","page_de_news_url_cyber":"","page_de_news_url_externe":"https://www.banquepopulaire.fr/rivesparis/professionnels/communication/cyberplus-evolution-formules","page_de_news_bouton_2":"","page_de_news_capping":"5","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Reference","id":800846,"css":"","elementSets":[],"javaScriptCode":{"code":"document.cookie = \"PopinCookieBP=varianteAA; expires=Sun, 18 Dec 2022 21:59:59 GMT;path=/\"","afterDOMReady":false},"widgetTemplateInputData":null,"widgetTemplateName":null},{"name":"VARIANTE EE","id":800847,"css":"","elementSets":[],"javaScriptCode":{"code":"document.cookie = \"PopinCookieBP=varianteEE; expires=Sun, 18 Dec 2022 21:59:59 GMT;path=/\"","afterDOMReady":false},"widgetTemplateInputData":null,"widgetTemplateName":null},{"name":"VARIANTE FF","id":800848,"css":"","elementSets":[],"javaScriptCode":{"code":"document.cookie = \"PopinCookieBP=varianteFF; expires=Sun, 18 Dec 2022 21:59:59 GMT;path=/\"","afterDOMReady":false},"widgetTemplateInputData":null,"widgetTemplateName":null},{"name":"Variation 1","id":800919,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw\",widget_brand:\"bp\",widget_type:\"native_ad\",id:\"98185\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_compte\",\"dpw_assurances_voiture\"],native_ad_title:\"test Nicolas native ad\",native_ad_description:\"test Nicolas native ad\",native_ad_cta:\"test\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/rivesparis/\",native_ad_legal:\"\",priority:\"1000\",displayCapping:\"\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"autre\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction a(e,n,t){const i=e.parentNode;i&&(n.test(i.id)?i.classList.add(t):a(i,n,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=98185,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(98185)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const n=e;\n/**\n * \n * @param {*} perso \n */\nvar t,i,o,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=n,i=JSON.parse(window.top.sitecodeData),o=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var a=e.replace(/\\*/g,\"\");return i[a]?i[a]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(o,s))}));const d=function(e){const a=(e,a)=>a&&e?a(e):e||\"\",n=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${a(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${a(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${a(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${a(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${a(e.native_ad_cta)}</span>\\n    </div>\\n    `;return n.classList.add(\"kameleoon-native-ad-container\"),n.innerHTML=t,Kameleoon.API.Utils.addEventListener(n.children[0],\"click\",(a=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const a=e=>{const{id:a,clickCapping:n}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===a))?.[0]?.count.toString();return t&&t===n},n=e=>{const{persoID:a,category:n,priority:t,displayCapping:i,clickCapping:o,campaign_type:s}=e,{name:d,segmentName:c,actualPosition:r}=window.kameleoonAutopromoPerso[a];return`[${d}]|[${a}]|[${n}]|[${r}]|[${t}]|[${i}]|[${o}]|[${s}]|[${c}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},i=n(e),o={\"vignette.liste\":i,\"vignette.nom\":i,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};a(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,o),window.utag.link(t)}))}(e);const n=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(n,\"_blank\")})),n}(n);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,n,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!n.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const i=\"kameleoon__\",o=i+n.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,a,n){const t={};for(let i=0;i<a.length;i++)if(e[a[i]]&&document.querySelector(e[a[i]])&&!document.querySelector(e[a[i]]).className.match(n)){t.position=e[a[i]],t.name=a[i];break}return t}(t,n.position_dpw,i),d=document.querySelector(s.position),c=/kam-family/i,r=\"kameleoon-native-ad__visible\";d&&!document.querySelector(o)&&(d.appendChild(e),d.classList.add(o),a(d,c,r))}(d,n,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw","widget_brand":"bp","widget_type":"native_ad","id":"98185","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_compte","dpw_assurances_voiture"],"native_ad_title":"test Nicolas native ad","native_ad_description":"test Nicolas native ad","native_ad_cta":"test","native_ad_url_desktop":"https://www.banquepopulaire.fr/rivesparis/","native_ad_legal":"","priority":"1000","displayCapping":"","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"autre","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":803961,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw\",widget_brand:\"bp\",widget_type:\"native_ad\",id:\"99640\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_epargne\"],native_ad_title:\"Livret A\",native_ad_description:\"Profitez du nouveau taux à 2 % net/an depuis le 1er août 2022 !\",native_ad_cta:\"Prendre rendez-vous\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=RDV\",native_ad_legal:\"\",priority:\"500\",displayCapping:\"5\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"epargne\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction n(e,a,t){const o=e.parentNode;o&&(a.test(o.id)?o.classList.add(t):n(o,a,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=99640,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(99640)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const a=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,d;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=a,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,d=function(e){var n=e.replace(/\\*/g,\"\");return o[n]?o[n]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,d))}));const s=function(e){const n=(e,n)=>n&&e?n(e):e||\"\",a=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${n(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${n(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${n(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${n(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${n(e.native_ad_cta)}</span>\\n    </div>\\n    `;return a.classList.add(\"kameleoon-native-ad-container\"),a.innerHTML=t,Kameleoon.API.Utils.addEventListener(a.children[0],\"click\",(n=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const n=e=>{const{id:n,clickCapping:a}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return t&&t===a},a=e=>{const{persoID:n,category:a,priority:t,displayCapping:o,clickCapping:i,campaign_type:d}=e,{name:s,segmentName:c,actualPosition:r}=window.kameleoonAutopromoPerso[n];return`[${s}]|[${n}]|[${a}]|[${r}]|[${t}]|[${o}]|[${i}]|[${d}]|[${c}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=a(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};n(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const a=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(a,\"_blank\")})),a}(a);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,a,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!a.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+a.persoID,d=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,n,a){const t={};for(let o=0;o<n.length;o++)if(e[n[o]]&&document.querySelector(e[n[o]])&&!document.querySelector(e[n[o]]).className.match(a)){t.position=e[n[o]],t.name=n[o];break}return t}(t,a.position_dpw,o),s=document.querySelector(d.position),c=/kam-family/i,r=\"kameleoon-native-ad__visible\";s&&!document.querySelector(i)&&(s.appendChild(e),s.classList.add(i),n(s,c,r))}(s,a,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw","widget_brand":"bp","widget_type":"native_ad","id":"99640","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_epargne"],"native_ad_title":"Livret A","native_ad_description":"Profitez du nouveau taux à 2 % net/an depuis le 1er août 2022 !","native_ad_cta":"Prendre rendez-vous","native_ad_url_desktop":"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=RDV","native_ad_legal":"","priority":"500","displayCapping":"5","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"epargne","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":803963,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad","widget_brand":"bp","id":"native_ad_2XSLP8QQO4GV","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_epargne"],"native_ad_title":"Livret A","native_ad_description":"Profitez du nouveau taux à 2 % net/an depuis le 1er août 2022 !","native_ad_cta":"Prendre rendez-vous","native_ad_url_desktop":"ad.dpn.link.appointment​","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"","native_ad_legal":"","priority":"500","displayCapping":"5","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_LIVRET_A_TAUX_2022","category":"epargne","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":803965,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad","widget_brand":"bp","id":"native_ad_FFP81O9NVCQN","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_epargne"],"native_ad_title":"CODEVair : donnez du sens à votre épargne !","native_ad_description":"Participez aux financements de projets d’efficacité énergétique régionaux grâce au livret CODEVair.","native_ad_cta":"Prendre rendez-vous","native_ad_url_desktop":"ad.dpn.link.appointment​","native_ad_url_internal_BPCE":"true","native_ad_url_deeplink":"","native_ad_legal":"","priority":"500","displayCapping":"5","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_CODEVAIR_TAUX_2022","category":"epargne","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":803966,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw\",widget_brand:\"bp\",widget_type:\"native_ad\",id:\"99643\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_epargne\"],native_ad_title:\"CODEVair : donnez du sens à votre épargne !\",native_ad_description:\"Participez aux financements de projets d’efficacité énergétique régionaux grâce au livret CODEVair.\",native_ad_cta:\"Prendre rendez-vous\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=RDV\",native_ad_legal:\"\",priority:\"500\",displayCapping:\"5\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"epargne\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction n(e,a,t){const i=e.parentNode;i&&(a.test(i.id)?i.classList.add(t):n(i,a,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=99643,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(99643)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const a=e;\n/**\n * \n * @param {*} perso \n */\nvar t,i,o,d;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=a,i=JSON.parse(window.top.sitecodeData),o=/\\*\\*[\\w-]+\\*\\*/g,d=function(e){var n=e.replace(/\\*/g,\"\");return i[n]?i[n]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(o,d))}));const s=function(e){const n=(e,n)=>n&&e?n(e):e||\"\",a=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${n(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${n(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${n(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${n(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${n(e.native_ad_cta)}</span>\\n    </div>\\n    `;return a.classList.add(\"kameleoon-native-ad-container\"),a.innerHTML=t,Kameleoon.API.Utils.addEventListener(a.children[0],\"click\",(n=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const n=e=>{const{id:n,clickCapping:a}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return t&&t===a},a=e=>{const{persoID:n,category:a,priority:t,displayCapping:i,clickCapping:o,campaign_type:d}=e,{name:s,segmentName:r,actualPosition:c}=window.kameleoonAutopromoPerso[n];return`[${s}]|[${n}]|[${a}]|[${c}]|[${t}]|[${i}]|[${o}]|[${d}]|[${r}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},i=a(e),o={\"vignette.liste\":i,\"vignette.nom\":i,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};n(e)&&(o[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,o),window.utag.link(t)}))}(e);const a=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(a,\"_blank\")})),a}(a);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,a,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!a.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const i=\"kameleoon__\",o=i+a.persoID,d=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,n,a){const t={};for(let i=0;i<n.length;i++)if(e[n[i]]&&document.querySelector(e[n[i]])&&!document.querySelector(e[n[i]]).className.match(a)){t.position=e[n[i]],t.name=n[i];break}return t}(t,a.position_dpw,i),s=document.querySelector(d.position),r=/kam-family/i,c=\"kameleoon-native-ad__visible\";s&&!document.querySelector(o)&&(s.appendChild(e),s.classList.add(o),n(s,r,c))}(s,a,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw","widget_brand":"bp","widget_type":"native_ad","id":"99643","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_epargne"],"native_ad_title":"CODEVair : donnez du sens à votre épargne !","native_ad_description":"Participez aux financements de projets d’efficacité énergétique régionaux grâce au livret CODEVair.","native_ad_cta":"Prendre rendez-vous","native_ad_url_desktop":"https://www.banquepopulaire.fr/espace-client-redirection/sso?codeEtablissement=10207&type=DEBRANCHEMENT&codeDebranchement=RDV","native_ad_legal":"","priority":"500","displayCapping":"5","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"epargne","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":806357,"css":"","elementSets":[],"javaScriptCode":{"code":"Kameleoon.API.Core.runWhenConditionTrue(function(){\r\n    return (\r\n\t\tdocument.querySelector(\"#zone-router > souscrire-component > souscrire-page > div > souscrire-demand > div > souscrire-demands-list > dp-template > section > section.template-body-payload.standard.ng-star-inserted > div > souscrire-missed-demand > div > ui-tile\") )\r\n }, function(){\r\n\r\n\r\ndocument.querySelector(\"#zone-router > souscrire-component > souscrire-page > div > souscrire-demand > div > souscrire-demands-list > dp-template > section > section.template-body-payload.standard.ng-star-inserted > div > souscrire-missed-demand > div > ui-tile > div > div > div.missed-demand-tile-icon > ui-icon > span > div > svg\").innerHTML='<path fill=\"#369AD4\" d=\"M28.675,40 C28.675,38.875 29.425,38.125 30.475,38.125 C31.525,38.125 32.275,38.875 32.275,40 C32.275,41.05 31.6,41.875 30.475,41.875 C29.425,41.875 28.675,41.05 28.675,40 Z M38.2,40 C38.2,38.875 38.95,38.125 40,38.125 C41.05,38.125 41.8,38.875 41.8,40 C41.8,41.05 41.125,41.875 40,41.875 C38.95,41.875 38.2,41.05 38.2,40 Z M47.725,40 C47.725,38.875 48.475,38.125 49.525,38.125 C50.575,38.125 51.325,38.875 51.325,40 C51.325,41.05 50.65,41.875 49.525,41.875 C48.475,41.875 47.725,41.05 47.725,40 Z\"/>    <path fill=\"#051B71\" d=\"M40,14.2 C25.7510535,14.2 14.2,25.7510535 14.2,40 C14.2,54.2489465 25.7510535,65.8 40,65.8 C54.2489465,65.8 65.8,54.2489465 65.8,40 C65.8,25.7510535 54.2489465,14.2 40,14.2 Z M40,15.8 C53.3652909,15.8 64.2,26.6347091 64.2,40 C64.2,53.3652909 53.3652909,64.2 40,64.2 C26.6347091,64.2 15.8,53.3652909 15.8,40 C15.8,26.6347091 26.6347091,15.8 40,15.8 Z\"/>'\r\n\r\ndocument.querySelector(\"#zone-router > souscrire-component > souscrire-page > div > souscrire-demand > div > souscrire-demands-list > dp-template > section > section.template-body-payload.standard.ng-star-inserted > div > souscrire-missed-demand > div > ui-tile > div > div > div.missed-demand-tile-title > p\").textContent=\"Un document à signer, à transmettre ?\"\r\n\r\ndocument.querySelector(\"#zone-router > souscrire-component > souscrire-page > div > souscrire-demand > div > souscrire-demands-list > dp-template > section > section.template-body-payload.standard.ng-star-inserted > div > souscrire-missed-demand > div > ui-tile > div > div > div.missed-demand-tile-details\").textContent= \"Crédit immobilier, épargne, consentement client, autres documents\"\r\n\r\n \r\n}, 200);","afterDOMReady":false}},{"name":"Variation 1","id":809076,"css":"","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 1536 */\n/* END WIDGET 1536 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_type":"native_ad_app","widget_brand":"bp","id":"native_ad_D23Q5XK6EXAI","native_ad_location":["native_ad_location_app_iOS","native_ad_location_app_Android"],"native_ad_position_app":["app_comptes_compte"],"native_ad_title":"OFFRE DE CRÉDIT CONSO NOËL DU 19 AU 30 DÉCEMBRE 2022 INCLUS","native_ad_description":"Empruntez jusqu’à 75 000 € sur une durée de 6 à 84 mois.","native_ad_cta":"Simulez","native_ad_url_desktop":"","native_ad_url_internal_BPCE":"true","native_ad_webview_title_internal_BPCE":"","native_ad_url_deeplink":"ad.dpn.link.credit.simulators.hub&typecode=tresorerie","native_ad_legal":"Un crédit vous engage et doit être remboursé.  Vérifiez vos capacités de remboursement avant de vous engager. ","priority":"999","displayCapping":"10","clickCapping":"","ciblage_type":"native_ad_ciblage_crm","segmentMobile":"PART_PRET_NOEL_CREDIT_CONSO_22","native_ad_distribution":"P","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"name":"Variation 1","id":809079,"css":"/* START CUSTOM */\n\n.kameleoon-native-ad.default-theme{--native-ad-font: 'ubuntu', sans-serif;--native-ad-theme-color-title: #3b3b3b;--native-ad-theme-color-description: #3b3b3b;--native-ad-theme-color-legal: #3b3b3b;--native-ad-theme-color-cta: #000000}.kameleoon-native-ad.bcp-theme{--native-ad-theme-color-cta: #D1005D}.kameleoon-native-ad.bdp-theme{--native-ad-theme-color-cta: #7C252C}.kameleoon-native-ad.bp-theme{--native-ad-theme-color-cta: #062499}.kameleoon-native-ad.bqpa-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.pal-theme{--native-ad-theme-color-cta: #62120F}.kameleoon-native-ad.bqsav-theme{--native-ad-theme-color-cta: #E30613}.kameleoon-native-ad.btp-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.ce-theme{--native-ad-theme-color-cta: #D7000F}.kameleoon-native-ad.cmgo-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.cmmed-theme{--native-ad-theme-color-cta: #0061A1}.kameleoon-native-ad.coop-theme{--native-ad-theme-color-cta: #C8102E}.kameleoon-native-ad.marze-theme{--native-ad-theme-color-cta: #136ABA}.kameleoon-native-ad.socfim-theme{--native-ad-theme-color-cta: #000000}.kameleoon-native-ad{position:relative;width:100%;padding:15px;padding-right:30%;margin:20px 0;border:2px solid transparent;border-radius:8px;font-family:var(--native-ad-font);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.3s linear;-o-transition:all 0.3s linear;transition:all 0.3s linear;cursor:pointer}.kameleoon-native-ad__title{font-size:16px;font-weight:bold;color:var(--theme-color-title)}.kameleoon-native-ad__legal{margin-top:8px}.kameleoon-native-ad__cta{position:absolute;right:15%;top:50%;-webkit-transform:translate(50%, -50%);-ms-transform:translate(50%, -50%);transform:translate(50%, -50%);color:var(--native-ad-theme-color-cta)}.kameleoon-native-ad__close-icon{position:absolute;top:8px;right:16px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);color:var(--native-ad-theme-color-cta);position:absolute;font-family:\"89c3\";font-size:24px;font-style:normal;font-weight:400;line-height:normal;z-index:1}.kameleoon-native-ad__visible{display:block !important}.kameleoon-native-ad:hover{border-color:#ccc}.kameleoon-native-ad:active{background-color:#ccc}.kameleoon-native-ad:after{content:'';position:absolute;top:-2px;bottom:-2px;right:-2px;left:-2px;width:100%;height:100%;border:2px dashed #ccc;-webkit-box-sizing:content-box;box-sizing:content-box;border-radius:8px}.kameleoon-native-ad-container sup{vertical-align:super}.kameleoon-native-ad-container sub{font-size:13px}.kameleoon-native-ad__legal strong{font-size:18px}.kameleoon-native-ad__description strong{font-weight:700}@media screen and (max-width: 768px){.kameleoon-native-ad__cta{position:static;-webkit-transform:none;-ms-transform:none;transform:none;margin-top:8px}}","elementSets":[],"javaScriptCode":{"code":"/* START WIDGET 775 */\n!function(){var e={type:\"Autopromo\",widget_context:\"dpw\",widget_brand:\"bp\",widget_type:\"native_ad\",id:\"101682\",native_ad_location:[\"native_ad_location_dpw\"],position_dpw:[\"dpw_comptes_compte\"],native_ad_title:\"OFFRE DE CRÉDIT CONSO NOËL DU 19 AU 30 DÉCEMBRE 2022 INCLUS\",native_ad_description:\"Empruntez jusqu’à 75 000 € sur une durée de 6 à 84 mois.\",native_ad_cta:\"Simulez\",native_ad_url_desktop:\"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/besoin?codebanque=10207\",native_ad_legal:\"Un crédit vous engage et doit être remboursé.​ Vérifiez vos capacités de remboursement avant de vous engager.\",priority:\"999\",displayCapping:\"10\",clickCapping:\"\",campaign_type:\"P\",market:\"native_ad_particuliers\",category:\"credit\",product_code:\"\",displayPluginConfiguration:\"DISPLAY_ALL_DEVICES\",positionPluginConfiguration:\"INPAGE\"};\n/**\n * TODO: :-)\n * @param {*} element\n * @param {*} parentIdRegEx\n * @param {*} displayClass\n */\nfunction n(e,a,t){const o=e.parentNode;o&&(a.test(o.id)?o.classList.add(t):n(o,a,t))}\n/**\n * Click Handler\n * @param {*} perso\n */e.persoID=101682,e.obtainWidgetInfo=function(){return Kameleoon.API.Personalizations.getById(101682)},\n/* native-ad-web BP - V6 */\n/** init */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.top.sitecodeData),(()=>{const a=e;\n/**\n * \n * @param {*} perso \n */\nvar t,o,i,s;\n/**\n * Returns the native-ad-web banner\n * @param {object} perso - UserData from user-interface.html\n * @returns {HTMLElement}\n */t=a,o=JSON.parse(window.top.sitecodeData),i=/\\*\\*[\\w-]+\\*\\*/g,s=function(e){var n=e.replace(/\\*/g,\"\");return o[n]?o[n]:e},Object.keys(t).forEach((function(e){e.match(\"url\")&&(t[e]=t[e].replace(i,s))}));const d=function(e){const n=(e,n)=>n&&e?n(e):e||\"\",a=document.createElement(\"div\"),t=`\\n    <div class=\"kameleoon-native-ad ${n(e.widget_brand,(e=>e?`${e}-theme`:\"default-theme\"))}\">\\n    <span class=\"kameleoon-native-ad__title\">${n(e.native_ad_title)}</span>\\n    <span class=\"kameleoon-native-ad__description\">${n(e.native_ad_description)}</span>\\n    <span class=\"kameleoon-native-ad__legal\">${n(e.native_ad_legal)}</span>\\n    <span class=\"kameleoon-native-ad__cta\">${n(e.native_ad_cta)}</span>\\n    </div>\\n    `;return a.classList.add(\"kameleoon-native-ad-container\"),a.innerHTML=t,Kameleoon.API.Utils.addEventListener(a.children[0],\"click\",(n=>{!function(e){Kameleoon.API.Data.setCustomData(\"Autopromo Click Capping\",e.persoID);const n=e=>{const{id:n,clickCapping:a}=e,t=Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"].filter((e=>e.value===n))?.[0]?.count.toString();return t&&t===a},a=e=>{const{persoID:n,category:a,priority:t,displayCapping:o,clickCapping:i,campaign_type:s}=e,{name:d,segmentName:r,actualPosition:c}=window.kameleoonAutopromoPerso[n];return`[${d}]|[${n}]|[${a}]|[${c}]|[${t}]|[${o}]|[${i}]|[${s}]|[${r}];`};\n/** Sending click tracking to adobe */\nKameleoon.API.Core.runWhenConditionTrue((()=>window.utag&&window.datalayer&&window.utag_data),(()=>{const t={},o=a(e),i={\"vignette.liste\":o,\"vignette.nom\":o,//really need twice the same property ?\n\"clics.libelle\":\"vignette\",\"clics.type\":\"vignette\",\"evenement.event\":\"event10,event29\",\"vignette.capping\":Kameleoon.API.CurrentVisit.customData.CRM_BPCE};n(e)&&(i[\"evenement.event\"]+=\",event41\"),Object.assign(t,window.datalayer,window.utag_data,i),window.utag.link(t)}))}(e);const a=e.native_ad_url_desktop?e.native_ad_url_desktop:\"javascript:void(0);\";window.open(a,\"_blank\")})),a}(a);!\n/**\n * Insert the banner in the DOM\n * @param {*} banner\n * @param {*} perso\n * @param {object} positionSelector - available positions key:selector\n */\nfunction(e,a,t){\n/** in this function we should use Kam.RWEP before inserting the banner */\nif(!a.position_dpw)return;if(document.querySelectorAll(\".kameleoon-native-ad\").length>1)return;const o=\"kameleoon__\",i=o+a.persoID,s=\n/**\n * Returns the right position name and CSS selector for the banner\n * @param {object} positions - available positions key:selector\n * @param {array} persoPositions - positions checked in UserData\n * @param {string} persoClass - used to check if the place is still available\n * @returns {object}\n */\nfunction(e,n,a){const t={};for(let o=0;o<n.length;o++)if(e[n[o]]&&document.querySelector(e[n[o]])&&!document.querySelector(e[n[o]]).className.match(a)){t.position=e[n[o]],t.name=n[o];break}return t}(t,a.position_dpw,o),d=document.querySelector(s.position),r=/kam-family/i,c=\"kameleoon-native-ad__visible\";d&&!document.querySelector(i)&&(d.appendChild(e),d.classList.add(i),n(d,r,c))}(d,a,{dpw_comptes_compte:\"#kam-nad-1\",dpw_comptes_credit_revolving:\"#kam-nad-2\",dpw_comptes_epargne:\"#kam-nad-3\",dpw_comptes_placement_financier:\"#kam-nad-4\",dpw_comptes_credit:\"#kam-nad-6\",dpw_comptes_financement:\"#kam-nad-17\",dpw_assurances_voiture:\"#kam-assurance-nad-1\",dpw_assurances_logement:\"#kam-assurance-nad-2\",dpw_assurances_quotidien:\"#kam-assurance-nad-3\",dpw_assurances_famille:\"#kam-assurance-nad-4\"})}),100)}();\n/* END WIDGET 775 */","afterDOMReady":false},"widgetTemplateInputData":{"type":"Autopromo","widget_context":"dpw","widget_brand":"bp","widget_type":"native_ad","id":"101682","native_ad_location":["native_ad_location_dpw"],"position_dpw":["dpw_comptes_compte"],"native_ad_title":"OFFRE DE CRÉDIT CONSO NOËL DU 19 AU 30 DÉCEMBRE 2022 INCLUS","native_ad_description":"Empruntez jusqu’à 75 000 € sur une durée de 6 à 84 mois.","native_ad_cta":"Simulez","native_ad_url_desktop":"https://www.banquepopulaire.fr/souscrire/credit-consommation-simulateur/besoin?codebanque=10207","native_ad_legal":"Un crédit vous engage et doit être remboursé.​ Vérifiez vos capacités de remboursement avant de vous engager.","priority":"999","displayCapping":"10","clickCapping":"","campaign_type":"P","market":"native_ad_particuliers","category":"credit","product_code":"","displayPluginConfiguration":"DISPLAY_ALL_DEVICES","positionPluginConfiguration":"INPAGE"},"widgetTemplateName":null},{"id":0,"name":"Reference","css":"","elementSets":[]},{"id":null,"name":"Excluded"}],"goals":[{"id":177992,"name":"Engagement","type":"ENGAGEMENT"},{"id":218836,"name":"Affichage Popin - B2B","type":"CUSTOM"},{"id":218839,"name":"Clic Oui, c’est OK Popin 1 - B2B","type":"CUSTOM"},{"id":218843,"name":"Clic J’ai compris Popin 2 - B2B","type":"CUSTOM"},{"id":218858,"name":"Affichage Popin 1 - B2B","type":"CUSTOM"},{"id":218859,"name":"Affichage Popin 2 - B2B","type":"CUSTOM"},{"id":218860,"name":"Clic J’ai compris Popin - B2B","type":"CUSTOM"},{"id":218861,"name":"Clic Non, mettre à jour Popin 1 - B2B","type":"CUSTOM"},{"id":219085,"name":"Affichage Bandeau DPW","type":"CUSTOM"},{"id":219086,"name":"Clic Bandeau DPW","type":"CUSTOM"},{"id":232417,"name":"Clic fermeture popin BP Android","type":"CUSTOM"},{"id":232418,"name":"Clic lien Android BP","type":"CUSTOM"},{"id":232419,"name":"Affichage Incitation APP Android BP","type":"CUSTOM"},{"id":232420,"name":"Clic fermeture popin BP iOS","type":"CUSTOM"},{"id":232421,"name":"Clic lien iOS BP","type":"CUSTOM"},{"id":232422,"name":"Affichage Incitation APP iOS BP","type":"CUSTOM"}],"scriptProduceTime":1671805581396,"timeZone":"Europe/Paris","abtestingSetup":true,"personalizationSetup":true,"boLocale":"FRENCH","kameleoonByteLength":0,"trackerContinent":"eu-","useMultipleSiteCodes":true,"useWideDomainSupport":true,"adobeOmniture":{"object":"s","anchorReferrer":true},"globalScript":"/** Utils - activate logs */\nconst kamSupport = !!window.localStorage.getItem(\"kam-support\");\nconst log = function (title = \"Kameleoon\", msg, color = \"white\") {\n\tif (kamSupport) {\n\t\tif (typeof msg === \"object\") {\n\t\t\tconsole.log(`%c[${title}]`, `color:${color}`, msg);\n\t\t} else console.log(`%c[${title}] ${msg}`, `color:${color}`);\n\t}\n};\nlog(\"Kameleoon\", `Script produce time ${new Date(Kameleoon.Internals.configuration.scriptProduceTime).toLocaleString()}`);\n/** Block all autopromo personalizations: trigger will be done by AutopromoEngine */\nKameleoon.API.Personalizations.getAll()\n\t.filter((personalization) => {\n\t\tif (personalization?.associatedVariation?.instantiatedTemplate?.customFields?.type == \"Autopromo\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t})\n\t.map((personalization) => personalization.id)\n\t.forEach(Kameleoon.API.Personalizations.block);\nif (JSON.stringify(window.document.cookie).indexOf(\"visitor_context\") !== -1) {\n\tfunction sendData(value) {\n\t\t// SEGMENT\n    Kameleoon.API.Utils.performRequest(\n        \"https://api-data.kameleoon.com/data?siteCode=\" + Kameleoon.Internals.configuration.siteCode + \"&key=\" + value,\n        function () {\n          if (this.readyState === 4 && this.status === 200) {\n            let customDataValue = \"\";\n            if (JSON.parse(this.responseText)?.segments !== undefined) {\n              customDataValue = JSON.parse(this.responseText).segments;\n            }       \n            Kameleoon.API.Data.setCustomData(\"BPCESegments\",customDataValue);\n          }\n        },\n        function () {\n          Kameleoon.API.Data.setCustomData(\"BPCESegments\", \"failed_to_retrieve_crm_data\");\n        }\n      );\n\t\t// AUTOPROMO CRM\n\t\tKameleoon.API.Utils.performRequest(\n\t\t\t\"https://api-data.kameleoon.com/data?siteCode=\" + Kameleoon.Internals.configuration.siteCode + \"&key=CRM_\" + value.toUpperCase(),\n\t\t\tfunction () {\n\t\t\t\tif (this.readyState === 4 && this.status === 200) {\n\t\t\t\t\tKameleoon.API.Data.setCustomData(\"CRM_BPCE\", Object.keys(JSON.parse(this.responseText)).join(\";\"));\n\t\t\t\t}\n\t\t\t},\n\t\t\tfunction () {\n\t\t\t\tKameleoon.API.Data.setCustomData(\"CRM_BPCE\", \"failed_to_retrieve_crm_data\");\n\t\t\t}\n\t\t);\n\t}\n\t// Cookie visitor Context datalayer\n\tfunction getCookieValue(name) {\n\t\tvar nameString = name + \"=\";\n\t\tvar value = document.cookie.split(\";\");\n\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\tif (value[i].indexOf(nameString) !== -1) {\n\t\t\t\tvar erase = nameString.length;\n\t\t\t\t//  console.log('ERASE', erase);\n\t\t\t\tif (value.length) {\n\t\t\t\t\t//   console.log('length', value[0].length);\n\t\t\t\t\treturn value[i].substring(erase, value[i].length);\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction sendObtainValue(data) {\n\t\tvar k_cookieValue = data.split(\"$\");\n\t\tfor (var i = 0; i < k_cookieValue.length; i++) {\n\t\t\tif (k_cookieValue[i] !== \"\") {\n\t\t\t\tvar k_data = k_cookieValue[i];\n\t\t\t\tvar id = k_data.split(\"=\")[0];\n\t\t\t\tvar value = k_data.split(\"=\")[1];\n\t\t\t\tif (value === \"\") value = \"non renseigné\";\n\t\t\t\t// console.log('id ', id);\n\t\t\t\t//  console.log('value', value);\n\t\t\t\tKameleoon.API.Data.setCustomData(id, value);\n\t\t\t}\n\t\t}\n\t}\n\tvar cookieValue = decodeURIComponent(getCookieValue(\"visitor_context\"));\n\tsendObtainValue(cookieValue);\n\t// END Cookie\n\tvar cookieValue = decodeURIComponent(getCookieValue(\"visitor_context\"));\n\tcookieValue.split(\"$\").filter(function (key) {\n\t\tif (key !== \"\") {\n\t\t\tvar id = key.split(\"=\")[0];\n\t\t\tvar value = key.split(\"=\")[1];\n\t\t\tif (value === \"\") value = \"non renseigné\";\n\t\t\tif (id === \"codec\") {\n\t\t\t\tsendData(value);\n\t\t\t\treturn Kameleoon.API.Data.setCustomData(\"idclient\", value);\n\t\t\t} else if (id === \"codet\") {\n\t\t\t\treturn Kameleoon.API.Data.setCustomData(\"idEnttGrpe\", value);\n\t\t\t} else if (id === \"marche\") {\n\t\t\t\tif (value === \"0\" || value === \"01\" || value === \"101\") {\n\t\t\t\t\tvalue = \"particuliers\";\n\t\t\t\t} else if (value === \"1\" || value === \"02\" || value === \"102\") {\n\t\t\t\t\tvalue = \"professionnels\";\n\t\t\t\t} else if (value === \"2\" || value === \"03\" || value === \"201\") {\n\t\t\t\t\tvalue = \"entreprises\";\n\t\t\t\t} else if (value === \"3\" || value === \"04\") {\n\t\t\t\t\tvalue = \"banque privee\";\n\t\t\t\t} else if (value === \"202\") {\n\t\t\t\t\tvalue = \"economie sociale et institutionnels\";\n\t\t\t\t} else if (value === \"203\") {\n\t\t\t\t\tvalue = \"secteur public\";\n\t\t\t\t} else if (value === \"204\") {\n\t\t\t\t\tvalue = \"logement social et economies mixtes immobilières\";\n\t\t\t\t} else if (value === \"205\") {\n\t\t\t\t\tvalue = \"economies mixtes d'aménagement et de services\";\n\t\t\t\t} else if (value === \"206\") {\n\t\t\t\t\tvalue = \"immobilier professionnel\";\n\t\t\t\t} else if (value === \"207\") {\n\t\t\t\t\tvalue = \"organismes financiers et divers\";\n\t\t\t\t}\n\t\t\t\treturn Kameleoon.API.Data.setCustomData(\"clientsMarche\", value);\n\t\t\t} else {\n\t\t\t\treturn Kameleoon.API.Data.setCustomData(id, value);\n\t\t\t}\n\t\t}\n\t});\n} else {\n\tKameleoon.API.Data.setCustomData(\"CRM_BPCE\", \"no_visitor_context_cookie\");\n\tKameleoon.API.Data.setCustomData(\"BPCESegments\", \"no_visitor_context_cookie\");\n}\nKameleoon.API.Core.runWhenConditionTrue(\n\tfunction () {\n\t\treturn typeof window.datalayer !== \"undefined\" && (window.datalayer.pages || window.datalayer.page || window.datalayer[\"pages.pageName\"]);\n\t},\n\tfunction () {\n\t\tKameleoon.API.Core.runWhenConditionTrue(\n\t\t\tfunction () {\n\t\t\t\tif (window.datalayer.pages) {\n\t\t\t\t\treturn window.datalayer.pages.pageName;\n\t\t\t\t} else if (window.datalayer.page) {\n\t\t\t\t\treturn window.datalayer.page.pageName;\n\t\t\t\t} else {\n\t\t\t\t\treturn window.datalayer[\"pages.pageName\"];\n\t\t\t\t}\n\t\t\t},\n\t\t\tfunction () {\n\t\t\t\tobtainDatalayer();\n\t\t\t},\n\t\t\t200\n\t\t);\n\t},\n\t200\n);\nfunction obtainDatalayer() {\n\t// CUSTOM DATA BEGIN\n\tif (window.datalayer) {\n\t\tvar k_datalayer = window.datalayer;\n\t\tObject.keys(k_datalayer).map(function (category) {\n\t\t\tvar k_data = {};\n\t\t\tif (Object.keys(k_datalayer).length > 15) {\n\t\t\t\tif (Object.keys(category) && category.indexOf(\".\") !== -1) {\n\t\t\t\t\tk_data.category = category.split(\".\")[0];\n\t\t\t\t\tk_data.id = category.split(\".\")[1];\n\t\t\t\t\tk_data.value = k_datalayer[category];\n\t\t\t\t\tif (category !== \"client\" || category !== \"clients\") {\n\t\t\t\t\t\treturn checkData(k_data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn Object.keys(k_datalayer[category]).map(function (id) {\n\t\t\t\t\tk_data.category = category;\n\t\t\t\t\tk_data.id = id;\n\t\t\t\t\tk_data.value = k_datalayer[category][id];\n\t\t\t\t\tif (category !== \"client\" || category !== \"clients\") {\n\t\t\t\t\t\treturn checkData(k_data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n}\nif (window.datalayer) {\n\tobtainDatalayer();\n}\nfunction checkData(data) {\n\tvar k_customData = \"statut, espace, nom, applicationName, applicationType, CodeEnttGrpe, marche, pageName, pageType, univers, gamme, code\";\n\tif (k_customData.indexOf(data.id) !== -1 && data.value !== \"\") {\n\t\tif ((data.category === \"pages\" || data.category === \"page\") && data.id === \"marche\") {\n\t\t\tdata.id = \"pagesMarche\";\n\t\t\treturn Kameleoon.API.Data.setCustomData(data.id, data.value);\n\t\t} else {\n\t\t\treturn Kameleoon.API.Data.setCustomData(data.id, data.value);\n\t\t}\n\t}\n}\n//regional urls\n//console.log('regional urls');\nfunction getSitecodeData() {\n\tconst sitecode = Kameleoon.Internals.configuration.siteCode;\n\tconst server = \"https://customers.kameleoon.com/bpce/widget_urls/server.js\";\n\tconst xhr = new XMLHttpRequest();\n\txhr.open(\"POST\", server);\n\txhr.send(sitecode);\n\txhr.addEventListener(\"load\", () => {\n\t\tif (xhr.status === 200 && xhr.response) window.top.sitecodeData = xhr.response;\n\t});\n}\ngetSitecodeData();\n//end of regional urls\n\n\n\n/** SPA support : as the opening of the visitor menu changes the url, we had to implement a custom logic\n * /!\\ some SPA stuff is also implemented in the \"old\" widgets (more and more fun) and should be removed\n */\nif (/\\/espace-client/.test(window.location.href)) {\n  const registeredUrl = window.location.href;\n\tconst observer = new MutationObserver(function (mutations) {\n\t\tif (window.location.href !== registeredUrl && !/\\(contact\\:|\\(profil\\:/.test(window.location.href)) {\n\t\t\tobserver.disconnect();\n\t\t\tlog(\"SPA Custom\", `Redirecting to ${window.location.href}`, \"orange\");\n\t\t\tKameleoon.API.Core.load();\n\t\t}\n\t});\n\tconst config = { subtree: true, childList: true };\n\tobserver.observe(document, config);\n\n  // manages the case where there is a page change without changing the url \n  // for the \"compte\" page and the \"tous\" and \"personnaliser\" buttons\n  const compteButton = document.querySelector(\"#contractLarge-1\");\n  if( compteButton && compteButton.classList.contains(\"active-tab\") ) {\n    Kameleoon.API.Utils.addEventListener( compteButton, \"click\", e => {\n      Kameleoon.API.Core.load();\n    });\n  }\n}\nclass AutoPromoEngine {\n  constructor() {\n    this.sitesRegex = {\n      cyber: {\n        regExp: /cyber/,\n        pages: {\n          homepage: /accueil|do\\?token/i,\n          synthese: /compte/i,\n          telecommande: /profil/i,\n          infose: /operations/i,\n        },\n      },\n\t\t\tdpw: {\n\t\t\t\tregExp: /espace-client/,\n\t\t\t\tpages: {\n          compte: /compte\\/?(avance|simple)?\\/?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n\t\t\t\t\tassurance: /assurance:(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n\t\t\t\t\tsouscrire: { regExp: /(souscrire[_0-9]*(?!pro)$)/, url: /souscrire\\/offres(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i },\n\t\t\t\t\tsouscrire_pro: { regExp: /souscrire_pro/, url: /souscrire\\/offres-professionnelles(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i },\n\t\t\t\t\tdocuments: /documents(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n\t\t\t\t},\n\t\t\t},\n\n      pro: { regExp: /deipro|netpro\\d{3}/, maxWidgetCount: 1 },\n      part: { regExp: /deipart|net\\d{3}/, maxWidgetCount: 1 },\n      cenet: {\n        regExp: /cenet/,\n        pages: {\n          accounts: /comptesreleves|default\\.aspx$/i,\n          operations: /flux/i,\n          finance: /financements/i,\n          payment: /moyenspaiements/i,\n          login: /login/i,\n        },\n      },\n      /**\n       * regex\n       *  source\n       *    sousPage: (?:([a-zA-Z0-9-=&#\"]*)\\/?)\n       *    parametreURL: (?:$|\\?([a-zA-Z0-9-=&#\"]*))\n       *    bpEtablissement: (?:(cmgo|rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)\n       *    bpEspace: (?:(professionnels|entreprises|banque-privee)\\/)\n       *    ceEtablissement: (?:(aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)\n       *    ceEspace: (?:(particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel)\\/)\n       */\n      \n       nouveauPortailBP: {\n        regExp:\n          /banquepopulaire.fr\\/(?:(cmgo|cmmed|marze|bdp|rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?(?:(professionnels|entreprises|banque-privee|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n        pages: {\n          \"portailwp-hp-part\":\n            /banquepopulaire.fr\\/(?:(cmgo|cmmed|marze|bdp|rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-pro\": /professionnels\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-ent\": /entreprises\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-privee\": /banque-privee\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-votre-bq\": /votre-banque\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-page-int\":\n            /banquepopulaire.fr\\/(?:(cmgo|cmmed|marze|bdp|rivesparis|bpbfc|bpaca|bpaura|nord|mediterranee|bpalc|sud|bpgo|occitane|valdefrance)\\/)?(?:(professionnels|entreprises|banque-privee|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n        }\n      },\n      nouveauPortailCE: {\n        regExp:\n          /caisse-epargne.fr\\/(?:(aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?(?:(particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n        pages: {\n          \"portailwp-hp-part\":\n            /caisse-epargne\\.fr\\/(?:(aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-pro\": /professionnels\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-ent\": /entreprises\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-asso\": /associations-ess\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-pub\":\n            /secteur-public-logement-social\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-immo\":\n            /immobilier-professionnel\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-votre-bq\": /votre-banque\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-page-int\":\n            /caisse-epargne.fr\\/(?:(aquitaine\\-poitou\\-charentes|auvergne\\-limousin|bourgogne\\-franche\\-comte|bretagne\\-pays\\-de\\-loire|cote\\-d\\-azur|ile\\-de\\-france|languedoc\\-roussillon|loire\\-centre|loire\\-drome\\-ardeche|grand\\-est\\-europe|midi\\-pyrenees|hauts\\-de\\-france|normandie|cepac|rhone\\-alpes)\\/)?(?:(particuliers|professionnels|entreprises|associations-ess|secteur-public-logement-social|immobilier-professionnel|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n        },\n      },      \n      portailBTP: {\n        regExp:\n          /btp-banque\\.fr\\/?(?:(financements-specialises|groupement-momentane-dentreprises|institutionnels|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n        pages: {\n          \"portailwp-hp-ent\": /btp-banque\\.fr\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-institutionnels\":\n            /institutionnels\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-financements-specialises\":\n            /financements-specialises\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-groupement-entreprises\":\n            /groupement-momentane-dentreprises\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-votre-bq\": /votre-banque\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-page-int\":\n            /btp-banque\\.fr\\/?(?:(financements-specialises|groupement-momentane-dentreprises|institutionnels|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n        },\n      },\n      portailBCP: {\n        regExp:\n          /banquebcp\\.fr\\/?(?:(professionnels|entreprises|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n        pages: {\n          \"portailwp-hp-part\": /banquebcp\\.fr\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-pro\": /professionnels\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-ent\": /entreprises\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-votre-bq\": /votre-banque\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-page-int\":\n            /banquebcp\\.fr\\/?(?:(professionnels|entreprises|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n        },\n      },\n      \n      portailPalatine: {\n        regExp:\n          /palatine\\.fr\\/?(?:(professionnels-reglementes-immobilier|clients-prives|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n        pages: {\n          \"portailwp-hp-ent\": /palatine\\.fr\\/?(?:#?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-pro-immo\":\n            /professionnels-reglementes-immobilier\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-clients-privees\":\n            /clients-prives\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-votre-bq\": /votre-banque\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-dirigeants\": /dirigeants\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-page-int\":\n            /palatine\\.fr\\/?(?:(professionnels-reglementes-immobilier|clients-prives|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n        },\n      },\n      portailBQSAV: {\n        regExp:\n          /banque-de-savoie\\.fr\\/?(?:(professionnels|entreprises|banque-privee|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n        pages: {\n          \"portailwp-hp-part\":\n            /banque-de-savoie\\.fr\\/?(?:#?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-pro\": /professionnels\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-ent\": /entreprises\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-privee\": /banque-privee\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-hp-votre-bq\": /votre-banque\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n          \"portailwp-page-int\":\n            /banque-de-savoie\\.fr\\/?(?:(professionnels|entreprises|banque-privee|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/i,\n        },\n      },\n      portailCOOP: {\n        regExp:\n          /credit-cooperatif\\.coop\\/(?:(associations\\-ess|entreprises|secteur\\-public\\-logement\\-social|societariat|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n        pages: {\n          \"portailwp-hp-part\":\n            /credit-cooperatif.coop\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-votre-bq\": /votre-banque\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-asso\": /associations\\-ess\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-ent\": /entreprises\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-pub\":\n            /secteur\\-public\\-logement\\-social\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-hp-soc\": /societariat\\/?(?:#?)(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n          \"portailwp-page-int\":\n            /credit-cooperatif\\.coop\\/(?:(associations\\-ess|entreprises|secteur\\-public\\-logement\\-social|societariat|votre-banque)\\/)?(?:([a-zA-Z0-9-=&#\"]*)\\/?)?(?:$|\\?([a-zA-Z0-9-=&#\"]*))/,\n        },\n      },\n    };\n    this.currentWebsite = null;\n    this.currentPage = null;\n    this.availablePlaces = null;\n    this.personalizations = null;\n    this.specificRules = {\n      cyber: {\n        \"page_de_news\": {\n          // MUST be equal to UserData.widget_type (defined in user-interface.html)\n          specificRule_1: {\n            init: () => {\n              if (sessionStorage.getItem(\"lastDisplayTimePopin\") && Date.now() - sessionStorage.getItem(\"lastDisplayTimePopin\") < 1800000) {\n                return false;\n              }\n              sessionStorage.setItem(\"lastDisplayTimePopin\", Date.now());\n              return true;\n            },\n          },\n        },\n      },\n      dpw: {\n        //\"native_ad\": {\n        //  // MUST be equal to UserData.widget_type (defined in user-interface.html)\n        //  specificRule_1: {\n        //    nativeAddCounter: 0,\n        //    maxNativeAddNumber: 2,\n        //    init: function () {\n        //      const currentNativeAdCounter = this.nativeAddCounter;\n        //      this.nativeAddCounter++;\n        //      return currentNativeAdCounter < this.maxNativeAddNumber;\n        //    },\n        //  },\n        //},\n        \"page_de_news\": {\n          // MUST be equal to UserData.widget_type (defined in user-interface.html)\n          specificRule_1: {\n            init: () => {\n              if (window?.dpwData?.intersticielOuvert) {\n                sessionStorage.setItem(\"lastDisplayTimePopin\", Date.now());\n                return false;\n              }\n              if (\n                (sessionStorage.getItem(\"lastDisplayTimePopin\") && Date.now() - sessionStorage.getItem(\"lastDisplayTimePopin\") < 1800000) ||\n                !this.currentPage.match(/compte/) // SHOULD check all available pages and not only \"compte\"\n              ) {\n                return false;\n              }\n              sessionStorage.setItem(\"lastDisplayTimePopin\", Date.now());\n              return true;\n            },\n          },\n        },\n      },\n    };\n    this.adobeObject = {\n      \"vignette.liste\": \"\",\n      \"evenement.event\": \"event28\",\n      \"vignette.capping\": Kameleoon.API.CurrentVisit.customData[\"CRM_BPCE\"],\n    };\n    this.adobeCappedPerso = \"\";\n    this.userConsent = Kameleoon.API.Visitor.personalizationLegalConsent;\n    this.technicalPersonalizations = [];\n  }\n\n  obtainCustomFieldsFromPerso(perso) {\n    return perso?.associatedVariation?.instantiatedTemplate?.customFields &&\n      typeof perso.associatedVariation.instantiatedTemplate.customFields === \"string\"\n        ? JSON.parse(perso.associatedVariation.instantiatedTemplate.customFields)\n        : perso?.associatedVariation?.instantiatedTemplate?.customFields;\n  }\n\n  obtainCurrentWebsite() {\n    return Object.keys(this.sitesRegex).find((site) => {\n      return window.location.href.match(this.sitesRegex[site].regExp);\n    });\n  }\n\n  obtainCurrentPage() {\n    const pages = this.sitesRegex[this.currentWebsite].pages;\n    if (!pages) return null;\n    return Object.keys(pages).find(function (page) {\n      let regExp;\n      pages[page]?.url\n        ? regExp = new RegExp(pages[page].url)\n        : regExp = new RegExp(pages[page]);\n      return window.top.location.href.match(regExp);\n    });\n  }\n\n  obtainTechnicalPersonalizations() {\n    Kameleoon.Internals.runtime.personalizations.forEach(\n      (perso) =>\n        perso.technical && this.technicalPersonalizations.push(perso.id)\n    );\n  }\n\n  obtainSchedulingOptions(perso) {\n    return Kameleoon\n      .Internals.runtime.personalizations\n      .find( personalization => personalization.id === perso.id )\n      .scheduleItem;\n  }\n\n  obtainDisplayablePersonalizations() {\n    const displayCappingCD = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"];\n    const clickCappingCD = Kameleoon.API.CurrentVisit.customData[\"Autopromo Click Capping\"];\n\n    return Kameleoon.API.Personalizations.getAll()\n      .filter((personalization) => {\n        // Filter Autopromo personalizations\n        const isAutoPromo = this.obtainCustomFieldsFromPerso(personalization)?.type?.toLowerCase() === \"autopromo\";\n        if (!isAutoPromo) return;\n        if (!this.currentPage) return;\n        const isCurrentSiteOk = this.obtainCustomFieldsFromPerso(personalization)[ \"position_\" + this.currentWebsite ];\n        const isTargeted = isCurrentSiteOk && Kameleoon.API.Segments.reevaluate(personalization.targetSegment.id);\n        if (!isTargeted) return;\n        if (!this.userConsent && !this.technicalPersonalizations.includes(personalization.id)) return;\n\n        // Filter uncapped personalizations\n        const displayCapping = (displayCappingCD &&\n          displayCappingCD.find(function (item) {\n            return item.value === personalization.id.toString();\n          })) || { value: personalization.id.toString(), count: 0 };\n\n        const clickCapping = (clickCappingCD &&\n          clickCappingCD.find(function (item) {\n            return item.value === personalization.id.toString();\n          })) || { value: personalization.id.toString(), count: 0 };\n\n        const persoCapping = {\n          display: parseInt(this.obtainCustomFieldsFromPerso(personalization).displayCapping || \"9999999999999\", 10),\n          click: parseInt(this.obtainCustomFieldsFromPerso(personalization).clickCapping || \"9999999999999\", 10),\n        };\n\n        // Filter based on scheduling configuration\n        const isScheduledToBeDisplayed = this.checkScheduling( personalization );\n\n        // Filter based on custom rules\n        const isDisplayableWithSpecificRules = this.checkSpecificRules( personalization );\n\n        return (\n          isTargeted &&\n          isDisplayableWithSpecificRules &&\n          isScheduledToBeDisplayed &&\n          displayCapping.count < persoCapping.display &&\n          clickCapping.count < persoCapping.click\n        );\n      })\n      .sort((a, b) => {\n        // Order by priority;\n        const priorityA = parseInt(\n          this.obtainCustomFieldsFromPerso(a).priority || \"0\",\n          10\n        );\n        const priorityB = parseInt(\n          this.obtainCustomFieldsFromPerso(b).priority || \"0\",\n          10\n        );\n        if (priorityA === priorityB) {\n          const dateLaunchedA = parseInt(\n            this.obtainCustomFieldsFromPerso(a).dateLaunched,\n            10\n          );\n          const dateLaunchedB = parseInt(\n            this.obtainCustomFieldsFromPerso(b).dateLaunched,\n            10\n          );\n          return dateLaunchedA - dateLaunchedB;\n        } else return priorityB - priorityA;\n      });\n  }\n  obtainPersonalizationForAvailablePlaces() {\n    const places = [];\n    const filteredPersonalizations = [];\n    const maxWidgetCount = this.sitesRegex[this.currentWebsite].maxWidgetCount;\n\n    /** this part is relative to native ad only and should be out of this function  */\n    let nativeAddCounter = 0;\n    const maxNativeAddNumber = 2;\n\n    log(\"Autopromo Personalizations targeted \", this.personalizations);\n    for (let i = 0; i < this.personalizations.length; i++) {\n      const personalization = this.personalizations[i];\n      let personalizationPositions = [];\n      personalizationPositions.push(this.obtainCustomFieldsFromPerso(personalization)[ \"position_\" + this.currentWebsite ] ?? \"\");\n      personalizationPositions = personalizationPositions.flat(2);\n      if (maxWidgetCount && places.length >= maxWidgetCount) break;\n\n      for (let j = 0; j < personalizationPositions.length; j++) {\n        const position = personalizationPositions[j];\n        let page = this.sitesRegex[this.currentWebsite].pages[this.currentPage], regExp;\n        page?.regExp \n          ? regExp = new RegExp(page.regExp)\n          : regExp = this.currentPage;\n        if (position.match(regExp) && !places.includes(position)) {\n          \n          /** this part is relative to native ad only and should be out of this function  */\n          if( this.obtainCustomFieldsFromPerso(personalization).widget_type === \"native_ad\" ) {\n            nativeAddCounter++;\n            if( nativeAddCounter > maxNativeAddNumber ) break;\n          }\n\n          personalization.associatedVariation.instantiatedTemplate.customFields.actualPosition = position;\n          filteredPersonalizations.push(personalization);\n          places.push(position);\n          break;\n        }\n      }\n    }\n    return filteredPersonalizations;\n  }\n  obtainTargetedPersonalizations() {\n    return this.personalizations.filter((perso) =>\n      Kameleoon.API.Segments.reevaluate(perso.targetSegment.id)\n    );\n  }\n\n  /**\n   * @returns {Boolean} custom rules check\n   */\n  checkSpecificRules( personalization ) {\n    if(\n      !this.specificRules ||\n      !this.specificRules[ this.currentWebsite ] ||\n      !this.specificRules[ this.currentWebsite ][ this.obtainCustomFieldsFromPerso(personalization).widget_type ]\n    ) return true // no custom rule to apply, check passed \n    return !!Object.values(\n      this.specificRules\n      [ this.currentWebsite ]\n      [ this.obtainCustomFieldsFromPerso(personalization).widget_type ])\n      .map( rule => rule.init() )\n      .every( check => check );\n  }\n\n  /**\n   * @returns {Boolean} \n   */\n   checkScheduling( personalization ) {    \n    /** retrieve informations about scheduling from runtime */\n    const schedules = this.obtainSchedulingOptions( personalization );\n    if( schedules.length === 0 ) return true; // no schedules => we pass the test\n    return !!schedules.filter( schedule => {\n      const now = new Date();\n      const start = schedule.dateStart !== null ? new Date(schedule.dateStart) : 0;\n      const end = schedule.dateEnd !== null ? new Date(schedule.dateEnd) : 0;\n      const options = schedule.scheduleItemOptions;\n      if(\n         now >= start && (now < end || end === 0)\n \n      ) {\n        if( options == null || options.length == 0 ) return true;\n        return !!options.filter( option => { \n          const getDays = ( d ) => { \n            d = String(d).toLowerCase();\n            switch( d ) {\n            case 'everyday': return [0,1,2,3,4,5,6];\n            case 'weekend': return [0,6];\n            case 'week': return [1,2,3,4,5];\n            case 'monday': return [1];\n            case 'tuesday': return [2];\n            case 'wednesday': return [3];\n            case 'thursday': return [4];\n            case 'friday': return [5];\n            case 'saturday': return [6];\n            case 'sunday': return [0];\n            defaut: return [];\n            }\n          };\n          const days = getDays( option.daysOfWeekForShow );  \n          if( !days.includes( now.getDay() )) return false;\n          const timeSlotStart = new Date( now.getFullYear(), now.getMonth(), now.getDate(), option.hoursStart, option.minutesStart, option.secondsStart );\n          const timeSlotEnd = new Date( now.getFullYear(), now.getMonth(), now.getDate(), option.hoursEnd, option.minutesEnd, option.secondsEnd );\n          if( now < timeSlotStart || now >= timeSlotEnd ) return false;\n          return true;\n        }).length;\n      }\n      return false;\n    }).length;\n  }\n\n  /**\n   * handle id mismatch error for metasite personalizations\n   */\n  updatePersonalizationsId() {\n    this.personalizations.forEach( personalization => {\n      personalization.associatedVariation.instantiatedTemplate.customFields.id = personalization.id;\n    });\n  }\n\n  extractDataForAdobeCall( persoData ) {\n    const {\n      id,\n      category,\n      priority,\n      displayCapping,\n      clickCapping,\n      campaign_type,\n      actualPosition,\n    } = persoData.associatedVariation.instantiatedTemplate.customFields;\n    const { name } = persoData;\n    const { name: segment } = persoData.targetSegment;\n    return `[${name}]|[${id}]|[${category}]|[${actualPosition}]|[${priority}]|[${displayCapping}]|[${clickCapping}]|[${campaign_type}]|[${segment}];`;\n  }\n\n  persoHasCapped(perso) {\n    const { id: persoTemplateId, displayCapping } =\n      perso.associatedVariation.instantiatedTemplate.customFields;\n    const displayedTimes = Kameleoon.API.CurrentVisit.customData[\"Autopromo Display Capping\"]\n      ?.filter((cd) => parseInt(cd.value, 10) === persoTemplateId)?.[0]\n      ?.count.toString();\n    return displayedTimes && displayedTimes === displayCapping;\n  }\n\n  sendAdobeDisplayHit() {\n    const self = this;\n\n    // count the number of \"page_de_news\" personalizations in this.personalizations\n    let countNews = 0;\n\n    /** Save data for adobe */\n    this.personalizations.forEach( personalization => {\n      const extractedPersoData = self.extractDataForAdobeCall(\n        personalization,\n        self.currentPage\n      );\n      if( this.obtainCustomFieldsFromPerso(personalization).widget_type === \"page_de_news\" ) {\n        countNews += 1;\n          return;\n      }\n      self.adobeObject[\"vignette.liste\"] += extractedPersoData;\n      if (self.persoHasCapped(personalization))\n        self.adobeCappedPerso += extractedPersoData;\n    });\n\n    // All personalizations are \"page_de_news\" type so do not send any adobe calls\n    if( countNews === this.personalizations.length ) return;\n\n    const w = self.currentWebsite === \"cyber\" ? window.top : window;\n    Kameleoon.API.Core.runWhenConditionTrue(\n      () => w.utag && w.datalayer && w.utag_data,\n      () => {\n        Object.assign(self.adobeObject, w.datalayer, w.utag_data);\n        log(\"Sending Adobe display\", self.adobeObject, \"orange\");\n        w.utag.link(self.adobeObject);\n        if (self.adobeCappedPerso.length) {\n          //send another hit with the capped persos\n          self.adobeObject[\"vignette.liste\"] = self.adobeCappedPerso;\n          self.adobeObject[\"evenement.event\"] = \"event40\";\n          log(\"Sending Adobe Capped perso\", self.adobeObject, \"crimson\");\n          w.utag.link(self.adobeObject);\n        }\n      }\n    );\n  }\n\n  triggerPersonalizations() {\n    // triggers Personalizations from available places\n    const self = this;\n    window.kameleoonAutopromoPerso = { currentPage: this.currentPage };\n    this.personalizations.forEach(function (personalization) {\n      if (\n        self.currentWebsite === \"cyber\" &&\n        !document.querySelector('[id^=\"kam_lame_\"]')\n      ) {\n        /* splice that personalization to avoid to send AA display call thereafter */\n        self.personalizations = self.personalizations.splice(personalization.id, 1);\n        return;\n      }\n\n      log(\"Triggered personalization\", personalization, \"#B4D455\");\n\n      /** Save data for codeToBeRun */\n      const { id: idFromUserData, actualPosition } = personalization.associatedVariation.instantiatedTemplate.customFields;\n      window.kameleoonAutopromoPerso[`${idFromUserData}`] = {\n        name: personalization.name,\n        segmentName: personalization.targetSegment.name,\n        actualPosition\n      };\n      /** Triggering */\n      Kameleoon.API.Data.setCustomData(\n        \"Autopromo Display Capping\",\n        personalization.id\n      );\n      Kameleoon.API.Personalizations.trigger(personalization.id);\n    });\n  }\n\n  init() {\n    log(\"Autopromo Engine\", \"Initializing V2\", \"crimson\");\n    log(\"Sitecode\", Kameleoon.Internals.configuration.siteCode, \"seagreen\");\n    this.currentWebsite = this.obtainCurrentWebsite();\n    log(\"Current Website\", this.currentWebsite);\n    if (!this.currentWebsite) return;\n    if (\n      this.currentWebsite === \"cyber\" &&\n      window.name !== \"applicationPanel\" &&\n      window.name !== \"applicationPortalContent\"\n    )\n      return;\n    this.currentPage = this.obtainCurrentPage(); //maxWidgetCount ?????\n    log(\"Current Page\", this.currentPage);\n    if (!this.userConsent) this.obtainTechnicalPersonalizations();\n    this.personalizations = this.obtainDisplayablePersonalizations();\n    this.personalizations = this.obtainPersonalizationForAvailablePlaces();\n    log(\"Personalizations to trigger\", this.personalizations);\n\n    if (this.personalizations.length) {\n      this.updatePersonalizationsId(); // handle id mismatch error for metasite personalizations\n      this.triggerPersonalizations();\n      this.sendAdobeDisplayHit();\n    }\n  }\n}\n\nconst autoPromoEngine = new AutoPromoEngine();\nKameleoon.API.Core.runWhenConditionTrue(\n  function () {\n    return (\n      (Kameleoon.API.CurrentVisit.customData[\"CRM_BPCE\"] ||\n        Kameleoon.API.CurrentVisit.customData[\"CRM_BPCE\"] === \"\") &&\n      window.datalayer &&\n      (window.datalayer.pages ||\n        window.datalayer.page ||\n        window.datalayer[\"pages.pageName\"])\n    );\n  },\n  function () {\n    autoPromoEngine.init();\n  }\n);;\ntry {var kameleoonEventsTracker = [];var createEventTracking=function(elements,goal){ var kameleoonEventTrackerCallback=function(event){ if(!Kameleoon.Internals.runtime.touchMoveEvent ){ Kameleoon.API.Goals.processConversion(goal.id); } }; for (var i=0; i < elements.length; ++i){ Kameleoon.Utils.addEventListener(elements[i], Kameleoon.Internals.runtime.mouseDownEvent, kameleoonEventTrackerCallback, true); }}; var kameleoonIntervalId = Kameleoon.Utils.setInterval(function () { for (var i = kameleoonEventsTracker.length - 1; i >= 0; --i) { var elements = Kameleoon.Utils.querySelectorAll(kameleoonEventsTracker[i].selector); if (elements.length > 0) { createEventTracking(elements, kameleoonEventsTracker[i]); kameleoonEventsTracker.splice(i, 1); } } if (kameleoonEventsTracker.length == 0) { window.clearInterval(kameleoonIntervalId); } }, 250);} catch (exception) { console.log('An error occurred in your custom JavaScript Kameleoon tracking function, please check your code.'); console.log(exception, exception.message); }","wideEngineSupport":true,"enableHistoryReconciliation":true,"track":true,"ip":true,"trackerExcludedIPRanges":[],"Gatherer":"eyJtYXhWaXNpdElkbGVEdXJhdGlvbiI6MTgwMDAwMCwiZW5hYmxlSW1hZ2VzRGV0ZWN0aW9uQ2FjaGVUaW1lb3V0Q29tcHV0YXRpb24iOmZhbHNlLCJkaXJlY3ROb25lUmVmZXJyZXJPbmx5Rmlyc3QiOmZhbHNlLCJjdXN0b21TY3JpcHRCZWZvcmUiOiIiLCJpbnRlcmVzdHMiOnt9LCJpbnRlcmVzdHNJbWFnZXNMaXN0cyI6W10sImludGVyZXN0c0ltYWdlc0xpc3RzRmlsZVVybCI6bnVsbCwiYnJvd3NlcnMiOnsiMCI6eyJuYW1lIjoiQ0hST01FIn0sIjEiOnsibmFtZSI6IkVYUExPUkVSIn0sIjIiOnsibmFtZSI6IkZJUkVGT1gifSwiMyI6eyJuYW1lIjoiU0FGQVJJIn0sIjQiOnsibmFtZSI6Ik9QRVJBIn19LCJvc3MiOnsiMCI6eyJuYW1lIjoiV0lORE9XUyJ9LCIxIjp7Im5hbWUiOiJNQUMifSwiMiI6eyJuYW1lIjoiSU9TIn0sIjMiOnsibmFtZSI6IkxJTlVYIn0sIjQiOnsibmFtZSI6IkFORFJPSUQifSwiNSI6eyJuYW1lIjoiV0lORE9XUyBQSE9ORSJ9fSwibm9SZWZlcnJlclBhZ2VzIjpbXSwicmVmZXJyZXJzIjp7IjAiOnsibmFtZSI6Ikdvb2dsZSBBZFdvcmRzIiwicHJpb3JpdHkiOjAsImRldGVjdGlvbnMiOlt7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlJFRkVSUkVSX1JFR0VYIiwiYW5kIjpmYWxzZSwiYW5kUGFyYW1ldGVycyI6IiIsInBhcmFtZXRlcnMiOiJeLitcXC5nb29nbGUoXFwuY29tPyk/XFwuW14vXFwuXSsvYWNsayhbXFw/JiNdLip8KSQifSx7ImFuZE1ldGhvZCI6IiIsIm1ldGhvZCI6IlVSTF9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiW1xcPyYjXWdjbGlkPSJ9XX0sIjEiOnsibmFtZSI6Ikdvb2dsZSBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuZ29vZ2xlKFxcLmNvbT8pP1xcLlteL1xcLl0rLyg/IWFjbGt8aW1ncmVzKS4qW1xcPyYjXXE9LiooW1xcPyYjXS4qfCkkIn0seyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuZ29vZ2xlKFxcLmNvbT8pP1xcLlteL1xcLl0rLz8kIn1dfSwiMiI6eyJuYW1lIjoiQmluZyBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuYmluZ1xcLlteL1xcLl0rLy4qW1xcPyYjXXE9LiooW1xcPyYjXS4qfCkkIn1dfSwiMyI6eyJuYW1lIjoiWWFob28gT3JnYW5pYyBTZWFyY2giLCJwcmlvcml0eSI6MCwiZGV0ZWN0aW9ucyI6W3siYW5kTWV0aG9kIjoiIiwibWV0aG9kIjoiUkVGRVJSRVJfUkVHRVgiLCJhbmQiOmZhbHNlLCJhbmRQYXJhbWV0ZXJzIjoiIiwicGFyYW1ldGVycyI6Il4uK1xcLnlhaG9vXFwuW14vXFwuXSsvLipbXFw/JiNdcD0uKihbXFw/JiNdLip8KSQifV19LCI0Ijp7Im5hbWUiOiJCYWlkdSBPcmdhbmljIFNlYXJjaCIsInByaW9yaXR5IjowLCJkZXRlY3Rpb25zIjpbeyJhbmRNZXRob2QiOiIiLCJtZXRob2QiOiJSRUZFUlJFUl9SRUdFWCIsImFuZCI6ZmFsc2UsImFuZFBhcmFtZXRlcnMiOiIiLCJwYXJhbWV0ZXJzIjoiXi4rXFwuYmFpZHVcXC5bXi9cXC5dKy8uKltcXD8mI113ZD0uKihbXFw/JiNdLip8KSQifV19fSwia2V5UGFnZXMiOnt9LCJrZXlXb3JkcyI6W10sImN1c3RvbURhdGEiOnsiMSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoic3RhdHV0IiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCIyIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJ1bml2ZXJzIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCIzIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJwYWdlc01hcmNoZSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUifSwiNSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoicGFnZU5hbWUiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIn0sIjYiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6InBhZ2VUeXBlIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCI3Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJnYW1tZSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUifSwiOCI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiZXNwYWNlIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCI5Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJDb2RlRW50dEdycGUiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIn0sIjEwIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJhcHBsaWNhdGlvblR5cGUiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIn0sIjExIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJjbGllbnRzTWFyY2hlIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCIxMiI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiQlBDRVNlZ21lbnRzIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJWSVNJVCIsInR5cGUiOiJVTklRVUUifSwiMTMiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6Im1hcmNoZSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUifSwiMTQiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImFwcGxpY2F0aW9uTmFtZSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUifSwiMTUiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImlkRW50dEdycGUiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIn0sIjE2Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJjb2RlIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCIxNyI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoibm9tIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCIyMCI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiQXV0b3Byb21vIERpc3BsYXkgQ2FwcGluZyIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiVklTSVRPUiIsInR5cGUiOiJDT1VOVF9MSVNUIiwibG9jYWxPbmx5Ijp0cnVlfSwiMjEiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6IkNSTV9CUENFIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSIsImxvY2FsT25seSI6dHJ1ZX0sIjIyIjp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJBdXRvcHJvbW8gQ2xpY2sgQ2FwcGluZyIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiVklTSVRPUiIsInR5cGUiOiJDT1VOVF9MSVNUIiwibG9jYWxPbmx5Ijp0cnVlfSwiMjMiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImRyZWwiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMjQiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImNhc2QiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMjUiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImNuYSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCIyNiI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiYmR5IiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSIsImxvY2FsT25seSI6dHJ1ZX0sIjI3Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJzcGFydCIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCIyOCI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoic3BybyIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCIyOSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiZXBhcnQiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMzAiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImVwcm8iLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMzEiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImFzc2EiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMzIiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImFzc2giLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMzMiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImNkZCIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCIzNCI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiY2N0eCIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCIzNSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiY2NlIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSIsImxvY2FsT25seSI6dHJ1ZX0sIjM2Ijp7Im1ldGhvZCI6IkNMSUVOVCIsIm5hbWUiOiJjY2EiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMzciOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImNjdHMiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiMzgiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6ImNpbSIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCIzOSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiY3BybyIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCI0MCI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiYXNzdiIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUiLCJsb2NhbE9ubHkiOnRydWV9LCI0MSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoiaWRjbGllbnQiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlZJU0lUIiwidHlwZSI6IlVOSVFVRSJ9LCI0MiI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoic2p1ciIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUifSwiNDMiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6InNwYXJ0MiIsIm51bWJlclZhbHVlcyI6LTEsInNjb3BlIjoiUEFHRSIsInR5cGUiOiJVTklRVUUifSwiNDQiOnsibWV0aG9kIjoiQ0xJRU5UIiwibmFtZSI6InNwYXJ0MnJiIiwibnVtYmVyVmFsdWVzIjotMSwic2NvcGUiOiJQQUdFIiwidHlwZSI6IlVOSVFVRSJ9LCI0NSI6eyJtZXRob2QiOiJDTElFTlQiLCJuYW1lIjoic3BybzIiLCJudW1iZXJWYWx1ZXMiOi0xLCJzY29wZSI6IlBBR0UiLCJ0eXBlIjoiVU5JUVVFIiwibG9jYWxPbmx5Ijp0cnVlfSwiNDYiOnsibWV0aG9kIjoiQ1VTVE9NX0NPREUiLCJuYW1lIjoiQUNDRVNfRFBXIiwibnVtYmVyVmFsdWVzIjowLCJzY29wZSI6IlZJU0lUT1IiLCJ0eXBlIjoiVU5JUVVFIiwiY3VzdG9tRXZhbENvZGUiOiJpZiAod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJBQ0NFU19EUFdcIikgfHwgIS9lc3BhY2VcXC1jbGllbnQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKSByZXR1cm4geyB2YWx1ZTogbnVsbCB9O1xud2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJBQ0NFU19EUFdcIiwgdHJ1ZSk7XG52YXIgdmlzaXROdW1iZXIgPSBwYXJzZUludChLYW1lbGVvb24uQVBJLlZpc2l0b3IuY3VzdG9tRGF0YVtcIkFDQ0VTX0RQV1wiXSwgMTApIHx8wqAwO1xucmV0dXJuIHsgdmFsdWU6IHZpc2l0TnVtYmVyICsgMSwgb3ZlcndyaXRlOiB0cnVlIH07In19fQ=="}};
})();if (window.kameleoonLightIframe){if (window.kameleoonExternalIFrameLoadedData) { eval(window.kameleoonExternalIFrameLoadedData); Kameleoon.Analyst.load();}}else{Kameleoon.Analyst.load();}}